<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="content-type"
 content="text/html; charset=ISO-8859-1">
  <title>Visual Styles</title>
</head>
<body>
<h1 class="western">Visual Styles</h1>
With the Cytoscape Visual Style feature, you can
easily customize the visual appearance of your network. For example,
you can specify a default color and shape for all nodes, use specific
line types to indicate different types of interactions, or visualize
gene expression data using a color gradient. All these features are
available by selecting Visualization => Set Visual Properties from the main menu or clicking on the color
wheel in the main button bar menu.
<h2 class="western">Introduction to Visual Styles</h2>
The Cytoscape distribution you have downloaded automatically loads
several predefined visual styles to get you started when you start
Cytoscape by using one of the “cytoscape.sh” or “cytoscape.bat” scripts.
To demonstrate these styles, try out the following example:
<ol>
  <li> Load a sample network: From the
main menu, select File => Graph, and select
sampleData/galFiltered.sif. </li>
<li>Layout the network: select Layout->yFiles->Organic.</li>
  <li>Load a sample set of expression
data: From the main menu, select File => Load => Expression Matrix File, and
select sampleData/galExpData.pvals.</li>
</ol>
By default, the Visual Style labeled
"default" will be automatically applied to your network. This
default style has a blue background, circular pink nodes, and blue
edges (see sample screenshot below).
<p class="western" align="center"><img
 src="images/Cytoscape2_0Manual_html_51c363a2.png" name="Graphic16"
 align="bottom" border="0"></p>
<p class="western" align="center"><font size="2" style="font-size: 9pt;">Figure:
Using the default Visual Style.</font></p>
<p class="western" align="left"><font size="2"><b>The vizmap.props
File:</font></b>
All Cytoscape Visual Style settings are automatically loaded from a file called vizmap.props. The location of this file can be specified from the command line (-vp). If it is not specified through the command line, then Cytoscape looks for this file in the user’s home directory (in the ".cytoscape" directory). If you start Cytoscape for the first time, and you do not start it using one of the start-up scripts (cytoscape.sh or cytoscape.bat), then, a very simple visual style will be automatically created. When you exit Cytoscape, any modifications you made to the visual styles, and any new visual styles you created, are automatically saved to the originally loaded vizmap.props file in the .cytoscape directory in the user’s home directory.
</p>
<p>
<p class="western" align="left"><b><font size="4">[!]</font><font
 size="2"> If you are upgrading from Cytoscape 2.1:</font></b>
 If you are upgrading from Cytoscape 2.1, you may want to use your vizmap.props file that is located in your home directory, since this file was used in 2.1 to store visual styles. To do this, you can either specify its location in the command line (edit cytoscape.sh or cytoscape.bat), or copy the file to the .cytoscape directory  located in your home directory (on Windows XP, this is the “Documents and Settings” directory, on Linux or Mac this is your home directory, for example, /Users/iavila, or ~/).
 </p>
<br>
You can flip through different visual styles by
making a selection from the Visual Style pull down menu. For
example, if you select "Sample1", a new visual style will be
applied to your network, and you will see a green background and
round blue nodes. Additionally, protein-DNA interactions (specified
with the label: pd) are drawn with dashed edges, whereas
protein-protein interactions (specified with the label: pp) are drawn
with a light yellow color which is difficult to discern on
the green background (see sample screenshot below). The background
can be changed through the Visualization menu.
<p class="western" align="center"><img
 src="images/Cytoscape2_0Manual_html_m405747fe.png" name="Graphic17"
 align="bottom" border="0"></p>
<p class="western" align="center"><font size="2" style="font-size: 9pt;">Figure:
Using the Sample1 Visual Style. Protein-Protein interactions (solid
lines) are now distinguishable from Protein-DNA interactions (dashed
lines).</font></p>
<br>
Finally, if you select "Sample2",
gene expression values for each node will be colored along a color
gradient between red and green (where red represents a low expression
ratio, and green represents a high expression ratio - with thresholds
set for the gal1RGexp experiment bundled with Cytoscape in the
sampleData/galExpData.pvals file). See sample screenshot below:
<p class="western" align="center"><img
 src="images/Cytoscape2_0Manual_html_54c80f32.png" name="Graphic18"
 align="bottom" border="0"></p>
<p class="western" align="center"><font size="2" style="font-size: 9pt;">Figure:
Using the Sample2 Visual Style. Gene expression values are now
displayed along a red/green color gradient.</font></p>
<h2 class="western">Visual Attributes, Graph Attributes and
Visual Mappers</h2>
The Cytoscape Visual Mapper has
three core components: <i>visual attributes, network attributes </i>and
<i>visual mappers</i>:
<ol>
  <li>A <i>visual attribute</i> is
any visual setting that can be applied to your network. For example,
you can change all nodes to squares by setting the node shape visual
attribute.</li>
  <li>A <i>network attribute</i> is any
attribute associated with a node or an edge. For example, each edge in
a network may be associated with a label, such as "pd" (protein-DNA
interactions), or "pp" (protein-protein interactions).</li>
  <li>A <i>visual mapper</i> maps
network attributes to visual attributes. For example, a visual mapper can
map all protein-DNA interactions to the color blue, and all
protein-protein interactions to the color red.</li>
</ol>
Cytoscape includes a large number of
visual attributes. These are summarized in the tables below.<br>
<br>
<center>
<table width="588" border="1" bordercolor="#000000" cellpadding="8"
 cellspacing="0">
  <col width="570"> <tbody>
    <tr>
      <td width="570" valign="top" bgcolor="#ffffff">
      <p class="western" align="left"><b>Visual Attributes Associated
with Nodes:</b></p>
      </td>
    </tr>
    <tr>
      <td width="570" valign="top"> <br>
Node Color<br>
      <br>
Node Border Color<br>
      <br>
Node Border Type. The
following options are available:<br>
      <img src="images/Cytoscape2_0Manual_html_60959366.jpg"
 name="Graphic19" align="bottom" border="0"><br>
      <br>
Node Shape. The following
options are available:<br>
      <img src="images/Cytoscape2_0Manual_html_m6dd4f5e0.jpg"
 name="Graphic20" align="bottom" border="0"><br>
      <br>
Node Size: width and height
of each node.<br>
      <br>
Node Label: the text label
for each node.<br>
      <br>
Node Font: node
font and size. </td>
    </tr>
  </tbody>
</table>
</center>
<p class="western" align="left"><br>
</p>
<center>
<table width="588" border="1" bordercolor="#000000" cellpadding="8"
 cellspacing="0">
  <col width="570"> <tbody>
    <tr>
      <td width="570" valign="top" bgcolor="#ffffff">
      <p class="western" align="left"><b>Visual Attributes Associated
with Edges:</b></p>
      </td>
    </tr>
    <tr>
      <td width="570" valign="top">Edge Color<br>
      <br>
Edge Line Type. The following
options are available:<br>
      <img src="images/Cytoscape2_0Manual_html_60959366.jpg"
 name="Graphic21" align="bottom" border="0"><br>
      <br>
Edge Source Arrow. The
following options are available:<br>
      <img src="images/Cytoscape2_0Manual_html_58ca4693.jpg"
 name="Graphic22" align="bottom" border="0"><br>
      <br>
Edge Target Arrow. The
following options are available:<br>
      <img src="images/Cytoscape2_0Manual_html_58ca4693.jpg"
 name="Graphic23" align="bottom" border="0"><br>
      <br>
Edge Label: the text label
for each edge.<br>
      <br>
Edge Font: edge font and size. </td>
    </tr>
  </tbody>
</table>
</center>
<p class="western" align="left"><br>
</p>
<center>
<table width="588" border="1" bordercolor="#000000" cellpadding="8"
 cellspacing="0">
  <col width="570"> <tbody>
    <tr>
      <td width="570" valign="top" bgcolor="#ffffff">
      <p class="western" align="left"><b>Global Visual Properties:</b></p>
      </td>
    </tr>
    <tr>
      <td width="570" valign="top">Background Color </td>
    </tr>
  </tbody>
</table>
</center>
<p class="western" align="left"><br>
</p>
For each visual attribute, you can
specify a default value or define a visual mapping. Cytoscape
currently supports three different types of visual mappers:
<br>
<ol>
  <li><b>Passthrough Mapper:</b> network
attributes are passed directly through to visual attributes. A
passthrough mapper only works for node / edge labels. For example, a
passthrough mapper can draw the common gene name on all nodes. </li>
  <li><b>Discrete Mapper:</b> discrete
network attributes are mapped to discrete visual attributes. For example,
a discrete mapper can map all protein-protein interactions to the color
blue. </li>
  <li><b>Continuous Mapper</b>:
continuous graph attributes are mapped to visual attributes. Depending
on the visual attribute, there are two types of continuous mappers: </li>
</ol>
<ul>
  <ul>
    <li> <b>continuous to continuous mapper</b>:
for example, you can map a continuous value (0..1) to a continuous color gradient
(red..green) or node/font size (10..100). </li>
    <li> <b>continuous to discrete mapper</b>:
for example, all values below 0 are mapped to square nodes, and all
values above 0 are mapped to circular nodes. However, there is no way
to smoothly morph between circular nodes and square nodes. </li>
  </ul>
</ul>
The matrix below shows visual mapper
support for each visual property.<br>
<br>
<center>
             <table border="1" cellspacing="0" cellpadding="0">
               <tr>
                 <td width="163" valign="top">
                   <p>
                      
                   </p>
                 </td>
                 <td width="48" valign="top">
                   <p>
                     Passthrough Mapper
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     Discrete Mapper
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     Continuous Mapper
                   </p>
                 </td>
               </tr>
               <tr>
                 <td width="163" valign="top">
                   <h4>
                     Node Properties
                   </h4>
                 </td>
                 <td width="48" valign="top">
                   <p>
                      
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                      
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                      
                   </p>
                 </td>
               </tr>
               <tr>
                 <td width="163" valign="top">
                   <p>
                      Node Color
                   </p>
                 </td>
                 <td width="48" valign="top">
                   <p>
                      -
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     X
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     X
                   </p>
                 </td>
               </tr>
               <tr>
                 <td width="163" valign="top">
                   <p>
                      Node Border Color
                   </p>
                 </td>
                 <td width="48" valign="top">
                   <p>
                      -
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     X
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     X
                   </p>
                 </td>
               </tr>
               <tr>
                 <td width="163" valign="top">
                   <p>
                      Node Border Type
                   </p>
                 </td>
                 <td width="48" valign="top">
                   <p>
                      -
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     X
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     o
                   </p>
                 </td>
               </tr>
               <tr>
                 <td width="163" valign="top">
                   <p>
                      Node Shape
                   </p>
                 </td>
                 <td width="48" valign="top">
                   <p>
                      -
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     X
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     o
                   </p>
                 </td>
               </tr>
               <tr>
                 <td width="163" valign="top">
                   <p>
                      Node Size
                   </p>
                 </td>
                 <td width="48" valign="top">
                   <p>
                      -
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     X
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     X
                   </p>
                 </td>
               </tr>
               <tr>
                 <td width="163" valign="top">
                   <p>
                      Node Label
                   </p>
                 </td>
                 <td width="48" valign="top">
                   <p>
                     X
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     X
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     o
                   </p>
                 </td>
               </tr>
               <tr>
                 <td width="163" valign="top">
                   <p>
                      Node Font Family
                   </p>
                 </td>
                 <td width="48" valign="top">
                   <p>
                      -
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     X
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     o
                   </p>
                 </td>
               </tr>
               <tr>
                 <td width="163" valign="top">
                   <p>
                      Node Font Size
                   </p>
                 </td>
                 <td width="48" valign="top">
                   <p>
                      -
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     X
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     X
                   </p>
                 </td>
               </tr>
               <tr>
                 <td width="163" valign="top">
                   <h4>
                     Edge Properties
                   </h4>
                 </td>
                 <td width="48" valign="top">
                   <p>
                      
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                      
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                      
                   </p>
                 </td>
               </tr>
               <tr>
                 <td width="163" valign="top">
                   <p>
                      Edge Color
                   </p>
                 </td>
                 <td width="48" valign="top">
                   <p>
                      -
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     X
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     X
                   </p>
                 </td>
               </tr>
               <tr>
                 <td width="163" valign="top">
                   <p>
                      Edge Line Type
                   </p>
                 </td>
                 <td width="48" valign="top">
                   <p>
                      -
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     X
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     o
                   </p>
                 </td>
               </tr>
               <tr>
                 <td width="163" valign="top">
                   <p>
                      Edge Source Arrow
                   </p>
                 </td>
                 <td width="48" valign="top">
                   <p>
                      -
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     X
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     o
                   </p>
                 </td>
               </tr>
               <tr>
                 <td width="163" valign="top">
                   <p>
                      Edge Target Arrow
                   </p>
                 </td>
                 <td width="48" valign="top">
                   <p>
                      -
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     X
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     o
                   </p>
                 </td>
               </tr>
               <tr>
                 <td width="163" valign="top">
                   <p>
                      Edge Label
                   </p>
                 </td>
                 <td width="48" valign="top">
                   <p>
                     X
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     X
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     o
                   </p>
                 </td>
               </tr>
               <tr>
                 <td width="163" valign="top">
                   <p>
                      Edge Font Family
                   </p>
                 </td>
                 <td width="48" valign="top">
                   <p>
                      -
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     X
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     o
                   </p>
                 </td>
               </tr>
               <tr>
                 <td width="163" valign="top">
                   <p>
                      Edge Font Size
                   </p>
                 </td>
                 <td width="48" valign="top">
                   <p>
                      -
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     X
                   </p>
                 </td>
                 <td width="60" valign="top">
                   <p>
                     X
                   </p>
                 </td>
               </tr>
             </table>
             <p>
                
             </p>
               <table border="1" cellspacing="0" cellpadding="0">
                 <tr>
                   <td width="499" colspan="2" valign="top">
                     <h5>
                       Legend
                     </h5>
                   </td>
                 </tr>
                 <tr>
                   <td width="43" valign="top">
                     <p>
                        -
                     </p>
                   </td>
                   <td width="456" valign="top">
                     <p>
                       Mapping is not supported for specified visual
                       property.
                     </p>
                   </td>
                 </tr>
                 <tr>
                   <td width="43" valign="top">
                     <p>
                        X
                     </p>
                   </td>
                   <td width="456" valign="top">
                     <p>
                       Mapping is fully supported for specified visual
                       property.
                     </p>
                   </td>
                 </tr>
                 <tr>
                   <td width="43" valign="top">
                     <p>
                        o
                     </p>
                   </td>
                   <td width="456" valign="top">
                     <p>
                       Mapping is partially supported for specified visual
                       property. Support for "continuous to continuous"
                       mapping is not supported.
                     </p>
                   </td>
                 </tr>
               </table>


</center>
<br>
<h2 class="western">Tutorial: Creating a New Visual Style</h2>
To
create a new visual style, select Visualization =>
Set Visual Properties from the main
menu, or select the color wheel
icon in the main button bar. You will now see a new Visual Styles
dialog box.
<p lang="" class="western" align="left"><img
 src="images/Cytoscape2_0Manual_html_m320c4332.jpg"
 name="Graphic24"
  title=""
 alt="Visual Styles"><br>
</p>
<p lang="" class="western" align="left">Click
the New button, and enter a name for your new visual style when
prompted. Then click the Define button. You will now see the main
Visual Styles Properties dialog box.<br>
</p>
<p class="western" align="left"><img
 src="images/Cytoscape2_0Manual_html_m4ece55ac.jpg"
 name="Graphic25"
  title=""
 alt="Visual Property Categories">
</p>
From this dialog box, you can flip between Node Attributes, Edge
Attributes,
and Global Defaults. You can also specify default values for any
visual property, or define a new custom mapping.&nbsp;
<br>
<br>
For example, to set the default node
shape to triangles, select Node Attributes =>
Node Shape. Then, click the "Change Default" button, and select
the Triangle icon from the selection list.
<h3>Applying Changes to the Network</h3>
To apply your visual style to your
network, hit the "Apply to Network" button, available in the bottom of
the
dialog panel.
<h3 class="western">Saving a Visual Style</h3>
When you exit Cytoscape, new visual
styles or newly modified visual styles will automatically be saved in
the vizmap.props file. You can therefore create a new visual style
and apply it to all future networks.<br>
<br>
<h2 class="western" style="page-break-before: always;">Tutorial:
Creating a New Visual Style with a Discrete Mapper</h2>
<p lang="" class="western" align="left"><img
 src="images/Cytoscape2_0Manual_html_m540164d3.jpg" name="Graphic28"
  title=""
 alt=""><br>
</p>
The following tutorial demonstrates how
to create a new visual style with a discrete mapper. The goal is to
draw Protein-DNA interactions with blue edges, and Protein-Protein
interactions with red edges.
<br>
<ol>
  <li> Load a sample network: From the
main menu, select File => Load => Graph, and select sampleData/galFiltered.sif.</li>
  <li> Select Visualization => Set Visual
Properties.</li>
  <li> Select "New" to create a new Visual
Style. Name your new style: "Sample3". </li>
  <li> Click the "Define" button to define
the newly created Visual Style. </li>
  <li> In the "Set Visual Properties"
Dialog box, select Edge Attributes =>
Edge Color. </li>
  <li> Click the New button in the mapping
panel. </li>
  <li> You will be prompted to select a
mapping type: passthrough mapper, discrete mapper or continuous mapper
(for an overview of the differences between these mappers, please refer
back to section 8.2.) Select "discrete mapper", and enter a descriptive
name. For example, enter: "InteractionTypeColor". </li>
  <li> From the "Map Attribute" pull-down
menu, select "interaction." You should now see two buttons, one for pd
(Protein-DNA interactions), and one for pp (Protein-Protein
interactions). </li>
<p>
  <img src="images/Cytoscape2_0Manual_html_438d85eb.jpg"
 name="Graphic29"
 alt="">
<p>
  <li> Click
the "pd" button and select a blue color. </li>
  <li> Click the "pp" button and select a
red color. </li>
  <li> Click the "Apply to Graph" button. </li>
  <li>Your network should now show "pd"
interactions in blue, and "pp" interactions in red. Sample
screenshot is shown above.</li>
</ol>
<h2 class="western" style="page-break-before: always;">Tutorial:
Visualizing Expression Data on a Network</h2>
The following tutorial demonstrates
how to create a new continuous mapper. The goal is to superimpose gene
expression data onto a network, and to display gene expression values
along a color gradient.
<p lang="" class="western" align="left"><img
 src="images/Cytoscape2_0Manual_html_m50f0b1f.jpg" name="Graphic30"
 title=""
 alt=""><br>
</p>
<ol>
  <li> Load a sample network: From the
main menu, select File => Load => Graph, and select
sampleData/galFiltered.sif. </li>
  <li> Load a sample set of expression
data: From the main menu, select File =>
Load => Expression Matrix File, and
select sampleData/galExpData.pvals. </li>
  <li> Select Visualization => Set Visual
Properties. </li>
  <li> Select "New" to create a new Visual
Style. Name your new style: "Sample4". </li>
  <li> Click the "Define" button to define
the newly created Visual Style. </li>
  <li> In the "Set Visual Properties"
Dialog box, select Node Attributes =>
Node Color. </li>
  <li> Click the New button in the mapping
panel. </li>
  <li> You will be prompted to select a
mapping type: passthrough mapper, discrete mapper or continuous mapper
(for an overview of the differences between these mappers, please refer
back to section 8.2.) Select "continuous mapper", and enter a
descriptive name. For example, enter: "ColorGradient". </li>
  <li> From the "Map Attribute" pull-down
menu, select "gal1RGexp." </li>
  <li> Click the "Add Point" button twice
to add two data points. </li>
  <li> Set the first point to "-1", Below
= Yellow, Equal = White. </li>
  <li> Set the second point to "2", Equal
= Red, Above = Black. </li>
  <li> Click the "Apply to Graph" button. </li>
</ol>

This visual mapper will set all nodes
with a gal1RGexp value less than -1 to Yellow, and all nodes with a
gal1RGExp value greater than 2 to Black. Additionally, all values
between -1 and 2 will be painted with a white/red color gradient.
Sample screenshot is shown below.
<p lang="" class="western" align="left"><img
 src="images/Cytoscape2_0Manual_html_2d6d3659.png" name="Graphic31"
 alt=""><br>
</p>
<p class="western" align="left"></p>
<p class="western" align="left"><br>
</p>
<p class="western" align="left"></p>
<p class="western" align="left"><br>
</p>
</body>
</html>

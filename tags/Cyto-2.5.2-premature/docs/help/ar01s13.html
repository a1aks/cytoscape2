<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Finding and Filtering Nodes and Edges</title><meta name="generator" content="DocBook XSL Stylesheets V1.70.1"><link rel="start" href="index.html" title="Cytoscape User Manual"><link rel="up" href="index.html" title="Cytoscape User Manual"><link rel="prev" href="ar01s12.html" title="Visual Styles"><link rel="next" href="ar01s14.html" title="Editing Networks"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Finding and Filtering Nodes and Edges"></a>Finding and Filtering Nodes and Edges</h2></div></div></div><p></p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="QuickFind"></a>QuickFind</h3></div></div></div><p>Cytoscape includes a Quick Find feature, which enables you to quickly find nodes and edges. </p><p><span class="inlinemediaobject"><img src="images/quick_find2.png" alt="attachment:quick_find2.png"></span> </p><p>Using Quick Find is very simple. Here is how it works: </p><div class="itemizedlist"><ul type="disc"><li><p>Import a network. For example, load up <code class="code">sampleData/galFiltered.sif</code>. </p></li><li>Start typing in the text box. For example, enter "yd". The search box will automatically display a list of all matching nodes. </li></ul></div><p><span class="inlinemediaobject"><img src="images/quick_find3.png" alt="attachment:quick_find3.png"></span> </p><div class="itemizedlist"><ul type="disc"><li>Select a matching node. Cytoscape will automatically zoom in on the selected node. </li></ul></div><p><span class="inlinemediaobject"><img src="images/quick_find4.png" alt="attachment:quick_find4.png"></span> </p><p></p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="Configuring Quick Find"></a>Configuring Quick Find</h4></div></div></div><p>Quick Find works by creating an internal index of all nodes within the network. By default, Cytoscape indexes all nodes by the node identifier. However, you can configure Quick Find to index nodes or edges, and you can set any attribute as the index. </p><p>For example, if you load up a BioPAX file (such as <code class="code">sampleData/Apoptosis_BioPAX.xml</code>), your network will be automatically annotated with numerous attributes. To index the network based on cellular location, click the Quick Find configuration button, and select "biopax.cellular_location" from the dropdown list. </p><p><span class="inlinemediaobject"><img src="images/quick_find5.png" alt="attachment:quick_find5.png"></span> </p><p>You can then quickly find all proteins located in the "plasma membrane" by just typing "p". </p><p><span class="inlinemediaobject"><img src="images/quick_find6.png" alt="attachment:quick_find6.png"></span> </p><p><span class="strong"><strong>Tip:</strong></span> If you don't know what to search for, just leave the search box empty, and click on the down arrow directly next to the search box. Cytoscape will provide you with an initial list of matches. In the case below, we will get a list of all distinct cellular locations in the network. </p><p><span class="inlinemediaobject"><img src="images/quick_find7.png" alt="attachment:quick_find7.png"></span> </p><p></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="Dynamic Filtering via Quick Find"></a>Dynamic Filtering via Quick Find</h4></div></div></div><p>If you choose to index on a numerical attribute, the Quick Find search box changes to a dynamic slider for quick filtering. </p><p>For example: </p><div class="orderedlist"><ol type="1"><li><p>Import a network such as <code class="code">sampleData/galFiltered.sif</code> using File &#8594; Import &#8594; Network (multiple file types). </p></li><li><p>Import an expression data file such as <code class="code">sampleData/galExpData.pvals</code> using File &#8594; Import &#8594; Attribute/Expression Matrix... . </p></li><li>Configure Quick Find to index the network using the gal1RGExp attribute. <div class="itemizedlist"><ul type="disc"><li><p><span class="inlinemediaobject"><img src="images/quick_find8.png" alt="attachment:quick_find8.png"></span> </p></li></ul></div></li><li>Use the slider widget to automatically filter the entire network. </li></ol></div><p><span class="inlinemediaobject"><img src="images/quick_find9.png" alt="attachment:quick_find9.png"></span> </p><p></p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="Filters"></a>Filters</h3></div></div></div><p>Filters allow you to quickly select multiple nodes or edges of interest by comparing node and edge attributes loaded onto Cytoscape networks to properties you specify. For example, you can select all the nodes whose name contains a specific pattern, or whose numeric attribute value falls within a certain range. Cytoscape provides filters as a core plugin. Users can perform complex selection by defining basic filters (selection based on a single attribute) and compound or Boolean filters (combining basic filters for selection based on multiple attributes). </p><p>Based on feedback from Cytoscape users, the Cytoscape team has determined that it is necessary to redesign the user interfaces for the filters. The newly designed filters will preserve all the functionality of the old filters while introducing more user-friendly interfaces. As this process is not yet complete, Cytoscape 2.5 contains both the old filters and a preliminary version of the new filter interfaces. Eventually, the old filters will be replaced by the new filters. </p><p></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="Using New Filters"></a>Using New Filters</h3></div></div></div><p>By default, you should see a filter icon on the toolbar: <span class="inlinemediaobject"><img src="images/filter_icon.png" alt="attachment:filter_icon.png"></span> . If you click on it, the filters tab on the Control Panel at the left of the screen will be selected. You can also access the filters by clicking directly on the tab, or by using the Select &#8594; Use Filters menu option. The filters tab initially looks like this: </p><p><span class="inlinemediaobject"><img src="images/filterInit.png" alt="attachment:filterInit.png"></span> </p><p><span class="strong"><strong>1. Create a filter</strong></span> </p><p>To create a filter, click the option button and select &#8220;Create new filter&#8230;&#8221; from the list provided. Enter a name for the new filter. </p><p><span class="inlinemediaobject"><img src="images/FilterPopupMenu.PNG" alt="attachment:FilterPopupMenu.PNG"></span> </p><p><span class="inlinemediaobject"><img src="images/NewFilterDialog.PNG" alt="attachment:NewFilterDialog.PNG"></span> </p><p><span class="strong"><strong>2. Define the filter</strong></span> </p><p>After a new filter is created, the filter definition is initially empty. Filters can be defined by choosing attributes (one at a time) in the attribute dropdown list and clicking the Add button, which will add a widget for defining the desired attribute criteria. Note that each attribute has a prefix, either <code class="code">node.</code> or <code class="code">edge.</code>, denoting what type of attribute it is. </p><p>Text-based (or String) attributes will display a widget listing all available values, while numeric attributes will display a range slider; both are shown below. </p><p><span class="inlinemediaobject"><img src="images/FilterDefinition.PNG" alt="attachment:FilterDefinition.PNG"></span> </p><p>For each widget, the name of the attribute it represents is on the left, and there is a trash-can icon on the right. Clicking on the trash-can icon will delete the widget. In this way, the filter definition can be modified after it is defined. </p><p><span class="strong"><strong>3. Apply the filter</strong></span> </p><p>Now that a filter is defined, you can enter appropriate values (string patterns for text or value ranges for numbers) and click the Apply button to select nodes/edges from your network. The search values for Nodes and edges are selected using text and numeric indices, in the same manner as that of Quick Find. </p><p>Note that by default the filter will apply the &#8220;AND&#8221; relationship if multiple attributes are defined. In the previous figure, the filter will select all the nodes/edges whose <code class="code">Annotation.Date</code> contains the pattern &#8220;2000*&#8221; and whose <code class="code">gal1RGsig</code> value falls within the defined range. In Cytoscape 2.5, only the "AND" and "OR" relationships can be used. Other Boolean operations (XOR, and NOT) are not yet available. The "OR" relationship can be selected from the advanced options panel, see below. </p><p></p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="Advanced Options"></a>Advanced Options</h4></div></div></div><p>The Advanced panel can be opened by clicking on the plus (+) sign. It looks like this: </p><p><span class="inlinemediaobject"><img src="images/FilterAdvancedPanel.PNG" alt="attachment:FilterAdvancedPanel.PNG"></span> </p><p>There are four rows in the advanced panel: </p><p>1. The first row, labeled Save. The two checkboxes (Global and Session) will determine where the filter is saved. By default, filters are saved in individual sessions. By checking the Global checkbox, the filter will be saved in the global properties file. Note also that the prefix of the filter name in the Current Filter dropdown list will reflect where it is saved. </p><p>2. The second row, labeled Select, will determine whether the filter will select network nodes, edges, or both. If Node is checked, Edge is unchecked, then only nodes will be considered for selection, not edges. Note also that the attributes listed in the Attribute dropdown list will be only those with prefix "<code class="code">node."</code>. </p><p>3. The third row, edge, will determine either Source or Target nodes will be selected, since there is a distinction between source nodes and target nodes in a directed network. </p><p>4. The last row, Relation, will determine what boolean operation will be applied to each individual widget (atomic filter). For the time being, there are only tow options, "AND" and "OR". More boolean operations will be added in the future versions. If you need to do complex selection, please use "the old filters" below. </p><p></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="Modifying Filters"></a>Modifying Filters</h4></div></div></div><p>The Option button at the right of the Current Filter contains a few functionalities other than creating new filters: </p><div class="itemizedlist"><ul type="disc"><li>Delete filter: this will delete the selected filter. </li><li>Rename filter: this will give user the option to change the name of the selected filter. </li><li>Copy existing filter: this will duplicate the selected filter. </li></ul></div><p></p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="Using Old Filters"></a>Using Old Filters</h3></div></div></div><p>The old filters is the one existed in previous versions of Cytoscape. Several types of filters are available. </p><p>Basic filters allow the selection of multiple nodes or edges according to singe attribute data: </p><div class="itemizedlist"><ul type="disc"><li>String filters allow selection of nodes or edges with attributes matching specified text patterns. These patterns may include the wildcards * and ?. </li><li><p>Numerical filters allow selection of nodes or edges according to numerical attributes and the mathematical operators &gt;, =, and &lt;. </p></li></ul></div><p>Compound filters allow selection based on the application of pre-existing filters: </p><div class="itemizedlist"><ul type="disc"><li>Topology filters allow selection of nodes with neighbors that match some pre-existing filter. </li><li>Boolean filters allow the combination of multiple filters using the AND, OR and XOR operators. </li></ul></div><p>Example filters are shipped with the plugin to get started. </p><p>To use the old filters, go to Select &#8594; Use Old Filters. You will see a filters window which initially looks like the following: </p><p><span class="inlinemediaobject"><img src="images/init_filter_dialog.png" alt="attachment:init_filter_dialog.png"></span> </p><p>If the first filter is selected, then the window looks as shown: </p><p><span class="inlinemediaobject"><img src="images/first_filter_dialog.png" alt="attachment:first_filter_dialog.png"></span> </p><p>There are three panels in the Filters window: </p><div class="itemizedlist"><ul type="disc"><li>The right-hand panel: An existing or newly created filter can be edited in this area. Each filter type has its own user interface for editing. </li><li>The lower left panel: All available filters are shown in this list. Initially, this list will contain only sample filters, but as you create more, they will be added here. </li><li>The upper left panel: Pressing the Create new filter button adds a filter to the &#8220;Available Filters&#8221; box, and the Remove selected filter button deletes the currently selected filter. </li></ul></div><p></p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="Creating Filters"></a>Creating Filters</h4></div></div></div><p>Clicking the Create new filter button allows you to select a type of filter to create, as shown below. </p><p><span class="inlinemediaobject"><img src="images/create_new_filter_dialog.png" alt="attachment:create_new_filter_dialog.png"></span> </p><p>The important thing to realize when creating a filter is that the filter does not do anything by itself. Once created, the filter must be applied to the network. </p><p></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="String Filter"></a>String Filter</h4></div></div></div><p><span class="inlinemediaobject"><img src="images/string_filter.png" alt="attachment:string_filter.png"></span> </p><p>The String Filter allows you to filter nodes or edges by a given text attribute of your current loaded network. Search terms are entered in the text box at the bottom. For example, to match any Node whose canonicalName starts with &#8220;YDL&#8221;, you would select &#8220;Node&#8221;, &#8220;canonicalName&#8221; and then type in &#8220;YDL*&#8221;. The * is important, as it matches any number of characters after YDL. If you want to be more specific and only select nodes whose canonicalName starts with YDL00 followed by any other two characters, you would type &#8220;YDL00??&#8221;. The &#8220;?&#8221; denotes any single character, while the &#8220;*&#8221; represents zero or more characters. Full regular expression searching is supported, although is not covered here. Once the filter is defined, it will be assigned a default descriptive name. </p><p></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="Numerical Filter"></a>Numerical Filter</h4></div></div></div><p><span class="inlinemediaobject"><img src="images/numerical_filter.png" alt="attachment:numerical_filter.png"></span> </p><p>The Numerical Filter also allows you to filter nodes or edges, and presents you with a list of available attributes. This filter matches all values in the network of your selected attribute that are greater than, less than, or equal to a number you type in the search box. </p><p></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="Node Topology Filter"></a>Node Topology Filter</h4></div></div></div><p><span class="inlinemediaobject"><img src="images/node_topology_filter.png" alt="attachment:node_topology_filter.png"></span> </p><p>The node topology filter allows you to select all nodes selected by a preexisting filter and having <span class="emphasis"><em>n</em></span> neighbours found at a distance of <span class="emphasis"><em>m</em></span> or fewer edges away. For instance, to select all the nodes adjacent to a node with the canonical name matching &#8216;YD*&#8217;, you would &#8220;select nodes with 1 neighbors&#8221;, &#8220;within distance 1&#8221;, &#8220;that pass the filter Node: canonicalName ~ YD*&#8221;. </p><p>The node topology filter depends on the existence of other filters. By default, [No Filter] is selected; it doesn't filter out anything, but rather selects all nodes. </p><p></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="Boolean Filter"></a>Boolean Filter</h4></div></div></div><p><span class="inlinemediaobject"><img src="images/boolean_filter.png" alt="attachment:boolean_filter.png"></span> </p><p>The Boolean Meta-Filter allows you to define a new filter that is a logical combination of existing filters. Available filters are displayed. By selecting one or more filters, you can then choose whether Nodes or Edges pass &#8220;ALL&#8221; (AND), &#8220;AT LEAST ONE&#8221; (OR), or &#8220;ONLY ONE&#8221; (XOR) of the selected filters. Once created, Boolean filters can then themselves be combined using the Boolean filter to create arbitrarily complex logical combinations of filters. Note that unlike the String and Numerical Filters, Boolean filters will need to be assigned a name manually. </p><p></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="Saving Filters"></a>Saving Filters</h4></div></div></div><p>Filters are currently saved automatically in the <code class="code">filters.props</code> file found in the <code class="code">.cytoscape</code> directory, found in each user's home directory. Once created, filters are saved for future sessions, as long as you exit Cytoscape normally via File &#8594; Quit (i.e. not via ctrl-c on Linux). </p><p></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="Running filters"></a>Running filters</h4></div></div></div><p>Any available filter can be run by pressing the &#8216;Apply selected filter&#8217; button. When a filter is applied to your network and multiple nodes or edges are selected, all of the normal selection-related operations may be performed, such as Delete Selected Node/Edges, Copy To New Network, and Invert Selection. </p><p></p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="The Select Menu"></a>The Select Menu</h3></div></div></div><p>The Select &#8594; Nodes and Select &#8594; Edges menus provide several mechanisms for selecting nodes and edges. Most options are fairly straightforward; however, some need extra explanation. </p><p>Select &#8594; Nodes &#8594; By Name... selects nodes by the node identifier (ID). This is the value seen in the leftmost column of the attribute browser. This does not change, even if the displayed node label changes! </p><p>Select &#8594; Nodes &#8594; From File... selects nodes based on node identifiers found in a specified file. The file format is simply one node id per line: </p><p></p><pre class="screen">Node1
Node2
Node3
...
</pre></div></div></body></html>
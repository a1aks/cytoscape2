<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Cytoscape User Manual</title><meta name="generator" content="DocBook XSL Stylesheets V1.70.1"/></head><body><div class="article" lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="d0e1"/>Cytoscape User Manual</h1></div></div><hr/></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#Cytoscape 2.4.0 User Manual">Cytoscape 2.4.0 User Manual</a></span></dt><dt><span class="section"><a href="#Introduction">Introduction</a></span></dt><dt><span class="section"><a href="#Launching Cytoscape">Launching Cytoscape</a></span></dt><dd><dl><dt><span class="section"><a href="#(1) If necessary, install Java">(1) If necessary, install Java</a></span></dt><dt><span class="section"><a href="#(2) Install Cytoscape">(2) Install Cytoscape</a></span></dt><dt><span class="section"><a href="#(3) Launch the application">(3) Launch the application</a></span></dt></dl></dd><dt><span class="section"><a href="#Quick Tour of Cytoscape">Quick Tour of Cytoscape</a></span></dt><dd><dl><dt><span class="section"><a href="#The Menus">The Menus</a></span></dt><dt><span class="section"><a href="#Network Management">Network Management</a></span></dt><dt><span class="section"><a href="#The Network Overview Window">The Network Overview Window</a></span></dt></dl></dd><dt><span class="section"><a href="#Command Line Arguments">Command Line Arguments</a></span></dt><dt><span class="section"><a href="#Cytoscape Preferences">Cytoscape Preferences</a></span></dt><dd><dl><dt><span class="section"><a href="#Managing Properties">Managing Properties</a></span></dt><dt><span class="section"><a href="#Managing Bookmarks">Managing Bookmarks</a></span></dt><dt><span class="section"><a href="#Managing Proxy Servers">Managing Proxy Servers</a></span></dt></dl></dd><dt><span class="section"><a href="#Creating Networks">Creating Networks</a></span></dt><dd><dl><dt><span class="section"><a href="#Import Fixed-Format Network Files">Import Fixed-Format Network Files</a></span></dt><dt><span class="section"><a href="#Import Free-Format Table Files">Import Free-Format Table Files</a></span></dt><dt><span class="section"><a href="#Edit a New Network">Edit a New Network</a></span></dt></dl></dd><dt><span class="section"><a href="#Supported Network File Formats">Supported Network File Formats</a></span></dt><dd><dl><dt><span class="section"><a href="#SIF Format">SIF Format</a></span></dt><dt><span class="section"><a href="#GML Format">GML Format</a></span></dt><dt><span class="section"><a href="#XGMML Format">XGMML Format</a></span></dt><dt><span class="section"><a href="#SBML (Systems Biology Markup Language) Format">SBML (Systems Biology Markup Language) Format</a></span></dt><dt><span class="section"><a href="#BioPAX (Biological PAthways eXchange) Format">BioPAX (Biological PAthways eXchange) Format</a></span></dt><dt><span class="section"><a href="#PSI-MI Format">PSI-MI Format</a></span></dt><dt><span class="section"><a href="#Delimited Text Table and Excel Workbook">Delimited Text Table and Excel Workbook</a></span></dt></dl></dd><dt><span class="section"><a href="#Node and Edge Attributes">Node and Edge Attributes</a></span></dt><dd><dl><dt><span class="section"><a href="#Cytoscape Attribute File Format">Cytoscape Attribute File Format</a></span></dt><dt><span class="section"><a href="#Import Attribute Table Files">Import Attribute Table Files</a></span></dt></dl></dd><dt><span class="section"><a href="#Loading Gene Expression (Attribute Matrix) Data">Loading Gene Expression (Attribute Matrix) Data</a></span></dt><dd><dl><dt><span class="section"><a href="#Data File Format">Data File Format</a></span></dt><dt><span class="section"><a href="#Example">Example</a></span></dt></dl></dd><dt><span class="section"><a href="#Navigation and Layout">Navigation and Layout</a></span></dt><dd><dl><dt><span class="section"><a href="#Basic Network Navigation">Basic Network Navigation</a></span></dt><dt><span class="section"><a href="#Automatic Layout Algorithms">Automatic Layout Algorithms</a></span></dt><dt><span class="section"><a href="#Manual Layout">Manual Layout</a></span></dt></dl></dd><dt><span class="section"><a href="#Visual Styles">Visual Styles</a></span></dt><dd><dl><dt><span class="section"><a href="#Introduction to Visual Styles">Introduction to Visual Styles</a></span></dt><dt><span class="section"><a href="#Visual Attributes, Graph Attributes and Visual Mappers">Visual Attributes, Graph Attributes and Visual Mappers</a></span></dt><dt><span class="section"><a href="#Visual Styles Tutorials">Visual Styles Tutorials</a></span></dt><dt><span class="section"><a href="#Managing Visual Styles">Managing Visual Styles</a></span></dt><dt><span class="section"><a href="#Bypassing Visual Styles">Bypassing Visual Styles</a></span></dt></dl></dd><dt><span class="section"><a href="#Finding and Filtering Nodes and Edges">Finding and Filtering Nodes and Edges</a></span></dt><dd><dl><dt><span class="section"><a href="#QuickFind">QuickFind</a></span></dt><dt><span class="section"><a href="#Filters">Filters</a></span></dt><dt><span class="section"><a href="#Select Menu">Select Menu</a></span></dt></dl></dd><dt><span class="section"><a href="#Editing Networks">Editing Networks</a></span></dt><dt><span class="section"><a href="#CytoPanels">CytoPanels</a></span></dt><dt><span class="section"><a href="#Rendering Engine">Rendering Engine</a></span></dt><dt><span class="section"><a href="#Annotation">Annotation</a></span></dt><dd><dl><dt><span class="section"><a href="#Ontology and Annotation File Format">Ontology and Annotation File Format</a></span></dt><dt><span class="section"><a href="#Import Ontology and Annotation">Import Ontology and Annotation</a></span></dt><dt><span class="section"><a href="#Custom Annotation Files for Ontologies Other than GO (for Advanced Users)">Custom Annotation Files for Ontologies Other than GO (for Advanced Users)</a></span></dt></dl></dd><dt><span class="section"><a href="#Linkout">Linkout</a></span></dt><dt><span class="section"><a href="#Acknowledgements">Acknowledgements</a></span></dt><dt><span class="section"><a href="#Appendix A: Old Annotation Server Format">Appendix A: Old Annotation Server Format</a></span></dt><dd><dl><dt><span class="section"><a href="#Building your own annotation files">Building your own annotation files</a></span></dt><dt><span class="section"><a href="#Load Data into Cytoscape">Load Data into Cytoscape</a></span></dt><dt><span class="section"><a href="#Getting and Reformatting GO Data">Getting and Reformatting GO Data</a></span></dt></dl></dd><dt><span class="section"><a href="#Appendix B: GNU Lesser General Public License">Appendix B: GNU Lesser General Public License</a></span></dt></dl></div><p> </p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Cytoscape 2.4.0 User Manual"/>Cytoscape 2.4.0 User Manual</h2></div></div></div><p><span class="inlinemediaobject"><img src="images/cyto-logo-smaller.gif" alt="attachment:cyto-logo-smaller.gif"/></span> </p><p>This document is licensed under the <a href="http://creativecommons.org/licenses/by/2.5/" target="_top">Creative Commons license</a>, 2006 </p><p>Authors: The Cytoscape Collaboration </p><p>The Cytoscape project is an ongoing collaboration between: </p><div class="table"><a id="d0e27"/><p class="title"><b>Table 1. </b></p><div class="table-contents"><div class="caption"/><table border="1"><colgroup><col/><col/></colgroup><tbody><tr><td><p>University of California at San Diego </p></td><td><p> <span class="inlinemediaobject"><img src="images/ucsd-logo.gif" alt="attachment:ucsd-logo.gif"/></span> </p></td></tr><tr><td><p>Institute for Systems Biology </p></td><td><p> <span class="inlinemediaobject"><img src="images/isb-logo.gif" alt="attachment:isb-logo.gif"/></span> </p></td></tr><tr><td><p>Memorial Sloan-Kettering Cancer Center </p></td><td><p> <span class="inlinemediaobject"><img src="images/msk-logo.gif" alt="attachment:msk-logo.gif"/></span> </p></td></tr><tr><td><p>Institut Pasteur </p></td><td><p> <span class="inlinemediaobject"><img src="images/pasteur-logo.gif" alt="attachment:pasteur-logo.gif"/></span> </p></td></tr><tr><td><p>Agilent Technologies </p></td><td><p> <span class="inlinemediaobject"><img src="images/agilent-logo.gif" alt="attachment:agilent-logo.gif"/></span> </p></td></tr><tr><td><p>University of California at San Francisco </p></td><td><p> <span class="inlinemediaobject"><img src="images/ucsf-logo.gif" alt="attachment:ucsf-logo.gif"/></span> </p></td></tr></tbody></table></div></div><br class="table-break"/><p>Funding for Cytoscape is provided by a federal grant from the U.S. National Institute of General Medical Sciences (NIGMS) of the National Institutes of Health (NIH) under award number GM070743-01. Corporate funding is provided through a contract from Unilever PLC. </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Introduction"/>Introduction</h2></div></div></div><p>Cytoscape is a project dedicated to building open-source network visualization and analysis software.  A software “Core” provides basic functionality to layout and query the network and to visually integrate the network with state data.  The Core is extensible through a plug-in architecture, allowing rapid development of additional computational analyses and features. </p><p>Cytoscape's roots are in Systems Biology where it is used for integrating biomolecular interaction networks with high-throughput expression data and other molecular state information. Although applicable to any system of molecular components and interactions, Cytoscape is most powerful when used in conjunction with large databases of protein-protein, protein-DNA, and genetic interactions that are increasingly available for humans and model organisms. Cytoscape allows the visual integration of the network with expression profiles, phenotypes, and other molecular state information and to link the network to databases of functional annotations. <span class="strong"><strong>The central organizing metaphor of Cytoscape is a network (graph), with genes, proteins, and molecules represented as nodes and interactions represented as links, i.e. edges, between nodes.</strong></span> </p><p><span class="underline"><span class="strong"><strong>Development</strong></span></span> Cytoscape is a collaborative project between the Institute for Systems Biology (Leroy Hood lab), the University of California San Diego (Trey Ideker lab), Memorial Sloan-Kettering Cancer Center (Chris Sander lab), the Institut Pasteur (Benno Schwikowski lab), Agilent Technologies (Annette Adler lab) and the University of California, San Francisco (Bruce Conklin lab). </p><p>Visit <a href="http://www.cytoscape.org" target="_top">http://www.cytoscape.org</a> for more information. </p><p><span class="underline"><span class="strong"><strong>License</strong></span></span> Cytoscape is protected under the GNU LGPL (Lesser General Public License). The License is included as an appendix to this manual, but can also be found online: <a href="http://www.gnu.org/copyleft/lesser.txt" target="_top">http://www.gnu.org/copyleft/lesser.txt</a> Cytoscape also includes a number of other open source libraries, which are detailed in <a href="#acknowledgements" target="_top">Acknowledgements</a> below. </p><p><span class="underline"><span class="strong"><strong>What’s New in 2.4</strong></span></span> </p><p><span class="emphasis"><em><span class="strong"><strong>Cytoscape version 2.4</strong></span></em></span> contains several new features, plus improvements to the performance and usability of the software. These include: </p><div class="itemizedlist"><ul type="disc"><li>Publication quality image generation.  This includes: <div class="itemizedlist"><ul type="circle"><li>Node label position adjustment. </li><li>Automatic Visual Legend generator. </li><li>Node position fine-tuning by arrow keys. </li><li><p>The ability to override selected <a href="http://cytoscape.org/cgi-bin/moin.cgi/VizMap" target="_top">VizMap</a> settings. </p></li></ul></div></li><li><p><span class="emphasis"><em><span class="strong"><strong>Quick Find</strong></span></em></span> plugin. </p></li><li>New Cytoscape icons for a cleaner user interface. </li><li>Consolidated network import capabilities. <div class="itemizedlist"><ul type="circle"><li>Import network from remote data sources (through http or ftp). </li><li>Default support for the following file formats: <div class="itemizedlist"><ul type="square"><li><p><a href="http://sbml.org/index.psp" target="_top">Systems Biology Markup Language (SBML)</a> </p></li><li><p><a href="http://www.biopax.org/" target="_top">BioPAX Level 1 and 2</a> </p></li><li><p><a href="http://psidev.sourceforge.net/mi/xml/doc/user/" target="_top">PSI-MI (Level 1 and 2.5)</a> </p></li><li>Delimited text table (TAB delimited text file, CSV, etc.) </li><li><p>Excel (<span class="emphasis"><em>.xls</em></span>) format file. </p></li></ul></div></li></ul></div></li><li><p>New Ontology Server.  This will eventually replace the BioDataServer. New Ontology Server features include: </p><div class="itemizedlist"><ul type="circle"><li>Native support for OBO format ontology files.  Users can import many different ontologies in the OBO format. </li><li>Ability to visualize the ontology tree as a network (DAG). </li><li>Full support for Gene Association files. </li></ul></div></li><li>Support for Java SE 5. </li><li>Many, many bug fixes! </li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Launching Cytoscape"/>Launching Cytoscape</h2></div></div></div><p>Cytoscape is a Java application that runs on Linux, Windows, and Mac OS X. </p><p><span class="strong"><strong>System requirements:</strong></span> The system requirements for Cytoscape depend on the size of the networks the user wants to load, view and manipulate. We recommend a recent computer (1GHz CPU or higher) with a high-end graphics card and at least 512MB of free physical RAM. Cytoscape expects a minimum screen resolution of 1024x768. </p><p/><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="(1) If necessary, install Java"/>(1) If necessary, install Java</h3></div></div></div><p>If not already installed on your computer, download and install Java SE 5 or 6.  <span class="emphasis"><em><span class="strong"><strong>Cytoscape 2.4 will no longer run with Java version 1.4.x or lower.  You must install Java SE 5 or 6!!!</strong></span></em></span> </p><p>These can be found at: </p><p><a href="http://java.sun.com/javase/downloads/index_jdk5.jsp" target="_top">Java SE 5</a> </p><p><a href="http://java.sun.com/javase/downloads/index.jsp" target="_top">Java SE 6</a> </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="(2) Install Cytoscape"/>(2) Install Cytoscape</h3></div></div></div><p>There are a number of options for downloading and installing Cytoscape.  All options can be downloaded from the <a href="http://cytoscape.org" target="_top">http://cytoscape.org</a> website. </p><div class="itemizedlist"><ul type="disc"><li>Automatic installation packages exist for Windows, Mac OS X, and Linux platforms.   </li><li>You can install cytoscape from a compressed archive distribution. </li><li>You can build cytoscape from source. </li><li><p>You can check out the latest and greatest software from our <a href="http://chianti.ucsd.edu/svn" target="_top">Subversion repository</a>. </p></li></ul></div><p>Cytoscape installations (regardless of platform) containing the following files and directories: </p><div class="table"><a id="d0e282"/><p class="title"><b>Table 2. </b></p><div class="table-contents"><div class="caption"/><table border="1"><colgroup><col/><col/></colgroup><tbody><tr><td><p><span class="strong"><strong>File</strong></span></p></td><td><p><span class="strong"><strong>Description</strong></span></p></td></tr><tr><td><p>cytoscape.jar</p></td><td><p>Main Cytoscape application (Java archive)</p></td></tr><tr><td><p>cytoscape.sh</p></td><td><p>Script to run Cytoscape from command line (Linux, Mac OS X)</p></td></tr><tr><td><p>cytoscape.bat </p></td><td><p>Script to run Cytoscape (Windows)</p></td></tr><tr><td><p>LICENSE.txt/html</p></td><td><p>Cytoscape GNU LGPL License</p></td></tr><tr><td><p>lib/</p></td><td><p>library jar files needed to run Cytoscape.</p></td></tr><tr><td><p>docs/</p></td><td><p>Manuals in different formats.  What you are reading now.</p></td></tr><tr><td><p>licenses/</p></td><td><p>Licence files for the various libraries distributed with Cytoscape.</p></td></tr><tr><td><p>plugins/</p></td><td><p>Directory containing cytoscape <a href="http://cytoscape.org/cgi-bin/moin.cgi/PlugIns" target="_top">PlugIns</a>, in .jar format.</p></td></tr><tr><td><p>sampleData/</p></td><td> </td></tr><tr><td><p> </p></td><td><p>galFiltered.gml -- Sample molecular interaction network file *</p></td></tr><tr><td><p> </p></td><td><p>galFiltered.sif -- Identical network in Simple Interaction Format *</p></td></tr><tr><td><p> </p></td><td><p>galExpData.pvals -- Sample gene expression matrix file *</p></td></tr><tr><td><p> </p></td><td><p>galFiltered.nodeAttrTable.xls -- Sample node attribute file in Microsoft Excel format</p></td></tr><tr><td><p> </p></td><td><p>galFiltered.cys -- Sample session file created from datasets above plus GO Annotations *</p></td></tr><tr><td><p> </p></td><td><p>BINDyeast.sif -- Network of all yeast protein-protein interactions in the BIND database as of Dec, 2006 **</p></td></tr><tr><td><p> </p></td><td><p>BINDhuman.sif -- Network of all human protein-protein interactions in the BIND database as of Dec, 2006 **</p></td></tr><tr><td><p> </p></td><td><p>yeastHighQuality.sif -- Sample molecular interaction network file ***</p></td></tr><tr><td><p> </p></td><td><p>interactome_merged.networkTable.gz -- Human interactome network file in tab-delimited format ****</p></td></tr></tbody></table></div></div><br class="table-break"/><p>* From Ideker et al., Science 292:929 (2001) </p><p>** Obtained from data hosted at <a href="http://www.blueprint.org/bind/bind_downloads.html" target="_top">http://www.blueprint.org/bind/bind_downloads.html</a> </p><p>** From von Mering et al., Nature, 417:399 (2002) and Lee et al, Science 298:799 (2002) </p><p>**** Created from Cytoscape tutorial web page.  Original data sets are available at: <a href="http://www.cytoscape.orghttp://cytoscape.org/cgi-bin/moin.cgi/Data_Sets/" target="_top">http://www.cytoscape.orghttp://cytoscape.org/cgi-bin/moin.cgi/Data_Sets/</a>  <span class="emphasis"><em>A merged human interactome by Andrew Garrow, Yeyejide Adeleye and Guy Warner Unilever, Safety and Environmental Assurance Center </em></span> </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="(3) Launch the application"/>(3) Launch the application</h3></div></div></div><p>Double-click on the icon created by the installer or by running <code class="code">cytoscape.sh</code> from the command line (Linux or Mac OS X) or double-clicking <code class="code">cytoscape.bat</code> (Windows). Alternatively, you can pass the .jar file to Java directly using the command <code class="code">java -Xmx512M -jar cytoscape.jar -p plugins</code>. The <code class="code">-Xmx512M</code> flag tells java to allocate more memory for Cytoscape and the <code class="code">-p plugins</code> option tells cytoscape to load all of the plugins in the plugins directory.  Loading the plugins is important because many key features like layouts, filters and the attribute browser are included with Cytoscape as plugins in the <code class="code">plugins</code> directory. See the [Cytoscape_User_Manual/Command_Line_Arguments Command Line] chapter for more detail. In Windows, it is also possible to directly double-click the .jar file to launch it. However, this does not allow specification of command-line arguments (such as the location of the plugin directory).  </p><p><span class="strong"><strong>Cytoscape Window</strong></span> When you succeed in launching Cytoscape, a window will appear that looks like this (captured on Linux): </p><p><span class="inlinemediaobject"><img src="images/cytoscape_startup.png" alt="attachment:cytoscape_startup.png"/></span> </p><p/><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Note on Memory Consumption"/>Note on Memory Consumption</h4></div></div></div><p>For users interested in loading large networks, the amount of memory needed by Cytoscape will increase. Memory usage depends on both number of network objects (nodes+edges) and the number of attributes. Here are some <span class="emphasis"><em>rough</em></span> suggestions for memory allocation: </p><p><span class="emphasis"><em>Suggested Memory Size <span class="strong"><strong>Without</strong></span> View</em></span> </p><div class="table"><a id="d0e493"/><p class="title"><b>Table 3. </b></p><div class="table-contents"><div class="caption"/><table border="1"><colgroup><col/><col/></colgroup><tbody><tr><td><p>Number of Objects (nodes + edges)</p></td><td><p>Suggested Memory Size</p></td></tr><tr><td><p>0 - 70,000</p></td><td><p> 512M (default)</p></td></tr><tr><td><p>70,000 - 150,000</p></td><td><p>800M</p></td></tr></tbody></table></div></div><br class="table-break"/><p><span class="emphasis"><em>Suggested Memory Size <span class="strong"><strong>With</strong></span> View</em></span> </p><div class="table"><a id="d0e527"/><p class="title"><b>Table 4. </b></p><div class="table-contents"><div class="caption"/><table border="1"><colgroup><col/><col/></colgroup><tbody><tr><td><p>Number of Objects (nodes + edges)</p></td><td><p>Suggested Memory Size</p></td></tr><tr><td><p>0 - 20,000</p></td><td><p>512M (default)</p></td></tr><tr><td><p>20,000 - 70,000</p></td><td><p>800M</p></td></tr><tr><td><p>70,000 - 150,000</p></td><td><p>1G</p></td></tr></tbody></table></div></div><br class="table-break"/><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Note on Directory Location"/>Note on Directory Location</h4></div></div></div><p>For the application to work properly, all files should be left in the directory in which they were unpacked. The core Cytoscape application assumes this directory structure when looking for the various libraries needed to run the application.  If you are adventurous, you can get creative with the $CLASSPATH and/or the cytoscape.jar manifest file and run Cytoscape from any location you want. </p></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Quick Tour of Cytoscape"/>Quick Tour of Cytoscape</h2></div></div></div><p>When a network is loaded, Cytoscape will look something like the image below: </p><p><span class="inlinemediaobject"><img src="images/cytoscape_startup_network.png" alt="attachment:cytoscape_startup_network.png"/></span> </p><p>The main window here has several components: </p><div class="orderedlist"><ol type="1"><li>The menu bar at the top (See below for more information about each menu). </li><li>The toolbar, which contains icons for commonly used functions. These functions are also available via the menus. Hover the mouse pointer over an icon and wait momentarily for a description to appear as a tooltip. </li><li>The network management panel (top-left ). This contains an optional network overview pane (bottom-left overview of the network). </li><li>The main network view window, which displays the network. </li><li>The attribute browser panel (bottom panel), which displays attributes of selected nodes and edges and enables you to modify the values of attributes. </li></ol></div><p>The network management and attribute browser panels are dockable tabbed panels known as CytoPanels.  You can undock any of these panels by clicking on the Float Window control in the upper-right corner of the CytoPanel. </p><p><span class="inlinemediaobject"><img src="images/float_icon.png" alt="attachment:float_icon.png"/></span> If you select this control, e.g. on the attribute browser panel, you will now have two Cytoscape windows, the main window, and a new window labeled CytoPanel 2, similar to the one shown below. </p><p><span class="inlinemediaobject"><img src="images/attribute_browser_nodes.png" alt="attachment:attribute_browser_nodes.png"/></span> Note that CytoPanel 2 now has a Dock Window control. If you select this control, the window will dock onto the main window. </p><p>Cytoscape also has an editor that enables you to build and modify networks interactively by dragging and dropping nodes and edges from a palette onto the main network view window.  The Node shapes and Edge arrows on the palette are defined by the currently used Visual Style.  To edit a network, just select the Editor tab on CytoPanel 1.  An example of an editor, with the palette contained in CytoPanel 1 and defined by the Bio<span class="strong"><strong/></span>Molecule<span class="strong"><strong/></span>Editor Visual Style, is shown below. </p><p><span class="inlinemediaobject"><img src="images/editor1.png" alt="attachment:editor1.png"/></span> <a id="menus"/> </p><p/><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="The Menus"/>The Menus</h3></div></div></div><p><span class="strong"><strong>File</strong></span> The <span class="underline">File</span> menu contains most basic file functionality:  <span class="underline">File → Open</span> for opening a Cytoscape session file, <span class="underline">File → Save</span> for saving a session file, <span class="underline">File → Import</span> for importing data such as networks and attributes, <span class="underline">File → Export</span> for exporting data and images.  <span class="underline">File → Print</span> allows printing.  <span class="underline">File → Quit</span> closes all windows of Cytoscape and exits the program. <span class="underline">File → New </span> creates a new network, either blank for editing, or from an existing network. </p><p><span class="inlinemediaobject"><img src="images/menu_file.png" alt="attachment:menu_file.png"/></span> </p><p><span class="strong"><strong>Edit</strong></span> The <span class="underline">Edit</span> menu contains Undo and Redo menu items which undo and redo edits made in the Attribute Browser and the Network Editor <span class="strong"><strong>ONLY</strong></span>.  <span class="emphasis"><em>Undo and Redo support do </em></span>NOT<span class="emphasis"><em> work for other actions in Cytoscape such as layout.</em></span> </p><p>There are also options for creating and destroying views (graphical representations of a network) and networks (the network data – not yet visualized), as well as an option for deleting selected nodes and edges from the current network. All deleted nodes and edges can be restored to the network via the <span class="underline">Edit → Undo</span> menu item. The <span class="underline">Edit</span> Menu also supports Preferences editing for properties and plug-ins via a Preferences Dialog. </p><p><span class="inlinemediaobject"><img src="images/menu_edit.png" alt="attachment:menu_edit.png"/></span> </p><p><span class="strong"><strong>View</strong></span> The <span class="underline">View</span> menu allows you to display or hide the network management panel (CytoPanel 1), the attribute browser (CytoPanel 2), the Network Overview (in CytoPanel 1), and the Advanced window.  The <span class="underline">View</span> menu also allows you to open the VizMapper and lock the VizMapper.  The <span class="underline">View → Desktop</span> provide further control over the various CytoPanels. </p><p><span class="inlinemediaobject"><img src="images/menu_view.png" alt="attachment:menu_view.png"/></span> </p><p><span class="strong"><strong>Select</strong></span> The <span class="underline">Select</span> menu contains different options selecting nodes and edges.  It also contains the <span class="underline">Select → Use Filters</span> option which allows filters to be created which can be used to automatically select portions of a network whose node or edge attributes meet a filtering criterion. </p><p><span class="inlinemediaobject"><img src="images/menu_select.png" alt="attachment:menu_select.png"/></span> </p><p><span class="strong"><strong>Layout</strong></span> The <span class="underline">Layout</span> menu has an array of features for organizing the network visually. The top of the menu contains tools for manipulating sections of networks. These tools include scale, rotate, distribute, and align.  The bottom section of the menu lists a variety of layout algorithms which automatically lay a network out. </p><p><span class="inlinemediaobject"><img src="images/menu_layout.png" alt="attachment:menu_layout.png"/></span> </p><p><span class="strong"><strong>Plugins</strong></span> The <span class="underline">Plugins</span> menu has menu items or choices added by plugins that have been loaded, such as "Import BioPAX Document from file". Depending on which plugins are loaded, the plugins that you see may be different than what appear here. </p><p><span class="inlinemediaobject"><img src="images/menu_plugins.png" alt="attachment:menu_plugins.png"/></span> </p><div class="table"><a id="d0e768"/><p class="title"><b>Table 5. </b></p><div class="table-contents"><div class="caption"/><table border="1"><colgroup><col/></colgroup><tbody><tr><td><p>Note: A list of available Cytoscape Plugins with descriptions is available online at: <a href="http://cytoscape.org/plugins2.php" target="_top">http://cytoscape.org/plugins2.php</a> </p></td></tr></tbody></table></div></div><br class="table-break"/><p><span class="strong"><strong>Help</strong></span> The <span class="underline">Help</span> menu allows you to launch the online help viewer and browse the table of contents (Contents…). The “About…” menu item displays information about the running version of Cytoscape. </p><p><span class="inlinemediaobject"><img src="images/menu_help.png" alt="attachment:menu_help.png"/></span> </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Network Management"/>Network Management</h3></div></div></div><p>Cytoscape 2.3 allows multiple networks to be loaded at a time, either with or without a view. A network stores all the nodes and edges that are loaded by the user and a view displays them. You can have many views of the same network. Networks (and their optionally associated views) can be organized hierarchically. </p><p>An example where a number of networks have been loaded and arranged hierarchically is shown below: </p><p><span class="inlinemediaobject"><img src="images/cytoscape_network_hierarchy.png" alt="attachment:cytoscape_network_hierarchy.png"/></span> </p><p>The network manager (top-right tree view in CytoPanel 1) shows the networks that are loaded. Clicking on a network here will make that view active in the main window, if the view exists (green highlighted networks only). Each network has a name and size (number of nodes and edges), which are shown in the network manager. If a network is loaded from a file, the network name is the name of the file. </p><p>Some networks are very large (thousands of nodes and edges) and can take a long time to display. For this reason, a network in Cytoscape may not contain a ‘view’. Networks that have a view are highlighted in green and networks that don’t have a view are highlighted in red. You can create or destroy a view for a network by right-clicking the network name in the network manager or by choosing the appropriate option in the edit menu. You can also destroy previously loaded networks this way. In the picture above, seven networks are loaded, six green ones with views and one red one without a view. </p><p>Certain operations in Cytoscape will create new networks. If a new network is created from an old network, for example by selecting a set of nodes in one network and copying these nodes to a new network (via the <span class="underline">File → New → Network</span> option), it will be shown as a child of the network that it was derived from. In this way, the relationships between networks that are loaded in Cytoscape can be seen at a glance. Networks in the top part of the tree in the figure above were generated in this manner. </p><p>The available network views are also arranged as multiple, overlapping windows in the network view window. You can maximize, minimize, and destroy network views by using the normal window controls for your operating system. </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="The Network Overview Window"/>The Network Overview Window</h3></div></div></div><p>The network overview window shows an overview (or ‘bird’s eye view’) of the network. It can be used to navigate around a large network view. This feature can be turned on or off via the <span class="underline">View → Show/Hide Network Overview</span> menu. The blue rectangle in the overview window shown below can be dragged with the mouse to navigate to a part of the network. The size of the navigation rectangle depends on the size of the active view and the zoom level of the view. The rectangle is smaller if the view is zoomed in and larger if zoomed out. </p><p><span class="inlinemediaobject"><img src="images/network_overview.png" alt="attachment:network_overview.png"/></span> </p></div></div><div class="itemizedlist"><ul type="disc"><li><a id="command_line_args"/></li></ul></div><p/><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Command Line Arguments"/>Command Line Arguments</h2></div></div></div><div class="table"><a id="d0e846"/><p class="title"><b>Table 6. </b></p><div class="table-contents"><div class="caption"/><table border="1"><colgroup><col/></colgroup><tbody><tr><td><p><span class="strong"><strong>Important!</strong></span> The command line arguments have changed since version 2.2, so please read this section carefully. </p></td></tr></tbody></table></div></div><br class="table-break"/><p>Cytoscape recognizes a number of optional command line arguments, including run-time specification of network files, attribute files, and session files. This is the output generated when the cytoscape is executed with the "-h" or "--help" flag. </p><p/><pre class="screen">usage: java -Xmx512M -jar cytoscape.jar [OPTIONS]
 -h,--help                      Print this message.
 -v,--version                 Print the version number.
 -s,--session &lt;file&gt;        Load a cytoscape session (.cys) file.
 -N,--network &lt;file&gt;     Load a network file (any format).
 -e,--edge-attrs &lt;file&gt;    Load an edge attributes file (edge attribute format).
 -n,--node-attrs &lt;file&gt;   Load a node attributes file (node attribute format).
 -m,--matrix &lt;file&gt;        Load a node attribute matrix file (table).
 -p,--plugin &lt;file&gt;         Load a plugin jar file, directory of jar files,
                                     plugin class name, or plugin jar URL.
 -P,--props &lt;file&gt;         Load cytoscape properties file (Java properties
                                    format) or individual property: -P name=value.
 -V,--vizmap &lt;file&gt;      Load vizmap properties file (Java properties format).
</pre><p>Any file specified for an option may be specified as either a path or as a URL.  For example you can specify a network as a file (assuming that myNet.sif exists in the current working directory): <code class="code">cytoscape.sh -N myNet.sif</code>. Or you can specify a network as a URL: <code class="code">cytoscape.sh -N http://example.com/myNet.sif</code>. </p><div class="table"><a id="d0e870"/><p class="title"><b>Table 7. </b></p><div class="table-contents"><div class="caption"/><table border="1"><colgroup><col/><col/></colgroup><tbody><tr><td><p><span class="strong"><strong>Argument</strong></span> </p></td><td><p><span class="strong"><strong>Description</strong></span> </p></td></tr><tr><td><p>-h,--help </p></td><td><p>This flag generates the help output you see above and exits. </p></td></tr><tr><td><p>-v,--version </p></td><td><p>This flag prints the version number of cytoscape and exits. </p></td></tr><tr><td><p>-s,--session &lt;file&gt; </p></td><td><p>This option specifies a session file to be loaded.  Since only one session file can be loaded at a given time, this option may only specified once on a given command line.  The option expects a <span class="strong"><strong>.cys</strong></span> cytoscape session file.  It is customary, although not necessary, for session file names to contain the <span class="strong"><strong>.cys</strong></span> extension. </p></td></tr><tr><td><p>-N,--network &lt;file&gt; </p></td><td><p>This option is used to load all types of network files.  SIF, GML, and XGMML files can all be loaded using the -N option.  You can specify as many networks as desired on a single command line. </p></td></tr><tr><td><p>-e,--edge-attrs &lt;file&gt; </p></td><td><p>This option specifies an edge attributes file.  You may specify as many edge attribute files as desired on a single command line. </p></td></tr><tr><td><p>-n,--node-attrs &lt;file&gt; </p></td><td><p>This option specifies a node attributes file.  You may specify as many node attribute files as desired on a single command line. </p></td></tr><tr><td><p>-m,--matrix &lt;file&gt; </p></td><td><p>This option specifies a data matrix file.  In a biological context, the data matrix consists of expression data. All data matrix files are read into node attributes. You may specify as many data matrix files as desired on a single command line. </p></td></tr><tr><td><p>-p,--plugin &lt;file&gt; </p></td><td><p>This option specifies a cytoscape plugin (.jar) file to be loaded by cytoscape. This option also subsumes the previous "resource plugin option".   You may specify a class name that identifies your plugin and the plugin will be loaded if the plugin is in Cytoscape's CLASSPATH.  For example, assuming that the class MyPlugin can be found in the CLASSPATH, you could specify the plugin like: <code class="code">cytoscape.sh -p MyPlugin.class</code>.  A final means of specifying plugins is to specify a file name who's contents contain a list of plugin jar files. </p></td></tr><tr><td><p>-P,--props &lt;file&gt; </p></td><td><p>This option specifies cytoscape properties.  Properties can be specified either as a properties file (in Java's standard properties format), or as individual properties. To specify individual properties, you must specify the property name followed by the property value where the name and value are separated by the '=' sign.  For example to specify the defaultSpeciesName:  <code class="code">cytoscape.sh -P defaultSpeciesName=Human</code>.  If you would like to include spaces in your property, simply enclose the name and value in quotation marks:  <code class="code">cytoscape.sh -P "defaultSpeciesName=Homo Sapiens"</code>.  The property option subsumes previous options -noCanonicalization, -species, and -bioDataServer.  Now it would look like: <code class="code">cytoscape.sh -P defaultSpeciesName=Human -P noCanonicalization=true -P bioDataServer=myServer</code>. </p></td></tr><tr><td><p>-V,--vizmap &lt;file&gt; </p></td><td><p>This option specifies a visual properties file. </p></td></tr></tbody></table></div></div><br class="table-break"/><p>Aside from plugins, all options described above can be loaded from the GUI once cytoscape is running. </p><p>Additional command line arguments that are not recognized by the Cytoscape core are passed to the Plugin modules. Please refer to the documentation for each specific Plugin for more details. </p></div><div class="itemizedlist"><ul type="disc"><li><a id="properties"/></li></ul></div><p/><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Cytoscape Preferences"/>Cytoscape Preferences</h2></div></div></div><p/><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Managing Properties"/>Managing Properties</h3></div></div></div><div class="table"><a id="d0e990"/><p class="title"><b>Table 8. </b></p><div class="table-contents"><div class="caption"/><table border="1"><colgroup><col/></colgroup><tbody><tr><td><p><span class="strong"><strong>Important!</strong></span> If you have used previous versions of Cytoscape, you will notice that handling of properties has changed.  The most important change is that properties are no longer saved by default to the current directory or to your home .cytoscape directory.  Properties are stored by default in Cytoscape Session files.  The cytoscape.props file still exists in the .cytoscape directory but is only written to when the user explicitly requests that the current settings be made the defaults for all future sessions of Cytoscape.  <span class="emphasis"><em>Unless you have something important in your .cytoscape/cytoscape.props file, your best bet will be to delete the file and use the defaults.</em></span> </p></td></tr></tbody></table></div></div><br class="table-break"/><p>The Cytoscape Preferences Dialog, accessed via <span class="underline">Edit → Preferences → Properties…</span>, has sections for general properties display/editing and plugins specification via the properties mechanism. Preferences are now stored in Cytoscape session files.  Any changes made to properties while running Cytoscape will be saved to the current session when you save the session.  If you do not save the session, export the properties (<span class="underline">File → Export</span>), or set them as defaults (see below), the properties will be lost and the next time Cytoscape starts, defaults will be used. </p><p>Cytoscape properties are displayed in the Properties section of the dialog. These properties are configurable via Add, Modify and Delete operations. </p><p><span class="inlinemediaobject"><img src="images/preferences_editor.png" alt="attachment:preferences_editor.png"/></span> </p><p>Some common properties are described below. </p><div class="table"><a id="d0e1024"/><p class="title"><b>Table 9. </b></p><div class="table-contents"><div class="caption"/><table border="1"><colgroup><col/><col/><col/></colgroup><tbody><tr><td><p><span class="strong"><strong>Property name</strong></span></p></td><td><p><span class="strong"><strong>Default value</strong></span></p></td><td><p><span class="strong"><strong>Valid values</strong></span></p></td></tr><tr><td><p>defaultSpeciesName </p></td><td><p>PleaseSpecify </p></td><td><p>Species name. This value must match the name in the first line of the file specified in the bioDataServer’s manifest for synonyms e.g., for yeast synonyms, specify Saccharomyces cerevisiae</p></td></tr><tr><td><p>bioDataServer </p></td><td><p>PleaseSpecify </p></td><td><p>annotation/manifest, and other manifest file locations </p></td></tr><tr><td><p>viewThreshold </p></td><td><p>10000 </p></td><td><p>integer &gt; 0 </p></td></tr><tr><td><p>secondaryViewThreshold </p></td><td><p>30000 </p></td><td><p>integer &gt; 0 </p></td></tr><tr><td><p>viewType </p></td><td><p>tabbed </p></td><td><p>tabbed </p></td></tr><tr><td><p>plugins </p></td><td><p> </p></td><td><p>comma-separated list of jar files containing plugins, or URL’s to jar files containing plugins (e.g., <a href="http://server/my-plugin.jar" target="_top">http://server/my-plugin.jar</a>) </p></td></tr><tr><td><p>defaultWebBrowser </p></td><td><p> </p></td><td><p>A path to the web browser on your system. This only needs to be specified if Cytoscape can’t find the web browser on your system. </p></td></tr></tbody></table></div></div><br class="table-break"/><p>The specification of plugins to be loaded into Cytoscape at startup time is also supported in cytoscape.props and accessible in this dialog under the Plugins section. In this special case, the plugins property specifies a comma-separated list of jar files or URLs to jar files containing plugins. This property is parsed and presented and managed in the Plugins table, as at left. </p><p><span class="strong"><strong>Setting Default Properties</strong></span>  It is possible to alter the default properties for Cytoscape. In the Cytoscape Preferences Dialog, accessed  via <span class="underline">Edit → Preferences → Properties…</span>, edit any preferences, then click the "Make Current Cytoscape Properties Default" checkbox in the "Default Cytoscape Properties" section of the dialog.  This will save any properties to the .cytoscape directory contained in your home directory.  You should only do this if you want specific properties to apply to all of your Cytoscape sessions. You can rely on the Cytoscape session file to maintain the properties used for that particular session, so making certain properties default is not necessary to save the properties. </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Managing Bookmarks"/>Managing Bookmarks</h3></div></div></div><p>You can manage the available bookmarks on the system from the <span class="underline">Edit → Preferences → Bookmarks…</span> menu.   </p><p><span class="inlinemediaobject"><img src="images/BookmarkManager.PNG" alt="attachment:BookmarkManager.PNG"/></span> </p><p>There are currently two types of bookmarks <span class="strong"><strong>network</strong></span> and <span class="strong"><strong>annotation</strong></span>.  Network bookmarks are URLs pointing to network files available on the internet.  These are nomal networks that can be loaded into Cytoscape.  The annotation bookmarks are URLs pointing to ontology annotation files.  The annotation bookmarks are only used when importing an ontology. </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Managing Proxy Servers"/>Managing Proxy Servers</h3></div></div></div><p>You can define and configure a proxy server for Cytoscape to use from the <span class="underline">Edit → Preferences → Proxies…</span> menu. </p><p><span class="inlinemediaobject"><img src="images/ProxyServerSetting.PNG" alt="attachment:ProxyServerSetting.PNG"/></span> </p><p>After the proxy server is set, all network traffic related to loading a network from URL will pass through the proxy server.  Other plugins use this capability as well. </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Creating Networks"/>Creating Networks</h2></div></div></div><p>There are 3 different ways of creating networks in Cytoscape: </p><div class="orderedlist"><ol type="1"><li>Importing pre-existing, formatted network files. </li><li>Importing pre-existing unformatted text or excel files. </li><li>Creating an empty network and adding nodes and edges using the Editor. </li></ol></div><p/><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Import Fixed-Format Network Files"/>Import Fixed-Format Network Files</h3></div></div></div><p>Network files can be specified in any of the formats described in the [Cytoscape_User_Manual/Network_Formats Network Formats] chapter. Networks are imported into Cytoscape through the <span class="emphasis"><em><span class="strong"><strong>Import Network</strong></span></em></span> dialog, which can be activated through Menu <span class="underline">File → Import → Network</span>. The network file can either be located on the local computer, or it can also be located in a remote computer and referenced with a URL. </p><p/><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Load Networks from Local Computer"/>Load Networks from Local Computer</h4></div></div></div><p>By default, Cytoscape load network from the local computer. When the import network dialog is initialized, the data source type “Local” will be selected. To import a network, first click on the “Select” button, which will pop-up a file chooser and let user browse the local disk to choose a network file. User is allowed only to choose Cytoscape recognized network types. After the file is selected, a click on the Import button will import the network. For example, The following steps will load a sample molecular interaction network in SIF format. Use the menu <span class="underline">File → Import → Network</span>. select the file “galFiltered.sif” in “sampleData” directory. After a few seconds, a small network of 331 nodes should appear in the main window. The procedure to load network in other format is very similar. To load the same interaction network as a GML, use the menu: <span class="underline">File → Import → Network</span> again. In the resulting file dialog box, select the file “sampleData/galFiltered.gml”. Node and edge attribute files as well as expression data and extra annotation can be loaded as well. </p><p>Network files may also be loaded directly from the command line using the –N option (works for SIF, GML, and XGMML). </p><p><span class="inlinemediaobject"><img src="images/network_import_dialog1.png" alt="attachment:network_import_dialog1.png"/></span> </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Load Network from a Remote Computer (URL import)"/>Load Network from a Remote Computer (URL import)</h4></div></div></div><p>Cytoscape also supports network import through URL. In this case, user should choose “Remote” as the data Source Type on the Import Network dialog. Next the user can either type (or paste) a URL into choice box or select one of the pre-existing bookmarked networks.  Cytoscape supports URL bookmarks. A click on the right-most arrow of the comboBox will show a list of available network bookmarks. Cytoscape contains a pre-defined a list of bookmarks, which point to sample network files located on the Cytoscapes web server. Users may add new bookmarks through the Bookmark manager described in the [Cytoscape_User_Manual/Preferences Preferences] chapter.  </p><p>After the user specifies a URL a click on the import button will load the network from the remote computer.   </p><p><span class="inlinemediaobject"><img src="images/network_import_dialog2.png" alt="attachment:network_import_dialog2.png"/></span> </p><p>Network import from URL has an important caveat.  Because Cytoscape determines file type primarily (not exclusively) by file extension, it can have trouble importing networks with URLs that don't end in a  human readable file name.  If Cytoscape does not recognize a meaningful file name with extension in the URL, it will attempt to guess the type of file based on MIME type.  If the MIME type is not recognizable to any of our import handlers, then the import will fail.   </p><p>Another issue for network import is the presence of firewalls, which can affect what files are accessible to a computer.  To work around this problem, Cytoscape supports the use  of proxy servers. To configure the proxy server, click <span class="underline">Edit → Preference → Proxy Server…</span>.  This is further described in the [Cytoscape_User_Manual/Preferences Preferences] chapter. </p><p><a id="import-free-format-tables"/> </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Import Free-Format Table Files"/>Import Free-Format Table Files</h3></div></div></div><p>Introduced in version 2.4, Cytoscape now supports the import of networks from delimited text files and excel files from the menu <span class="underline">Edit → Import → Network from Table (Text/MS Excel)...</span>.   An interactive GUI allows users to specify parsing options for specified files.  The screen provides a preview that shows how the file will be parsed given the current configuration.  As the configuration changes, the preview updates automatically.  In addition to specifying how the file will be parsed, the user must also choose the columns that represent the Source nodes, the Target nodes, and an optional edge interaction type. </p><p><span class="inlinemediaobject"><img src="images/network_table_import.png" alt="attachment:network_table_import.png"/></span> </p><p/><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Supported Files"/>Supported Files</h4></div></div></div><p><span class="emphasis"><em>Network Table Import</em></span> function supports delimited text files and Microsoft Excel Workbooks (1).  The following is a sample table file: </p><p/><pre class="screen">source  target  interaction     boolean attribute       string attribute        floating point attribute
YJR022W YNR053C pp      TRUE    abcd12371       1.2344543
YER116C YDL013W pp      TRUE    abcd12372       1.2344543
YNL307C YAL038W pp      FALSE   abcd12373       1.2344543
YNL216W YCR012W pd      TRUE    abcd12374       1.2344543
YNL216W YGR254W pd      TRUE    abcd12375       1.2344543
</pre><p>The network table files should contain at least two columns: <span class="emphasis"><em><span class="strong"><strong>source</strong></span></em></span> nodes and <span class="emphasis"><em><span class="strong"><strong>target</strong></span></em></span> nodes.  <span class="emphasis"><em><span class="strong"><strong>Interaction</strong></span></em></span> is optional in this format.  Therefore, minimal network table looks like the following: </p><p/><pre class="screen">YJR022W YNR053C
YER116C YDL013W
YNL307C YAL038W
YNL216W YCR012W
YNL216W YGR254W
</pre><p>One row in a network table file represents an edge and its edge attributes.  This means that a network file is considered a combination of network data and edge attributes.  A table may contain columns that aren't meant to be edge attributes.  In this case, you can choose not to import those columns by clicking on the column header in the preview window.  This function is useful when importing a data table like the following (2): </p><pre class="screen">Unique ID A     Unique ID B     Alternative ID A        Alternative ID B        Aliases A       Aliases B       Interaction detection methods   First author surnames   Pubmed IDs      species A       species B       Interactor types        Source database Interaction ID  Interaction labels      Cross-references        Associated Files        Experiment files        Experiment labels       Different techniques    Different Pubmed articles       Different sources       Weight

7205    5747    TRIP6   PTK2    Q15654  Q05397-1        vv|HPRD Currently not available 14688263|15892868(Marcotte)     Mammalia        Homo sapiens    protein|protein HPRD|Marcotte   0       Thyroid hormone receptor interactor 6-FAK-|PTK2-TRIP6   NA(HPRD)|NA(Marcotte)   HPRD/02859_psimi.xml|other/ORIGINAL_DATA_MARCOTTE.txt   vv(HPRD/02859_psimi.xml)|HPRD(other/ORIGINAL_DATA_MARCOTTE.txt) 17651(ExptRef)|Marcotte 2       2       2       2

4174    7311    MCM5    UBA52   P33992  P62987  neighbouring_reaction   Currently not available 15608231(Reactome)      Homo sapiens    Homo sapiens    protein|protein Reactome        1       P33992-P62988   Reaction:68944&lt;-&gt;Reaction:68946(Reactome)|Reaction:68946&lt;-&gt;Reaction:68944(Reactome)     other/ORIGINAL_DATA_MARCOTTE.txt        neighbouring_reaction(other/REACTOMEhomo_sapiens.interactions.txt)      Reactome        1       1       1       1

7040    7040    TGFB1   TGFB1   P01137  P01137  nmr: nuclear magnetic resonance Currently not available 8679613 Homo sapiens    Homo sapiens    protein|protein BIND    2       TGFB1-TGFB1-    72085(BIND)     BIND/bind_taxid9606.1.psi.xml   nmr: nuclear magnetic resonance(BIND/bind_taxid9606.1.psi.xml)  NotAvailable    1       1       1       1
</pre><p>This data file is a tab-delimited text and contains network data (interactions), edge attributes, and node attributes.  To import network and edge attributes from this table, you need to choose <span class="emphasis"><em>Unique ID A</em></span> as source, <span class="emphasis"><em>Unique ID B</em></span> as target, and <span class="emphasis"><em>Interactor types</em></span> as interaction type.  Then you need to turn off columns used for node attributes (<span class="emphasis"><em>Alternative ID A</em></span>, <span class="emphasis"><em>species B</em></span>, etc.).  Other columns can be imported as edge attributes.   </p><p>The network import dialog cannot import node attributes - only edge attributes.  To import node attributes from this table, please see the <a href="http://cytoscape.org/cgi-bin/moin.cgi/Cytoscape_User_Manual/Attributes" target="_top"> Attributes</a> section of this manual. </p><p>Note (1): in version 2.4, Cytoscape supports Excel Workbooks with single sheet (table) only.  <span class="underline">Multiple sheet Workbooks are not supported.</span> </p><p>Note (2): from <span class="emphasis"><em>A merged human interactome</em></span> datasets by Andrew Garrow, Yeyejide Adeleye and Guy Warner (Unilever, Safety and Environmental Assurance Center, 12 October 2006).  Actual data files are available at: </p><p><a href="http://www.cytoscape.orghttp://cytoscape.org/cgi-bin/moin.cgi/Data_Sets/" target="_top">http://www.cytoscape.orghttp://cytoscape.org/cgi-bin/moin.cgi/Data_Sets/</a> </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Basic Operations"/>Basic Operations</h4></div></div></div><p>To import network text/Excel tables, please follow these steps: </p><div class="orderedlist"><ol type="1"><li><p>Select <span class="underline">File → Import → Network from Table (Text/MS Excel)...</span> </p></li><li><p>Select a table file by clicking on <span class="emphasis"><em><span class="strong"><strong>Select File</strong></span></em></span> button.  </p></li><li><p>Set Interaction Definition.  You need to specify <span class="emphasis"><em><span class="strong"><strong>Source Interaction</strong></span></em></span>, <span class="emphasis"><em><span class="strong"><strong>Target Interaction</strong></span></em></span>, and <span class="emphasis"><em><span class="strong"><strong>Interaction Type</strong></span></em></span>.  For <span class="emphasis"><em><span class="strong"><strong>Interaction Type</strong></span></em></span>, if you select <span class="emphasis"><em>Default Interaction</em></span> the default interaction value will be used for all edges.  The default value is <span class="emphasis"><em>pp</em></span>.  This value can be modified in <span class="emphasis"><em>Advanced Options</em></span>. </p></li><li>(Optional) Select edge attribute columns.  Network table files can have edge attribute columns in addition to network data. <div class="itemizedlist"><ul type="disc"><li><p>Enable/Disable Attribute Column - By <span class="emphasis"><em><span class="strong"><strong>left</strong></span></em></span>-clicking on a <span class="emphasis"><em><span class="strong"><strong>column header</strong></span></em></span> in the preview table, you can enable/disable edge attributes.  If the header is checked and entries are blue, the column will be imported as an edge attribute.  For example, the table below shows that column 1 through 3 will be used as network data, and column 5 and 6 will be imported as edge attributes.   <span class="inlinemediaobject"><img src="images/network_table_sample.png" alt="attachment:network_table_sample.png"/></span> </p></li><li>Change Attribute Name and Data Types: </li></ul></div><div class="itemizedlist"><ul type="disc"><li><p>If you <span class="emphasis"><em><span class="strong"><strong>right</strong></span></em></span>-click on a <span class="emphasis"><em><span class="strong"><strong>column header</strong></span></em></span> in the preview table, the dialog above will be displayed.  You can modify attribute name and data type from this dialog.  For more detail, see <span class="emphasis"><em><span class="strong"><strong>Modify Attribute Name/Type</strong></span></em></span>. </p></li></ul></div></li><li><p>Click <span class="emphasis"><em><span class="strong"><strong>Import</strong></span></em></span> button.  </p></li></ol></div><p><span class="strong"><strong>Advanced Options</strong></span> </p><p><span class="inlinemediaobject"><img src="images/network_import_advanced.png" alt="attachment:network_import_advanced.png"/></span> </p><p>You can select several options by checking <span class="emphasis"><em><span class="strong"><strong>Show Text File Import Options</strong></span></em></span>. </p><div class="itemizedlist"><ul type="disc"><li><p>Delimiter: You can select multiple delimiters for text tables.  By default, <span class="emphasis"><em><span class="strong"><strong>Tab</strong></span></em></span> and <span class="emphasis"><em><span class="strong"><strong>Space</strong></span></em></span> are selected as delimiters. </p></li><li><p>Preview Options: When you select a network table file, first 100 entries will be displayed in the Preview panel.  To display more entries, change the value for this option.  If you want to show all entries in the file, select <span class="emphasis"><em><span class="strong"><strong>Show all entries in the file</strong></span></em></span>.  You need to click <span class="emphasis"><em><span class="strong"><strong>Reload button</strong></span></em></span> to update the Preview panel. </p></li><li>Attribute Names <div class="itemizedlist"><ul type="circle"><li><p><span class="emphasis"><em><span class="strong"><strong>Transfer first line as attribute names</strong></span></em></span>: By choosing this option, first entry in the file will be used as edge attribute names. </p></li><li><p><span class="emphasis"><em><span class="strong"><strong>Start Import Row</strong></span></em></span>: Change the start row for import.  For example, if you want to skip first 3 rows in the file, set <span class="emphasis"><em>4</em></span> for this option. </p></li><li><p><span class="emphasis"><em><span class="strong"><strong>Comment Line</strong></span></em></span>: Rows start with this character will be ignored.  This option will be used to skip comment lines in text files. </p></li></ul></div></li><li><p>Network Import Options: If <span class="emphasis"><em>Interaction Type</em></span> is set to <span class="emphasis"><em><span class="strong"><strong>Default Interaction</strong></span></em></span>, the value here will be used as interaction for all edges. </p></li></ul></div><p><span class="strong"><strong>Modify Attribute Name/Type</strong></span> </p><p><span class="inlinemediaobject"><img src="images/network_table_attr_dialog1.png" alt="attachment:network_table_attr_dialog1.png"/></span> </p><p>Attribute names and data types can be modified in this dialog. </p><div class="itemizedlist"><ul type="disc"><li>Modify Attribute Name - just type new attribute name in the text field and click OK. </li><li><p>Modify Attribute Data Type - <span class="emphasis"><em>Table Import</em></span> supports the following attribute data types: </p><div class="itemizedlist"><ul type="circle"><li>String </li><li>Boolean (True/False) </li><li>Integer </li><li>Floating Point </li><li>List of String/Boolean/Integer/Floating Point    </li></ul></div>Cytoscape has basic data type detection function for string, boolean, integer, and floating point numbers.  This means attribute data type will be set to integer if all entries in a column are integers, etc.  If you need to change the suggested data type, click on one of the radio buttons in the dialog.  For list data type, you need to select delimiter for list cells.  The list delimiter is global, i.e. all cells will be split by this character.  You cannot specify column-specific list delimiter. </li></ul></div><p/></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Edit a New Network"/>Edit a New Network</h3></div></div></div><p>The last option for creating a network is to create a new, empty network and manual add nodes and edges.  To do this, select the <span class="underline">File → New → Network → Empty Network</span> menu.  This will create a new network.  From here select the Edit tab in Cyto Panel 1 and edit the network as described in the [Cytoscape_User_Manual/Editor Cytoscape Editor] chapter. </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Supported Network File Formats"/>Supported Network File Formats</h2></div></div></div><p>Cytoscape can read network/pathway files written in the following formats: </p><div class="itemizedlist"><ul type="disc"><li>Simple interaction file (SIF or .sif format) </li><li>Graph Markup Language (GML or .gml format) </li><li>XGMML (extensible graph markup and modelling language). </li><li>SBML </li><li>BioPAX </li><li>PSI-MI Level 1 and 2.5 </li><li>Delimited text </li><li>Excel Workbook (.xls) </li></ul></div><p>SIF specifies nodes and interactions only, while others store additional information about network layout and allows network data exchange with a variety of other network programs and data sources. Typically, SIF is used to import interactions when building a network for the first time, since it is easy to create in a text editor or spreadsheet. Once the interactions have been loaded and layout has been performed, the network may be saved to GML or XGMML format for interaction with other systems. All file types listed (except Excel) are text files and you can edit and view them in a regular text editor.  </p><p/><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="SIF Format"/>SIF Format</h3></div></div></div><p>The simple interaction format is convenient for building a graph from a list of interactions. It also makes it easy to combine different interaction sets into a larger network, or add new interactions to an existing data set. The main disadvantage is that this format does not include any layout information, forcing Cytoscape to re-compute a new layout of the network each time it is loaded. </p><p>Lines in the SIF file specify a source node, a relationship type (or edge type), and one or more target nodes: </p><p/><pre class="screen">nodeA &lt;relationship type&gt; nodeB
nodeC &lt;relationship type&gt; nodeA
nodeD &lt;relationship type&gt; nodeE nodeF nodeB
nodeG
...
nodeY &lt;relationship type&gt; nodeZ
</pre><p>A more specific example is: </p><p/><pre class="screen">node1 typeA node2
node2 typeB node3 node4 node5
node0
</pre><p>The first line identifies two nodes, called node1 and node2, and a single relationship between node1 and node2 of type typeA. The second line specifies three new nodes, node3, node4, and node5; here "node2" refers to the same node as in the first line. The second line also specifies three relationships, all of type typeB and with node2 as the source, with node3, node4, and node5 as the targets, respectively. This second form is simply shorthand for specifying multiple relationships of the same type with the same source node. The third line indicates how to specify a node that has no relationships with other nodes. This form is not needed for nodes that do have relationships, since the specification of the relationship implicitly identifies the nodes as well.  </p><p>Duplicate entries are ignored. Multiple edges between the same nodes must have different edge types.  For example, the following specifies two edges between the same pair of nodes, one of type xx and one of type yy: </p><p/><pre class="screen">node1 xx node2
node1 xx node2
node1 yy node2
</pre><p>Edges connecting a node to itself (self-edges) are also allowed: </p><p/><pre class="screen">node1 xx node1
</pre><p>Every node and edge in Cytoscape has an identifying name, most commonly used with the node and edge data attribute structures. Node names must be unique as identically named nodes will be treated as identical nodes. The name of each node will be the name in this file by default (unless another string is mapped to display on the node using the visual mapper). This is discussed in the section on [Cytoscape_User_Manual/Visual_Styles visual styles]. The name of each edge will be formed from the name of the source and target nodes plus the interaction type: for example, sourceName (edgeType) targetName. </p><p>The tag &lt;interaction type&gt; can be any string.  Whole words or concatenated words may be used to define types of relationships e.g. geneFusion, cogInference, pullsDown, activates, degrades, inactivates, inhibits, phosphorylates, upRegulates, etc. </p><p>Some common interaction types used in the Systems Biology community are as follows: </p><pre class="screen">  pp .................. protein – protein interaction
  pd .................. protein -&gt; DNA   
  (e.g. transcription factor binding upstream of a regulating gene.)
</pre><p>Some less common interaction types used are: </p><pre class="screen">  pr .................. protein -&gt; reaction
  rc .................. reaction -&gt; compound
  cr .................. compound -&gt; reaction
  gl .................. genetic lethal relationship
  pm .................. protein-metabolite interaction
  mp .................. metabolite-protein interaction
</pre><p><span class="strong"><strong>Delimiters</strong></span> Whitespace (space or tab) is used to delimit the names in the simple interaction file format. However, in some cases spaces are desired in a node name or edge type. The standard is that, if the file contains any tab characters, then tabs are used to delimit the fields and spaces are considered part of the name. If the file contains no tabs, then any spaces are delimiters that separate names (and names cannot contain spaces). </p><p>If your network unexpectedly contains no edges and node names that look like edge names, it probably means your file contains a stray tab that's fooling the parser. On the other hand, if your network has nodes whose names are half of a full name, then you probably meant to use tabs to separate node names with spaces. </p><p>Networks in simple interactions format are often stored in files with a ".sif" extension, and Cytoscape recognizes this extension when browsing a directory for files of this type. </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="GML Format"/>GML Format</h3></div></div></div><p>In contrast to SIF, GML is a rich graph format language supported by many other network visualization packages. The GML file format specification is available at: </p><p><a href="http://www.infosun.fmi.uni-passau.de/Graphlet/GML/" target="_top">http://www.infosun.fmi.uni-passau.de/Graphlet/GML/</a> </p><p>It is generally not necessary to modify the content of a GML file directly. Once a network is built in SIF format and then laid out, the layout is preserved by saving to and loading from GML. Visual attributes specified in a GML file will result in a new visual style named “<span class="emphasis"><em>Filename</em></span>.style” when that GML file is loaded. </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="XGMML Format"/>XGMML Format</h3></div></div></div><p>XGMML is the XML evolution of GML and is based on the GML definition.  In addition to network data, XGMML contains node/edge/network attributes.  The XGMML file format specification is available at: </p><p><a href="http://www.cs.rpi.edu/~puninj/XGMML/" target="_top">http://www.cs.rpi.edu/~puninj/XGMML/</a> </p><p>XGMML is now preferred to GML because it offers the flexibility associated with all XML document types. If you're unsure about which to use, choose XGMML. </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="SBML (Systems Biology Markup Language) Format"/>SBML (Systems Biology Markup Language) Format</h3></div></div></div><p>The Systems Biology Markup Language (SBML) is an XML format to describe biochemical networks.  SBML file format specification is available at: </p><p><a href="http://sbml.org/documents/" target="_top">http://sbml.org/documents/</a>  </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="BioPAX (Biological PAthways eXchange) Format"/>BioPAX (Biological PAthways eXchange) Format</h3></div></div></div><p>BioPAX is an OWL (Web Ontology Language) document designed to exchange biological pathways data.  Complete set of documents for this format is available at:  </p><p><a href="http://www.biopax.org/index.html" target="_top">http://www.biopax.org/index.html</a> </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="PSI-MI Format"/>PSI-MI Format</h3></div></div></div><p>The PSI-MI format is a data exchange format for protein-protein interactions.  It is an XML document to describe PPI and associated data.  PSI-MI XML format specification is available at: </p><p><a href="http://psidev.sourceforge.net/mi/xml/doc/user/" target="_top">http://psidev.sourceforge.net/mi/xml/doc/user/</a> </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Delimited Text Table and Excel Workbook"/>Delimited Text Table and Excel Workbook</h3></div></div></div><p>Cytoscape has native support for Microsoft Excel files (.xls) and delimited text files.  The table in those file can have network data and edge attributes.  Users can specify columns for source node, target node, interaction type, and edge attributes from GUI.  For more detail, please read <a href="#import-free-format-tables" target="_top">Import Free-Format Tables</a> section.  </p><p/><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="NODE NAMING ISSUES IN CYTOSCAPE"/>NODE NAMING ISSUES IN CYTOSCAPE</h4></div></div></div><p>Typically, genes are represented by nodes, and interactions (or other biological relationships) are represented by edges between nodes. For compactness, a gene also represents its corresponding protein. Nodes may also be used to represent compounds and reactions (or anything else) instead of genes. </p><p>If a network of genes or proteins is to be integrated with Gene Ontology (GO) annotation or gene expression data, the gene names must exactly match the names specified in the other data files. We strongly encourage naming genes and proteins by their systematic ORF name or standard accession number; common names may be displayed on the screen for ease of interpretation, so long as these are available to the program in the annotation directory or in a node attribute file. Cytoscape ships with all yeast ORF-to-common name mappings in a synonym table within the annotation/ directory. Other organisms will be supported in the future. </p><p>Why do we recommend using standard gene names? All of the external data formats recognized by Cytoscape provide data associated with particular names of particular objects. For example, a network of protein-protein interactions would list the names of the proteins, and the attribute and expression data would likewise be indexed by the name of the object. </p><p>The problem is in connecting data from different data sources that don't necessarily use the same name for the same object. For example, genes are commonly referred to by different names, including a formal "location on the chromosome" identifier and one or more common names that are used by ordinary researchers when talking about that gene. Additionally, database identifiers from every database where the gene is stored may be used to refer to a gene (e.g. protein accession numbers from Swiss-Prot). If one data source uses the formal name while a different data source used a common name or identifier, then Cytoscape must figure out that these two different names really refer to the same biological entity. </p><p>Cytoscape has two strategies for dealing with this naming issue, one simple and one more complex. The simple strategy is to assume that every data source uses the same set of names for every object. If this is the case, then Cytoscape can easily connect all of the different data sources. </p><p>To handle data sources with different sets of names, as is usually the case when manually integrating gene information from different sources, Cytoscape needs a data server that provides synonym information (See<span class="emphasis"><em>12. Annotation.</em></span>). A synonym table gives a canonical name for each object in a given organism and one or more recognized synonyms for that object. Note that the synonym table itself defines what set of names are the "canonical" names. For example, in budding yeast the ORF names are commonly used as the canonical names. </p><p>If a synonym server is available, then by default Cytoscape will convert every name that appears in a data file to the associated canonical name. Unrecognized names will not be changed. This conversion of names to a common set allows Cytoscape to connect the genes present in different data sources, even if they have different names – as long as those names are recognized by the synonym server. </p><p>For this to work, Cytoscape must also be provided with the species to which the objects belong, since the data server requires the species in order to uniquely identify the object referred to by a particular name. This is usually done in Cytoscape by specifying the species name on the command line with the –P option (<code class="code">cytoscape.sh -P "defaultSpeciesName=Saccharomyces cerevisiae"</code>) or by editing the properties in the Preferences Dialog (<span class="underline">Edit → Preference...</span>). </p><p>The automatic canonicalization of names can be turned off using the -P option (<code class="code">cytoscape.sh -P canonicalizeName=false"</code>) or by editing the properties in the Preferences Dialog (<span class="underline">Edit → Preferences...</span>). This canonicalization of names currently does not apply to expression data. Expression data should use the same names as the other data sources or use the canonical names as defined by the synonym table. </p></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Node and Edge Attributes"/>Node and Edge Attributes</h2></div></div></div><p>Interaction networks are useful as stand-alone models. However, they are most powerful for answering scientific questions when integrated with additional information. Cytoscape allows the user to add arbitrary node, edge and network information to Cytoscape as node/edge/network(1) <span class="strong"><strong>attributes</strong></span>. Attributes could be, for example, annotation data on a gene or confidence values in a protein-protein interaction. These attributes can then be visualized in a user-defined way by setting up a mapping from data attributes to visual attributes (colors, shapes, etc.)  See the section on <a href="http://cytoscape.org/cgi-bin/moin.cgi/Cytoscape_User_Manual/Visual_Styles" target="_top"> visual styles</a> for a discussion of this. </p><p/><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Cytoscape Attribute File Format"/>Cytoscape Attribute File Format</h3></div></div></div><p>Node and edge attribute files are simply formatted: A node attribute file begins with the name of the attribute on the first line, and on each following line, has the name of the node, followed by an equals sign, followed by the value of that attribute. Numbers and text strings are the most common attribute types. All values for a given attribute must have the same type. For example: </p><p/><pre class="screen">FunctionalCategory
YAL001C = metabolism
YAR002W = apoptosis
YBL007C = ribosome
</pre><p>An edge attribute file has much the same structure, except that the name of the edge is the source node name, followed by the interaction type in parentheses, followed by the target node name. Directionality counts, so switching the source and target will refer to a different (or perhaps non-existent) edge. The following is an example edge attributes file: </p><p/><pre class="screen">InteractionStrength
YAL001C (pp) YBR043W = 0.82
YMR022W (pd) YDL112C = 0.441
YDL112C (pd) YMR022W = 0.9013
</pre><p>Cytoscape treats edge attributes as directional, so note that the second and third edge attribute values refer to two different edges (source and target are reversed, though the nodes involved are the same). </p><p>Each attribute is stored in a separate file. Node and edge attribute files use the same format. Node attribute file names often use the suffix ".noa", while edge attribute file names use the suffix ".eda". Cytoscape recognizes these suffixes when browsing for attribute files. </p><p>Node and edge attributes may be loaded at the command line using the –n and –e options or via the <span class="underline">File → Import</span> menu. </p><p>When expression data is loaded using an expression matrix, it is automatically copied into the Node Attributes data structure unless explicitly specified not to. </p><p>Node and edge attributes are attached to nodes and edges, NOT to networks.  If two different networks have the same nodes, then those nodes will have the same attributes.  Even if a network is loaded after attributes have been loaded, if the nodes or edges found in the new network already exist, then any existing attributes will be applied to those nodes. </p><p>Note (1): Network attributes are supported in Cytoscape, but network attribute file reader is not yet implemented in Cytoscape 2.4.  If you need to import network attributes, please use attribute table import function or write network attributes directly in XGMML file.  </p><p/><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Detailed file format (Advanced users)"/>Detailed file format (Advanced users)</h4></div></div></div><p>Every attribute file has one header line that gives the name of the attribute, and optionally some additional meta-information about that attribute. The format is as follows: </p><p/><pre class="screen">attributeName (class=formal.class.of.value)
</pre><p>The first field is always the attribute name: it cannot contain spaces. If present, the class field defines the formal (package qualified) name of the class of the attribute values. For example, java.lang.String for Strings, java.lang.Double for floating point values, java.lang.Integer for integer values, etc. If the value is actually a list of values, the class should be the type of the objects in the list.  If no class is specified in the header line, Cytoscape will attempt to guess the type from the first value. If the first value contains numbers in a floating point format, Cytoscape will assume java.lang.Double; if the first value contains only numbers with no decimal point, Cytoscape will assume java.lang.Integer; otherwise Cytoscape will assume java.lang.String. Note that the first value can lead Cytoscape astray: for example, </p><p/><pre class="screen">floatingPointAttribute
firstName = 1
secondName = 2.5
</pre><p>In this case, the first value will make Cytoscape think the values should be integers, when in fact they should be floating point numbers. It's safest to explicitly specify the value type to prevent confusion. A better format would be: </p><p/><pre class="screen">floatingPointAttribute (class=Double)
firstName = 1
secondName = 2.5
</pre><p>or </p><p/><pre class="screen">floatingPointAttribute 
firstName = 1.0
secondName = 2.5
</pre><p>Every line past the first line identifies the name of an object (node in a node attribute file and an edge in a edge attribute file) along with the String representation of the attribute value. The delimiter is always an equals sign; whitespace (spaces and/or tabs) before and after the equals sign is ignored. This means that your names and values can contain whitespace, but object names cannot contain an equals sign and no guarantees are made concerning leading or trailing whitespace.  Object names must be the Node ID or Edge ID as seen in the left-most column of the attribute browser if the attribute is to map to anything.  These names must be reproduced exactly, including case, or they will not match. </p><p>Edge names are all of the form: </p><p/><pre class="screen">sourceName (edgeType) targetName
</pre><p>Specifically, that is  </p><div class="table"><a id="d0e1788"/><p class="title"><b>Table 10. </b></p><div class="table-contents"><div class="caption"/><table border="1"><colgroup><col/></colgroup><tbody><tr><td><p>sourceName space openParen edgeType closeParen space targetName</p></td></tr></tbody></table></div></div><br class="table-break"/><p>Note that tabs are not allowed in edge names.  Tabs can be used to separate the edge name from the "=" delimiter, but not within the edge name itself. Also note that this format is different from the specification of interactions in the SIF file format. To be explicit:  a SIF entry for the previous interaction would look like </p><p/><pre class="screen">sourceName edgeType targetName
</pre><p>or </p><div class="table"><a id="d0e1804"/><p class="title"><b>Table 11. </b></p><div class="table-contents"><div class="caption"/><table border="1"><colgroup><col/></colgroup><tbody><tr><td><p>sourceName whiteSpace edgeType whiteSpace targetName</p></td></tr></tbody></table></div></div><br class="table-break"/><p>To specify lists of values, use the following syntax: </p><p/><pre class="screen">listAttributeName (class=java.lang.String)
firstObjectName = (firstValue::secondValue::thirdValue)
secondObjectName = (onlyOneValue)
</pre><p>This defines an attribute which is a list of Strings. The first object has three strings, and thus three elements in its list, while the second object has a list with only one member. In the case of a list every attribute value should be specified as a list, and every member of the list should be of the same class. Again, the class will be inferred if it is not specified in the header line. Lists are not supported by the visual mapper, so can’t be mapped to visual attributes. </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Newline Feature"/>Newline Feature</h4></div></div></div><p>Sometimes it is desirable to for attributes to include linebreaks, for example node labels that extend over two lines. You can acomplish by inserting the <code class="code">
</code> characters into the attribute value.  For example: </p><p/><pre class="screen">newlineAttr
YJL157C = This is a long\nline for a label.
</pre><p/></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Import Attribute Table Files"/>Import Attribute Table Files</h3></div></div></div><p>Introduced in version 2.4, Cytoscape now supports importing delimited text and MS Excel attribute data tables.  Using this functionality, users can now easily import data that isn't formatted into Cytoscape node or edge attribute file formats (as described above). </p><p><span class="inlinemediaobject"><img src="images/attribute_table_import_main.png" alt="attachment:attribute_table_import_main.png"/></span> </p><p><span class="emphasis"><em><span class="strong"><strong>Sample Attribute Table 1</strong></span></em></span> </p><div class="table"><a id="d0e1851"/><p class="title"><b>Table 12. </b></p><div class="table-contents"><div class="caption"/><table border="1"><colgroup><col/><col/><col/></colgroup><tbody><tr><td><p>Object Key</p></td><td><p>Alias</p></td><td><p>SGD ID</p></td></tr><tr><td><p>AAC3</p></td><td><p>YBR085W|ANC3</p></td><td><p>S000000289</p></td></tr><tr><td><p>AAT2</p></td><td><p>YLR027C|ASP5</p></td><td><p>S000004017</p></td></tr><tr><td><p>BIK1</p></td><td><p>YCL029C|ARM5|PAC14</p></td><td><p>S000000534</p></td></tr></tbody></table></div></div><br class="table-break"/><p>Attribute table file should contain a primary key column and at least one attribute column.  Number of attribute columns is unlimited.  <span class="emphasis"><em>Alias</em></span> column is optional.  First row can be used as attribute names, but it is optional.  You can specify each attribute name from <span class="emphasis"><em>Attribute Table Import</em></span> user interface. </p><p/><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Basic Operation"/>Basic Operation</h4></div></div></div><p>User interface of <span class="emphasis"><em>Attribute Table Import</em></span> is similar to <span class="emphasis"><em>Network Table Import</em></span>. </p><div class="orderedlist"><ol type="1"><li><p>Select <span class="underline">File → Import → <span class="strong"><strong>Attribute from Table (text/MS Excel)</strong></span></span> </p></li><li><p>Select one of the attribute types from <span class="emphasis"><em>Attributes</em></span> radio buttons.  Cytoscape can import node, edge, and network attributes. </p></li><li><p>Select a data file.  To load a local file, click on <span class="emphasis"><em>Select File</em></span> button and choose a data file.  Input file can be text or Excel (.xls) file.  To load a remote file, type  source URL directly in the text box.  To show preview for the remote file, click <span class="emphasis"><em>Reload</em></span> button on <span class="emphasis"><em>Advanced</em></span> panel. </p></li><li><p>(Optional) If the table is not properly delimited, change delimiter from <span class="emphasis"><em>Text File Import Options</em></span> panel.  Default delimiter is <span class="strong"><strong>TAB</strong></span>.  This is not necessary for Excel Workbooks. </p></li><li><p>By default, the first column is set to <span class="emphasis"><em>primary key</em></span>.  Change the key column if necessary. </p><div class="itemizedlist"><ul type="disc"><li><p><span class="inlinemediaobject"><img src="images/attribute_table_import_primary_key.png" alt="attachment:attribute_table_import_primary_key.png"/></span>   </p></li></ul></div></li><li><p>Click <span class="emphasis"><em>Import</em></span> button. </p></li></ol></div><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Advanced Options"/>Advanced Options</h4></div></div></div><p><span class="emphasis"><em>Attribute Table Import</em></span> user interface has two advanced option panels to maximize mapping flexibility. </p><p/><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="Advanced Mapping Options"/>Advanced Mapping Options</h5></div></div></div><p>This panel is designed to change detail of mapping operation. </p><p><span class="underline"><span class="strong"><strong>Primaly Key and Key Attribute</strong></span></span> </p><p><span class="inlinemediaobject"><img src="images/attribute_table_import_keyattr.png" alt="attachment:attribute_table_import_keyattr.png"/></span> </p><p>Old attribute file loader only supports mapping between node/edge ID and primary key in attribute file.  To solve this limitation, new <span class="emphasis"><em>Attribute Table Import</em></span> function supports both ID and attributes for mapping.  You can choose an attribute for mapping from the list in the combo box. </p><p>Note: currently, only primitive data types (string, boolean, floating point, and integer) are supported for mapping, i.e. you cannot use list, map, or complex attribute as <span class="emphasis"><em>Key Attribute</em></span>. </p><p><span class="underline"><span class="strong"><strong>Aliases</strong></span></span> </p><p><span class="inlinemediaobject"><img src="images/attribute_table_import_alias.png" alt="attachment:attribute_table_import_alias.png"/></span> </p><p>Cytoscape uses simple mechanism to manage aliases of objects.   Both nodes and edges can have alias.  If attributes are loaded as alias, they are treated as special attribute called <span class="emphasis"><em><span class="strong"><strong>alias</strong></span></em></span>.  This will be used when mapping attributes.  If <span class="emphasis"><em>primary key</em></span> and <span class="emphasis"><em>key attribute</em></span> for an object does not match, Cytoscape searches a match between aliases and key attribute.  To use columns in attribute table as alias, just click on check boxes in the alias table.      </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="Text File Import Options"/>Text File Import Options</h5></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>This is mostly same as <span class="emphasis"><em>Network Table Import</em></span>.  For detail, please read <span class="emphasis"><em>Import Free-Format Table Files</em></span> section in this manual. </p></li></ul></div><p/></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Attribute Browser"/>Attribute Browser</h4></div></div></div><p><span class="inlinemediaobject"><img src="images/attribute_browser1.png" alt="attachment:attribute_browser1.png"/></span> </p><p>When Cytoscape is started, the Attribute Browser appears in the bottom Cytopanel. This browser can be hidden and restored using the F5 key or the <span class="underline">View → Show/Hide attribute browser</span> menu option. Like other Cytopanels, the browser can be undocked by pressing the little icon in the browser’s top right corner. </p><p>To swap between displaying node, edge, and network attributes use the tabs on the bottom of the panel: <span class="emphasis"><em><span class="strong"><strong>Node Attribute Browser</strong></span></em></span>, <span class="emphasis"><em><span class="strong"><strong>Edge Attribute Browser</strong></span></em></span>, and <span class="emphasis"><em><span class="strong"><strong>Network Attribute Browser</strong></span></em></span>. The attribute browser displays attributes belonging to selected nodes and/or edges and the currently selected network. To populate the browser with rows (as pictured above), simply select nodes and/or edges in a loaded network. By default, only the <span class="emphasis"><em>ID</em></span> of nodes and edges is shown. To display more than just the ID, click the <span class="emphasis"><em>Select Attributes</em></span> <span class="inlinemediaobject"><img src="images/attributes_select_icon.png" alt="attachment:attributes_select_icon.png"/></span> button and choose the attributes that are to be displayed. Each attribute chosen will result in one column in the attribute browser (in the screenshot above there are 5 columns total including the ID). Most attribute values can be edited by double-clicking an attribute cell; list values cannot be edited, and neither can the ID. Attribute rows in the browser can be sorted alphabetically by specific attribute by clicking on a column heading. A new attribute can be created using the <span class="emphasis"><em>Create New Attribute</em></span> <span class="inlinemediaobject"><img src="images/attributes_new_icon.png" alt="attachment:attributes_new_icon.png"/></span> button. Attributes created using the attribute browser must be one of four types – integer, string, real number (floating point), or boolean. Attributes can be deleted using the <span class="emphasis"><em>Delete Attributes...</em></span> <span class="inlinemediaobject"><img src="images/attributes_delete_icon.png" alt="attachment:attributes_delete_icon.png"/></span> button. NOTE: Deleting attributes removes them from Cytoscape, not just the attribute browser! To remove attributes only from the browser simply unselect the attribute using the <span class="emphasis"><em>Select Attributes</em></span> <span class="inlinemediaobject"><img src="images/attributes_select_icon.png" alt="attachment:attributes_select_icon.png"/></span> button. The right-click menu on the Attribute Browser has several functions. This menu is useful for exporting attribute information to spreadsheet applications. For example, choose <span class="emphasis"><em>Select All</em></span> and then <span class="emphasis"><em>Copy</em></span> from the right-click and then paste into a spreadsheet application.  Each attribute browser panel has a button for importing new attributes: <span class="inlinemediaobject"><img src="images/attributes_import_icon.png" alt="attachment:attributes_import_icon.png"/></span> . </p><p>The Node Attribute Browser panel has additional buttons for loading Gene Expression attribute matrices ( <span class="inlinemediaobject"><img src="images/attributes_gene_expr_icon.png" alt="attachment:attributes_gene_expr_icon.png"/></span> ) as node attributes. </p></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Loading Gene Expression (Attribute Matrix) Data"/>Loading Gene Expression (Attribute Matrix) Data</h2></div></div></div><p>In addition to normal node and edge attribute data, Cytoscape also supports importing gene expression data.  Gene expression data are imported using a different file format than normal attributes, however the resulting attributes are no different from other attributes from Cytoscape's perspective. Gene expression data (like attribute data) can be loaded at any time, but are (generally) only relevant once a network has been loaded. </p><p/><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Data File Format"/>Data File Format</h3></div></div></div><p>Gene expression ratios or values are specified over one or more experiments using a text file. Ratios result from a comparison of two expression measurements (experiment vs. control). Some expression platforms, such as Affymetrix, directly measure expression values, without a comparison. The file consists of a header and a number of space- or tab-delimited fields, one line per gene, with the following format: </p><p/><pre class="screen">Identifier [CommonName] value1 value2 ... valueN [pval1 pval2 ... pvalN]
</pre><p>Brackets [ ] indicate fields that are optional. </p><p>The first field identifies which Cytoscape node the data refers to.  In the simplest case, this is the gene name - exactly  as it appears on the Cytoscape canvas (case sensitive!).  Alternatively, this can be some node attribute that identifies the node uniquely, such as a probeset identifier for commercial microarrays. </p><p>The next field is an optional common name.  It is not used by Cytoscape, and is provided strictly for the user's convenience. With this common name field, the input format is the same as for commonly-used expression data anaysis packages such as SAM (<a href="http://www-stat.stanford.edu/~tibs/SAM/" target="_top">http://www-stat.stanford.edu/~tibs/SAM/</a>). </p><p>The next set of columns represent expression values, one per experiment.  These can be either absolute expression values or fold change ratios.  Each experiment is identified by its experiment name, given in the first line. </p><p>Optionally, significance measures such as P values may be provided.  These values, generated by many microarray data analysis packages, indicate where the level of gene expression or the fold change appears to be greater than random chance.  If you are using significance measures, then your expression file should contain them in a second set of columns after the expression values.  The column names for the expression significance measures should match those of the expression values <span class="emphasis"><em>exactly</em></span>. </p><p>For example, here is an excerpt from the file galExpData.pvals in the Cytoscape sampleData directory:: </p><p/><pre class="screen">GENE COMMON gal1RG gal4RG gal80R gal1RG gal4RG gal80R
YHR051W COX6 -0.034 0.111 -0.304 3.75720e-01 1.56240e-02 7.91340e-06
YHR124W NDT80 -0.090 0.007 -0.348 2.71460e-01 9.64330e-01 3.44760e-01
YKL181W PRS1 -0.167 -0.233 0.112 6.27120e-03 7.89400e-04 1.44060e-01
YGR072W UPF3 0.245 -0.471 0.787 4.10450e-04 7.51780e-04 1.37130e-05
</pre><p>This indicates that there is data for three experiments: gal1RG, gal4RG, and gal80R.  These names appear two times: the first time gives the expression values, and the second gives the significance measures.  For instance, the second line tells us that in Experiment gal1RG, the gene YHR051W has an expression value of -0.034 with significance measure 3.75720e-01. </p><p>Some variations on this basic format are recognized: see the formal file format specification below for more information. Expression data files commonly have the file extensions ".mrna" or ".pvals", and these file extensions are recognized by Cytoscape when browsing for data files. </p><p><span class="strong"><strong>COMMANDS:</strong></span> Load an expression attribute matrix file using the Cytoscape menu options <span class="underline">File → Import → Attribute/Expression Matrix</span> to bring up the import dialog box, or by specifying the filename using the -m option at the command line.  If you use the command line input, you must enter your expression data by node ID.  If you use the dialog box, then you can either load expression data by node ID (the default option), or can optionally select a node attribute to use in assigning your expression data to your Cytoscape nodes. If you do use a node attribute, then (1) the attribute should already be loaded, and (2) the node attribute value must match the first column in your matrix file. </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Example"/>Example</h3></div></div></div><p>For the sample network file <span class="strong"><strong>sampleData/galFiltered.sif</strong></span>: </p><p>1. Load a sample gene expression data set using the menu: <span class="underline">File → Import → Attribute/Expression Matrix</span>. In the resulting file dialog box, in the field labeled "Please select an attribute or expression matrix file...",  select <span class="strong"><strong>sampleData/galExpData.pvals</strong></span>.  The identifiers used in this file are the same ones used in the network file  <span class="strong"><strong>sampleData/galFiltered.sif</strong></span>, so you do not need to touch the field labeled "Assign values to nodes using...".  A few lines of this file are shown below: </p><p/><pre class="screen">GENE COMMON gal1RG gal4RG gal80R gal1RG gal4RG gal80R
YHR051W COX6 -0.034 0.111 -0.304 3.75720e-01 1.56240e-02 7.91340e-06
YHR124W NDT80 -0.090 0.007 -0.348 2.71460e-01 9.64330e-01 3.44760e-01
YKL181W PRS1 -0.167 -0.233 0.112 6.27120e-03 7.89400e-04 1.44060e-01
</pre><p>- or - </p><p>2a. After loading the network, load the node attribute file <span class="strong"><strong>sampleData/gal.probeset.na</strong></span>, using the menu options <span class="underline">File → Import → Node attributes...</span>.  This file is shown in part below: </p><p/><pre class="screen">Probeset
YHR051W = probeset2
YHR124W = probeset3
YKL181W = probeset4
</pre><p>2b. After loading the node attribute file, select the expression data file <span class="strong"><strong>sampleData.galExpPvals.probeset.pvals</strong></span>, shown in part below: </p><p/><pre class="screen">GENE COMMON gal1RG gal4RG gal80R gal1RG gal4RG gal80R
probeset2 COX6 -0.034 0.111 -0.304 3.75720e-01 1.56240e-02 7.91340e-06
probeset3 NDT80 -0.090 0.007 -0.348 2.71460e-01 9.64330e-01 3.44760e-01
probeset4 PRS1 -0.167 -0.233 0.112 6.27120e-03 7.89400e-04 1.44060e-01
</pre><p>After selecting this file, in the field labeled <span class="strong"><strong>Assign values to nodes using...</strong></span>, select <span class="strong"><strong>Probeset</strong></span>.  You will see that this loads exactly the same expression data as in Case 1, but provides extra flexibility in case the node name cannot be used as an identifier. </p><p><span class="strong"><strong>Detailed file format (Advanced users)</strong></span> In all expression data files, any whitespace (spaces and/or tabs) is considered a delimiter between adjacent fields. Every line of text is either the header line or contains all the measurements for a particular gene. No name conversion is applied to expression data files. </p><p>The names given in the first column of the expression data file should match exactly the names used elsewhere (i.e. in SIF or GML files). </p><p>The first line is a header line with one of the following three formats: </p><p/><pre class="screen">&lt;text&gt; &lt;text&gt; cond1 cond2 ... cond1 cond2 ... [NumSigConds]
&lt;text&gt; &lt;text&gt; cond1 cond2 ...
&lt;tab&gt;&lt;tab&gt;RATIOS&lt;tab&gt;&lt;tab&gt;...LAMBDAS
</pre><p>The first format specifies that both expression ratios and significance values are included in the file. The first two text tokens contain names for each gene. The next token set specifies the names of the experimental conditions; these columns will contain ratio values. This list of condition names must then be duplicated exactly, each spelled the same way and in the same order. Optionally, a final column with the title <a href="http://cytoscape.org/cgi-bin/moin.cgi/NumSigConds" target="_top">NumSigConds</a> may be present. If present, this column will contain integer values indicating the number of conditions in which each gene had a statistically significant change according to some threshold. </p><p>The second format is similar to the first except that the duplicate column names are omitted, and there is no <a href="http://cytoscape.org/cgi-bin/moin.cgi/NumSigConds" target="_top">NumSigConds</a> fields. This format specifies data with ratios but no significance values. </p><p>The third format specifies an MTX header, which is a commonly used format. Two tab characters precede the RATIOS token. This token is followed by a number of tabs equal to the number of conditions, followed by the LAMBDAS token. This format specifies both ratios and significance values. </p><p>Each line after the first is a data line with the following format: </p><p/><pre class="screen">FormalGeneName CommonGeneName ratio1 ratio2 ... [lambda1 lambda2 ...] [numSigConds]
</pre><p>The first two tokens are gene names. The names in the first column are the keys used for node name lookup; these names should be the same as the names used elsewhere in Cytoscape (i.e. in the SIF, GML, or XGMML files). Traditionally in the gene expression microarray community, who defined these file formats, the first token is expected to be the formal name of the gene (in systems where there is a formal naming scheme for genes), while the second is expected to be a synonym for the gene commonly used by biologists, although Cytoscape does not make use of the common name column. The next columns contain floating point values for the ratios, followed by columns with the significance values if specified by the header line. The final column, if specified by the header line, should contain an integer giving the number of significant conditions for that gene.  Missing values are not allowed and will confuse the parser. For example, using two consecutive tabs to indicate a missing value will not work; the parser will regard both tabs as a single delimiter and be unable to parse the line correctly. </p><p>Optionally, the last line of the file may be a special footer line with the following format: </p><p/><pre class="screen">NumSigGenes int1 int2 ...
</pre><p>This line specified the number of genes that were significantly differentially expressed in each condition. The first text token must be spelled exactly as shown; the rest of the line should contain one integer value for each experimental condition. </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Navigation and Layout"/>Navigation and Layout</h2></div></div></div><p><a id="navigation"/> </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Basic Network Navigation"/>Basic Network Navigation</h3></div></div></div><p>Cytoscape uses a <a href="http://en.wikipedia.org/wiki/Zooming_User_Interface" target="_top">Zoomable User Interface</a> for navigating and viewing networks.  ZUIs use two mechanisms for navigation: zooming and panning.  Zooming increases or decreases the magnification of a view based on how much or how little a user wants to see.  Panning allows users to move the focus of a screen to different parts of a view.  </p><p><span class="strong"><strong>Zoom</strong></span>  Cytoscape provides two mechanisms for zooming, either using mouse gestures or buttons on the toolbar. Use the zooming buttons located on the toolbar to zoom in / out of the interaction network shown in the current network display. Zoom icons are detailed below: </p><p><span class="inlinemediaobject"><img src="images/image049.jpg" alt="attachment:image049.jpg"/></span> </p><p>From Left to Right: </p><div class="itemizedlist"><ul type="disc"><li>Zoom Out </li><li>Zoom In </li><li>Zoom Selected Region </li><li>Zoom out to Display all of Current Network </li></ul></div><p>You can also zoom in/out by holding down the right mouse button and moving the mouse to the right (zoom in) or left (zoom out). </p><p><span class="strong"><strong>Pan</strong></span>  You can pan the network image by holding down the middle mouse button and moving the mouse.  You can also pan the image by holding down the left mouse button over the blue box in the Network Overview panel in the lower left hand of the Cytoscape desktop. </p><p/><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Other Mouse Behaviors"/>Other Mouse Behaviors</h4></div></div></div><p><span class="strong"><strong>Select</strong></span>  Click the left mouse button on a node or edge to select that object. You can hold down the Shift key to select more than one node/edge or you can hold down the left mouse button and drag the mouse to select groups of nodes/edges. </p><p><span class="strong"><strong>Context</strong></span>  Click the right mouse button on a node/edge to launch a context sensitive menu with additional information about the node/edge. </p><p/></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Automatic Layout Algorithms"/>Automatic Layout Algorithms</h3></div></div></div><p>The <span class="underline">Layout</span> menu has an array of features for organizing the network visually according to one of several algorithms, aligning and rotating groups of nodes, and adjusting the size of the network. Most of these features are available from plugins that are packaged with Cytoscape 2.3. Some of the layout algorithms provided with Cytoscape 2.3 are: </p><p><span class="strong"><strong>Cytoscape Spring-embedded Layout </strong></span> </p><p>Spring-embedded layout is based on a “force-directed” paradigm. Network nodes are treated like physical objects that repel each other, such as electrons. The connections between nodes are treated like metal springs attached to the pair of nodes. These springs repel or attract their end points according to a force function. The layout algorithm sets the positions of the nodes in a way that minimizes the sum of forces in the network. This algorithm is available from the <span class="underline">Layout → Cytoscape Layouts → Spring Embedded</span> menu item. A sample screen shot is provided below: </p><p><span class="inlinemediaobject"><img src="images/image051.png" alt="attachment:image051.png"/></span> <span class="strong"><strong>yFiles Circular Layout </strong></span> </p><p>This algorithm produces layouts that emphasize group and tree structures within a network. It partitions the network by analyzing its connectivity structure, and arranges the partitions as separate circles. The circles themselves are arranged in a radial tree layout fashion. This algorithm is available from the <span class="underline">Layout → yFiles → Circular</span> menu item. </p><p><span class="inlinemediaobject"><img src="images/image053.png" alt="attachment:image053.png"/></span> <span class="strong"><strong>yFiles Hierarchical Layout </strong></span> </p><p>The hierarchical layout algorithm is good for representing main direction or <span class="emphasis"><em>flow</em></span> within a network. Nodes are placed in hierarchically arranged layers and the ordering of the nodes within each layer is chosen in such a way that minimizes the number of edge crossings. This algorithm is available from the <span class="underline">Layout → yFiles → Heirarchical</span> menu item. </p><p><span class="inlinemediaobject"><img src="images/image055.png" alt="attachment:image055.png"/></span> <span class="strong"><strong>yFiles Organic Layout </strong></span> </p><p>The organic layout algorithm is a kind of spring-embedded algorithm that combines elements of the other algorithms to show the clustered structure of a graph. This algorithm is available from the <span class="underline">Layout → yFiles → Organic</span> menu item. </p><p><span class="inlinemediaobject"><img src="images/image057.png" alt="attachment:image057.png"/></span> </p><p>Several other alignment algorithms, including a selection from the JGraph project (<a href="http://jgraph.sourceforge.net" target="_top">http://jgraph.sourceforge.net</a>), are also available under the Layout menu. </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Manual Layout"/>Manual Layout</h3></div></div></div><p>The simplest method to manually layout a network is to click on a node and drag the node.  If you select multiple nodes, all of the selected nodes will be moved together. </p><p><span class="strong"><strong>Edge Handles</strong></span> </p><p><span class="emphasis"><em>A little known feature!</em></span>  If you select an edge and then Ctrl-left-click on the edge, an edge "handle" will appear.  This handle can be used to change the shape of the line. To remove a handle, simply Ctrl-left-click on the handle again. </p><p><span class="inlinemediaobject"><img src="images/edge_handles.png" alt="attachment:edge_handles.png"/></span> </p><p>The <span class="underline">Select → Edges</span> menu has two menu items that provide further control: "Smooth Selected Edges" turns an edge consisting of line segments into a smoothed bezier curve, and "Straighen Selected Edges" turns a curved edge back into line segments. </p><p><span class="inlinemediaobject"><img src="images/menu_select_edges.png" alt="attachment:menu_select_edges.png"/></span> </p><p><span class="strong"><strong>Rotate</strong></span> </p><p><span class="inlinemediaobject"><img src="images/rotate_dialog.png" alt="attachment:rotate_dialog.png"/></span> </p><p>The <span class="underline">Layout → Rotate</span> menu opens the Rotate dialog.  Rotate will either rotate the entire network or a selected portion of the network.  The image below shows a network with selected nodes rotated. </p><p>Before </p><p><span class="inlinemediaobject"><img src="images/rotate_networkA.png" alt="attachment:rotate_networkA.png"/></span> </p><p>After  </p><p><span class="inlinemediaobject"><img src="images/rotate_networkB.png" alt="attachment:rotate_networkB.png"/></span> </p><p><span class="strong"><strong>Scale</strong></span> </p><p><span class="inlinemediaobject"><img src="images/scale_dialog.png" alt="attachment:scale_dialog.png"/></span> </p><p>The <span class="underline">Layout → Scale</span> menu opens the Scale dialog.  Scale will scale the position of the entire network or of the selected portion of the network. Note that only the position of the nodes scale, not the node sizes.  Node size can be adjusted using the <a href="http://cytoscape.org/cgi-bin/moin.cgi/VizMapper" target="_top">VizMapper</a>. The image below shows selected nodes scaled. </p><p>Before </p><p><span class="inlinemediaobject"><img src="images/scale_networkA.png" alt="attachment:scale_networkA.png"/></span> </p><p>After  </p><p><span class="inlinemediaobject"><img src="images/scale_networkB.png" alt="attachment:scale_networkB.png"/></span> </p><p><span class="strong"><strong>Align/Distribute</strong></span> </p><p><span class="inlinemediaobject"><img src="images/align_distribute_dialog.png" alt="attachment:align_distribute_dialog.png"/></span> </p><p>The <span class="underline">Layout → Align/Distribute</span> menu opens the Align/Distribute dialog.  The Align buttons of the dialog provides different options for either vertically or horizontally aligning selected nodes against a line.  The differences are in what part of the node gets aligned, e.g. the center of the node, the top of the node, the left side of the node.  The Distribute buttons evenly distribute  selected nodes between the two most distant nodes along either the vertical or horizontal axis. The differences are again a function what part of the node is used as a reference point for the distribution.  The table below provides a mapping from button to name to result. </p><div class="table"><a id="d0e2549"/><p class="title"><b>Table 13. </b></p><div class="table-contents"><div class="caption"/><table border="1"><colgroup><col/><col/><col/><col/></colgroup><tbody><tr><td><p><span class="strong"><strong>Button</strong></span></p></td><td><p><span class="strong"><strong>Before</strong></span></p></td><td><p><span class="strong"><strong>After</strong></span></p></td><td><p><span class="strong"><strong>Description of Align Options</strong></span> </p></td></tr><tr><td><p> <span class="inlinemediaobject"><img src="images/V_ALIGN_TOP.gif" alt="attachment:V_ALIGN_TOP.gif"/></span> </p></td><td><p><span class="inlinemediaobject"><img src="images/small.align_begin.png" alt="attachment:small.align_begin.png"/></span></p></td><td><p><span class="inlinemediaobject"><img src="images/small.align_vertical_top.png" alt="attachment:small.align_vertical_top.png"/></span></p></td><td><p>Vertical Align Top - The tops of the selected nodes are aligned with the top-most node. </p></td></tr><tr><td><p> <span class="inlinemediaobject"><img src="images/V_ALIGN_CENTER.gif" alt="attachment:V_ALIGN_CENTER.gif"/></span> </p></td><td><p><span class="inlinemediaobject"><img src="images/small.align_begin.png" alt="attachment:small.align_begin.png"/></span></p></td><td><p><span class="inlinemediaobject"><img src="images/small.align_vertical_center.png" alt="attachment:small.align_vertical_center.png"/></span></p></td><td><p>Vertical Align Center - The centers of selected nodes are aligned along a line defined by the midpoint between the top and bottom-most nodes. </p></td></tr><tr><td><p> <span class="inlinemediaobject"><img src="images/V_ALIGN_BOTTOM.gif" alt="attachment:V_ALIGN_BOTTOM.gif"/></span> </p></td><td><p><span class="inlinemediaobject"><img src="images/small.align_begin.png" alt="attachment:small.align_begin.png"/></span></p></td><td><p><span class="inlinemediaobject"><img src="images/small.align_vertical_bottom.png" alt="attachment:small.align_vertical_bottom.png"/></span></p></td><td><p>Vertical Align Bottom - The bottoms of the nodes are aligned with the bottom-most node. </p></td></tr><tr><td><p> <span class="inlinemediaobject"><img src="images/H_ALIGN_LEFT.gif" alt="attachment:H_ALIGN_LEFT.gif"/></span> </p></td><td><p><span class="inlinemediaobject"><img src="images/small.align_begin.png" alt="attachment:small.align_begin.png"/></span></p></td><td><p><span class="inlinemediaobject"><img src="images/small.align_horizontal_left.png" alt="attachment:small.align_horizontal_left.png"/></span></p></td><td><p>Horizontal Align Left - The left hand sides of the selected nodes are aligned with the left-most node. </p></td></tr><tr><td><p> <span class="inlinemediaobject"><img src="images/H_ALIGN_CENTER.gif" alt="attachment:H_ALIGN_CENTER.gif"/></span> </p></td><td><p><span class="inlinemediaobject"><img src="images/small.align_begin.png" alt="attachment:small.align_begin.png"/></span></p></td><td><p><span class="inlinemediaobject"><img src="images/small.align_horizontal_center.png" alt="attachment:small.align_horizontal_center.png"/></span></p></td><td><p>Horizontal Align Center - The centers of selected nodes are aligned along a line defined by the midpoint between the left and right-most nodes. </p></td></tr><tr><td><p> <span class="inlinemediaobject"><img src="images/H_ALIGN_RIGHT.gif" alt="attachment:H_ALIGN_RIGHT.gif"/></span> </p></td><td><p><span class="inlinemediaobject"><img src="images/small.align_begin.png" alt="attachment:small.align_begin.png"/></span></p></td><td><p><span class="inlinemediaobject"><img src="images/small.align_horizontal_right.png" alt="attachment:small.align_horizontal_right.png"/></span></p></td><td><p>Horizontal Align Right  - The right hand sides of the selected nodes are aligned with the right-most node. </p></td></tr></tbody></table></div></div><br class="table-break"/><div class="table"><a id="d0e2755"/><p class="title"><b>Table 14. </b></p><div class="table-contents"><div class="caption"/><table border="1"><colgroup><col/><col/><col/><col/></colgroup><tbody><tr><td><p><span class="strong"><strong>Button</strong></span></p></td><td><p><span class="strong"><strong>Before</strong></span></p></td><td><p><span class="strong"><strong>After</strong></span></p></td><td><p><span class="strong"><strong>Description of Distribute Options</strong></span> </p></td></tr><tr><td><p> <span class="inlinemediaobject"><img src="images/V_DIST_TOP.gif" alt="attachment:V_DIST_TOP.gif"/></span> </p></td><td><p><span class="inlinemediaobject"><img src="images/small.distribute_begin_vertical.png" alt="attachment:small.distribute_begin_vertical.png"/></span></p></td><td><p><span class="inlinemediaobject"><img src="images/small.distribute_vertical_top.png" alt="attachment:small.distribute_vertical_top.png"/></span></p></td><td><p>Vertical Distribute Top - The tops of the selected nodes are distributed evenly between the top-most and bottom-most nodes, which should stay stationary. </p></td></tr><tr><td><p> <span class="inlinemediaobject"><img src="images/V_DIST_CENTER.gif" alt="attachment:V_DIST_CENTER.gif"/></span> </p></td><td><p><span class="inlinemediaobject"><img src="images/small.distribute_begin_vertical.png" alt="attachment:small.distribute_begin_vertical.png"/></span></p></td><td><p><span class="inlinemediaobject"><img src="images/small.distribute_vertical_center.png" alt="attachment:small.distribute_vertical_center.png"/></span></p></td><td><p>Vertical Distribute Center - The centers of the selected nodes are distributed evenly between the top-most and bottom-most nodes, which should stay stationary. </p></td></tr><tr><td><p> <span class="inlinemediaobject"><img src="images/V_DIST_BOTTOM.gif" alt="attachment:V_DIST_BOTTOM.gif"/></span> </p></td><td><p><span class="inlinemediaobject"><img src="images/small.distribute_begin_vertical.png" alt="attachment:small.distribute_begin_vertical.png"/></span></p></td><td><p><span class="inlinemediaobject"><img src="images/small.distribute_vertical_bottom.png" alt="attachment:small.distribute_vertical_bottom.png"/></span></p></td><td><p>Vertical Distribute Bottom - The bottoms of the selected nodes are distributed evenly between the top-most and bottom-most nodes, which should stay stationary. </p></td></tr><tr><td><p> <span class="inlinemediaobject"><img src="images/H_DIST_LEFT.gif" alt="attachment:H_DIST_LEFT.gif"/></span> </p></td><td><p><span class="inlinemediaobject"><img src="images/small.distribute_begin_horizontal.png" alt="attachment:small.distribute_begin_horizontal.png"/></span></p></td><td><p><span class="inlinemediaobject"><img src="images/small.distribute_horizontal_left.png" alt="attachment:small.distribute_horizontal_left.png"/></span></p></td><td><p>Horizontal Distribute Left  - The left hand sides of the selected nodes are distributed evenly between the left-most and rigth-most nodes, which should stay stationary. </p></td></tr><tr><td><p> <span class="inlinemediaobject"><img src="images/H_DIST_CENTER.gif" alt="attachment:H_DIST_CENTER.gif"/></span> </p></td><td><p><span class="inlinemediaobject"><img src="images/small.distribute_begin_horizontal.png" alt="attachment:small.distribute_begin_horizontal.png"/></span></p></td><td><p><span class="inlinemediaobject"><img src="images/small.distribute_horizontal_center.png" alt="attachment:small.distribute_horizontal_center.png"/></span></p></td><td><p>Horizontal Distribute Center - The centers of the selected nodes are distributed evenly between the left-most and rigth-most nodes, which should stay stationary. </p></td></tr><tr><td><p> <span class="inlinemediaobject"><img src="images/H_DIST_RIGHT.gif" alt="attachment:H_DIST_RIGHT.gif"/></span> </p></td><td><p><span class="inlinemediaobject"><img src="images/small.distribute_begin_horizontal.png" alt="attachment:small.distribute_begin_horizontal.png"/></span></p></td><td><p><span class="inlinemediaobject"><img src="images/small.distribute_horizontal_right.png" alt="attachment:small.distribute_horizontal_right.png"/></span></p></td><td><p>Horizontal Distribute Right - The right hand sides of the selected nodes are distributed evenly between the left-most and rigth-most nodes, which should stay stationary. </p></td></tr></tbody></table></div></div><br class="table-break"/><p/><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Node Movement and Placement"/>Node Movement and Placement</h4></div></div></div><p>In addition to the ability to click on a node and drag it to a new position, Cytoscape now has the ability move nodes using the arrow keys on the keyboard.  By selecting one or more nodes using the mouse and clicking one of the arrow keys (←, →, ↑, ↓) the selected nodes will move one pixel in the chosen direction.  If an arrow key is pressed while holding the <code class="code">shift</code> key down, the selected nodes will 10 pixels in the chosen direction.  </p><p>Mouse movement has also been enhanced.  If the <code class="code">shift</code> key is held down while dragging a node, the node will only move horizontally, vertically, or along a 45 degree diagonal. </p></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Visual Styles"/>Visual Styles</h2></div></div></div><p>With the Cytoscape Visual Style feature, you can easily customize the visual appearance of your network. For example, you can: </p><div class="itemizedlist"><ul type="disc"><li>specify a default color and shape for all nodes. </li><li>use specific line types to indicate different types of interactions, or </li><li>visualize gene expression data along a color gradient. </li></ul></div><p>All these features are available by selecting the <span class="underline">View → Open Viz Mapper</span> menu item or clicking on the Viz Mapper icon <span class="inlinemediaobject"><img src="images/VizMapIcon.png" alt="attachment:VizMapIcon.png"/></span> button on the main button bar. </p><p/><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Introduction to Visual Styles"/>Introduction to Visual Styles</h3></div></div></div><p>The Cytoscape distribution includes several predefined visual styles to get you started. To demonstrate these styles, try out the following example: </p><div class="itemizedlist"><ul type="disc"><li><p>Load a sample network: From the main menu, select <span class="underline">File → Import → Network</span>, and select sampleData/galFiltered.sif. </p></li><li><p>Layout the network: select <span class="underline">Layout → yFiles → Organic</span>. </p></li><li><p>Load a sample set of expression data: From the main menu, select <span class="underline">File → Import → Attribute Matrix</span> and select sampleData/galExpData.pvals. </p></li></ul></div><p>By default, the Visual Style labeled “default” will be automatically applied to your network. This default style has a blue background, circular pink nodes, and blue edges (see sample screenshot below). </p><p><span class="inlinemediaobject"><img src="images/VizMapperDefaultStyle.png" alt="attachment:VizMapperDefaultStyle.png"/></span> <span class="strong"><strong>Figure: Using the default Visual Style.</strong></span> </p><p>You can change visual styles by making a selection from the Visual Style pull down menu (available directly to the right of the <span class="inlinemediaobject"><img src="images/VizMapIcon.png" alt="attachment:VizMapIcon.png"/></span> icon). </p><p>For example, if you select “Sample1”, a new visual style will be applied to your network, and you will see a white background and round blue nodes. Additionally, if you zoom in closer, you can see that protein-DNA interactions (specified with the label: pd) are drawn with dashed red edges, whereas protein-protein interactions (specified with the label: pp) are drawn with a light blue color (see sample screenshot below). </p><p><span class="inlinemediaobject"><img src="images/VizMapperSample1Style.png" alt="attachment:VizMapperSample1Style.png"/></span> <span class="strong"><strong>Figure: Using the Sample1 Visual Style. Protein-Protein interactions (solid blue lines) are now distinguishable from Protein-DNA interactions (dashed red lines).</strong></span> </p><p>Finally, if you select “Sample2”, gene expression values for each node will be colored along a color gradient between red and green (where red represents a low expression ratio, and green represents a high expression ratio - with thresholds set for the gal1RGexp experiment bundled with Cytoscape in the sampleData/galExpData.pvals file). See sample screenshot below: </p><div class="itemizedlist"><ul type="disc"><li><p><span class="inlinemediaobject"><img src="images/VizMapperSample2Style.png" alt="attachment:VizMapperSample2Style.png"/></span> </p></li></ul></div><p><span class="strong"><strong>Figure: Using the Sample2 Visual Style. Gene expression values are now displayed along a red/green color gradient.</strong></span> </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Visual Attributes, Graph Attributes and Visual Mappers"/>Visual Attributes, Graph Attributes and Visual Mappers</h3></div></div></div><p>The Cytoscape Visual Mapper has three core components: <span class="emphasis"><em>visual attributes, network attributes </em></span>and <span class="emphasis"><em>visual mappers</em></span>: </p><div class="itemizedlist"><ul type="disc"><li><p>A <span class="emphasis"><em>visual attribute</em></span> is any visual setting that can be applied to your network. For example, you can change all nodes to squares by setting the node shape visual attribute. </p></li><li><p>A <span class="emphasis"><em>network attribute</em></span> is any attribute associated with a node or an edge. For example, each edge in a network may be associated with a label, such as “pd” (protein-DNA interactions), or “pp” (protein-protein interactions). </p></li><li><p>A <span class="emphasis"><em>visual mapper</em></span> maps network attributes to visual attributes. For example, a visual mapper can map all protein-DNA interactions to the color blue, and all protein-protein interactions to the color red. </p></li></ul></div><p>Cytoscape includes a large number of visual attributes. These are summarized in the tables below. </p><div class="table"><a id="d0e3108"/><p class="title"><b>Table 15. </b></p><div class="table-contents"><div class="caption"/><table border="1"><colgroup><col/></colgroup><tbody><tr><td><p><span class="strong"><strong>Visual Attributes Associated with Nodes:</strong></span> </p></td></tr><tr><td><p>Node Color </p></td></tr><tr><td><p>Node Border Color </p></td></tr><tr><td><p>Node Border Line Type. The following options are available: </p></td></tr><tr><td><p><span class="inlinemediaobject"><img src="images/VizMapperLineType.png" alt="attachment:VizMapperLineType.png"/></span> </p></td></tr><tr><td><p>Node Shape. The following options are available: </p></td></tr><tr><td><p><span class="inlinemediaobject"><img src="images/VizMapperNodeShape.png" alt="attachment:VizMapperNodeShape.png"/></span> </p></td></tr><tr><td><p>Node Size: width and height of each node. </p></td></tr><tr><td><p>Node Label: the text label for each node. </p></td></tr><tr><td><p>Node Label Position: the posiiton of the label relative to the node.</p></td></tr><tr><td><p>Node Font: node font and size. </p></td></tr></tbody></table></div></div><br class="table-break"/><div class="table"><a id="d0e3171"/><p class="title"><b>Table 16. </b></p><div class="table-contents"><div class="caption"/><table border="1"><colgroup><col/></colgroup><tbody><tr><td><p><span class="strong"><strong>Visual Attributes Associated with Edges:</strong></span> </p></td></tr><tr><td><p>Edge Color </p></td></tr><tr><td><p>Edge Line Type. The following options are available: </p></td></tr><tr><td><p><span class="inlinemediaobject"><img src="images/VizMapperLineType.png" alt="attachment:VizMapperLineType.png"/></span> </p></td></tr><tr><td><p>Edge Source Arrow. The following options are available: </p></td></tr><tr><td><p><span class="inlinemediaobject"><img src="images/VizMapperArrowType.png" alt="attachment:VizMapperArrowType.png"/></span> </p></td></tr><tr><td><p>Edge Target Arrow. The following options are available: </p></td></tr><tr><td><p><span class="inlinemediaobject"><img src="images/VizMapperArrowType.png" alt="attachment:VizMapperArrowType.png"/></span> </p></td></tr><tr><td><p>Edge Label: the text label for each edge. </p></td></tr><tr><td><p>Edge Font: edge font and size. </p></td></tr></tbody></table></div></div><br class="table-break"/><div class="table"><a id="d0e3236"/><p class="title"><b>Table 17. </b></p><div class="table-contents"><div class="caption"/><table border="1"><colgroup><col/></colgroup><tbody><tr><td><p><span class="strong"><strong>Global Visual Properties:</strong></span> </p></td></tr><tr><td><p>Background Color </p></td></tr></tbody></table></div></div><br class="table-break"/><p>For each visual attribute, you can specify a default value or define a visual mapping. Cytoscape currently supports three different types of visual mappers: </p><div class="itemizedlist"><ul type="disc"><li><p><span class="strong"><strong>Passthrough Mapper:</strong></span> network attributes are passed directly through to visual attributes. A passthrough mapper only works for node / edge labels. For example, a passthrough mapper can draw the common gene name on all nodes. </p></li><li><p><span class="strong"><strong>Discrete Mapper:</strong></span> discrete network attributes are mapped to discrete visual attributes. For example, a discrete mapper can map all protein-protein interactions to the color blue. </p></li><li><p><span class="strong"><strong>Continuous Mapper</strong></span>: continuous graph attributes are mapped to visual attributes. Depending on the visual attribute, there are two types of continuous mappers: </p><div class="itemizedlist"><ul type="circle"><li><p><span class="strong"><strong>continuous to continuous mapper</strong></span>: for example, you can map a continuous value (0..1) to a continuous color gradient (red..green) or node/font size (10..100). </p></li><li><p><span class="strong"><strong>continuous to discrete mapper</strong></span>: for example, all values below 0 are mapped to square nodes, and all values above 0 are mapped to circular nodes. However, there is no way to smoothly morph between circular nodes and square nodes. </p></li></ul></div></li></ul></div><p>The matrix below shows visual mapper support for each visual property. </p><div class="table"><a id="d0e3282"/><p class="title"><b>Table 18. </b></p><div class="table-contents"><div class="caption"/><table border="1"><colgroup><col/><col/><col/><col/></colgroup><tbody><tr><td><p><span class="strong"><strong>Node Properties</strong></span> </p></td><td><p><span class="strong"><strong>Passthrough Mapper</strong></span> </p></td><td><p><span class="strong"><strong>Discrete Mapper</strong></span> </p></td><td><p><span class="strong"><strong>Continuous Mapper</strong></span> </p></td></tr><tr><td><p> Node Color </p></td><td><p> - </p></td><td><p>X </p></td><td><p>X </p></td></tr><tr><td><p> Node Border Color </p></td><td><p> - </p></td><td><p>X </p></td><td><p>X </p></td></tr><tr><td><p> Node Border Type </p></td><td><p> - </p></td><td><p>X </p></td><td><p>o </p></td></tr><tr><td><p> Node Shape </p></td><td><p> - </p></td><td><p>X </p></td><td><p>o </p></td></tr><tr><td><p> Node Size </p></td><td><p> - </p></td><td><p>X </p></td><td><p>X </p></td></tr><tr><td><p> Node Label </p></td><td><p>X </p></td><td><p>X </p></td><td><p>o </p></td></tr><tr><td><p> Node Font Family </p></td><td><p> - </p></td><td><p>X </p></td><td><p>o </p></td></tr><tr><td><p> Node Font Size </p></td><td><p> - </p></td><td><p>X </p></td><td><p>X </p></td></tr><tr><td><p><span class="strong"><strong>Edge Properties</strong></span> </p></td><td><p><span class="strong"><strong>Passthrough Mapper</strong></span> </p></td><td><p><span class="strong"><strong>Discrete Mapper</strong></span> </p></td><td><p><span class="strong"><strong>Continuous Mapper</strong></span> </p></td></tr><tr><td><p> Edge Color </p></td><td><p> - </p></td><td><p>X </p></td><td><p>X </p></td></tr><tr><td><p> Edge Line Type </p></td><td><p> - </p></td><td><p>X </p></td><td><p>o </p></td></tr><tr><td><p> Edge Source Arrow </p></td><td><p> - </p></td><td><p>X </p></td><td><p>o </p></td></tr><tr><td><p> Edge Target Arrow </p></td><td><p> - </p></td><td><p>X </p></td><td><p>o </p></td></tr><tr><td><p> Edge Label </p></td><td><p>X </p></td><td><p>X </p></td><td><p>o </p></td></tr><tr><td><p> Edge Font Family </p></td><td><p> - </p></td><td><p>X </p></td><td><p>o </p></td></tr><tr><td><p> Edge Font Size </p></td><td><p> - </p></td><td><p>X </p></td><td><p>X </p></td></tr></tbody></table></div></div><br class="table-break"/><p><span class="strong"><strong>Legend</strong></span> </p><div class="table"><a id="d0e3531"/><p class="title"><b>Table 19. </b></p><div class="table-contents"><div class="caption"/><table border="1"><colgroup><col/><col/></colgroup><tbody><tr><td><p><span class="emphasis"><em>Symbol</em></span></p></td><td><p><span class="emphasis"><em>Description</em></span></p></td></tr><tr><td><p> - </p></td><td><p>Mapping is not supported for specified visual property. </p></td></tr><tr><td><p> X </p></td><td><p>Mapping is fully supported for specified visual property. </p></td></tr><tr><td><p> o </p></td><td><p>Mapping is partially supported for specified visual property. Support for “continuous to continuous” mapping is not supported. </p></td></tr></tbody></table></div></div><br class="table-break"/><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Visual Styles Tutorials"/>Visual Styles Tutorials</h3></div></div></div><p/><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Tutorial 1: Creating a Basic Visual Style"/>Tutorial 1: Creating a Basic Visual Style</h4></div></div></div><p>To create a new visual style, select the <span class="underline">View → Open Viz Mapper</span> menu item, or select the <a href="http://cytoscape.org/cgi-bin/moin.cgi/VizMap" target="_top">VizMap</a> icon in the main button bar. You will now see a new Visual Styles dialog box (shown below.) </p><p><span class="inlinemediaobject"><img src="images/VizMapperDialog.png" alt="attachment:VizMapperDialog.png"/></span> </p><p>Click the New button, and enter a name for your new visual style when prompted. Then click the <span class="strong"><strong>Define</strong></span> button. You will now see the main Visual Styles Properties dialog box (shown below.) </p><p>From this dialog box, you can flip between Node Attributes, Edge Attributes, and Global Defaults. You can also specify default values for any visual property, or define a new custom mapping. </p><p>For example, to set the default node shape to triangles, select <span class="underline">Node Attributes → Node Shape</span>. Then, click the <span class="strong"><strong>Change Default</strong></span> button, and select the Triangle icon from the selection list. </p><p><span class="inlinemediaobject"><img src="images/VizMapperNodeShapeDialog.png" alt="attachment:VizMapperNodeShapeDialog.png"/></span> To apply your visual style to your network, hit the <span class="strong"><strong>Apply to Network</strong></span>  button, available in the bottom of the dialog panel. </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Tutorial 2: Creating a New Visual Style with a Discrete Mapper"/>Tutorial 2: Creating a New Visual Style with a Discrete Mapper</h4></div></div></div><p>The following tutorial demonstrates how to create a new visual style with a discrete mapper. The goal is to draw Protein-DNA interactions with blue edges, and Protein-Protein interactions with red edges. </p><div class="itemizedlist"><ul type="disc"><li><p>Load a sample network: From the main menu, select <span class="underline">File → Import → Network</span>, and select sampleData/galFiltered.sif. </p></li><li><p>Click the <a href="http://cytoscape.org/cgi-bin/moin.cgi/VizMap" target="_top">VizMap</a> <span class="inlinemediaobject"><img src="images/VizMapIcon.png" alt="attachment:VizMapIcon.png"/></span> button on the tool bar. </p></li><li><p>Select <span class="strong"><strong>New</strong></span> to create a new Visual Style. Name your new style: “Sample3”. </p></li><li><p>Click the <span class="strong"><strong>Define</strong></span> button to define the newly created Visual Style. </p></li><li><p>In the “Set Visual Properties” Dialog box, select <span class="underline">Edge Attributes → Edge Color</span>. </p></li><li><p>Click the <span class="strong"><strong>New</strong></span> button in the mapping panel. </p></li><li>You will be prompted to select a mapping type: passthrough mapper, discrete mapper or continuous mapper (for an overview of the differences between these mappers, please refer to the text above) Select “discrete mapper”, and enter a descriptive name. For example, enter: Interaction_Type_Color. </li><li>From the “Map Attribute” pull-down menu, select “interaction.” You should now see two buttons, one for pd (Protein-DNA interactions), and one for pp (Protein-Protein interactions). </li><li>Click the “pd” button and select a blue color. </li><li>Click the “pp” button and select a red color. </li><li>Click the “Apply to Network" button. </li></ul></div><p>You network should now show “pd” interactions in blue, and “pp” interactions in red. Sample screenshot is below </p><p><span class="inlinemediaobject"><img src="images/VizMapperInteractionsRedBlue.png" alt="attachment:VizMapperInteractionsRedBlue.png"/></span> </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Tutorial 3: Visualizing Expression Data on a Network"/>Tutorial 3: Visualizing Expression Data on a Network</h4></div></div></div><p>The following tutorial demonstrates how to create a new continuous mapper. The goal is to superimpose gene expression data onto a network, and to display gene expression values along a color gradient. </p><div class="itemizedlist"><ul type="disc"><li><p>Load a sample network: From the main menu, select <span class="underline">File → Import → Network</span>, and select sampleData/galFiltered.sif. </p></li><li><p>Load a sample set of expression data: From the main menu, select <span class="underline">File → Import → Attribute Matrix</span> and select sampleData/galExpData.pvals. </p></li><li><p>Click the <a href="http://cytoscape.org/cgi-bin/moin.cgi/VizMap" target="_top">VizMap</a> <span class="inlinemediaobject"><img src="images/VizMapIcon.png" alt="attachment:VizMapIcon.png"/></span> button on the tool bar. </p></li><li>Select “New” to create a new Visual Style. Name your new style: “Sample4”. </li><li>Click the “Define” button to define the newly created Visual Style. </li><li><p>In the “Set Visual Properties” Dialog box, select <span class="underline">Node Attributes → Node Color</span>. </p></li><li>Click the New button in the mapping panel. </li><li>You will be prompted to select a mapping type: passthrough mapper, discrete mapper or continuous mapper (for an overview of the differences between these mappers, please refer to the section above) Select “continuous mapper”, and enter a descriptive name. For example, enter: Color_Gradient. </li><li>From the “Map Attribute” pull-down menu, select “gal1RGexp.” </li><li>Click the “Add Point” button twice to add two data points. </li><li>Set the first point to “-1”, Below = Yellow, Equal = White. </li><li>Set the second point to “2”, Equal = Red, Above = Black. </li><li>Click the “Apply to Network" button. </li></ul></div><p>This visual mapper will set all nodes with a gal1RGexp value less than –1 to Yellow, and all nodes with a gal1RGExp value greater than 2 to Black. Additionally, all values between –1 and 2 will be painted with a white/red color gradient. Sample screenshot is below. </p><p><span class="inlinemediaobject"><img src="images/VizMapperExpRedBlack.png" alt="attachment:VizMapperExpRedBlack.png"/></span> </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Managing Visual Styles"/>Managing Visual Styles</h3></div></div></div><p>All Cytoscape Visual Style settings are initially loaded from a a default file called vizmap.props that cannot be altered by users. When users make changes to the visual properties, a vizmap.props file is saved in the session file. This means that assuming you save your session, you will not lose your visual properties.  No other vizmap.props files are saved during normal operation. </p><p/><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Saving Visual Styles"/>Saving Visual Styles</h4></div></div></div><p>Visual styles are automatically saved with the session they were created in.  Before Cytoscape exits, you will be prompted to make sure you save the session before quitting.   It is also possible to save your visual styles in a file separate from the session file.  To do this, navigate to the <span class="underline">File → Export → Vizmap Property File...</span> menu and choose the file the properties should be saved to.   This feature can be used to share visual styles with other users. </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Importing Visual Styles"/>Importing Visual Styles</h4></div></div></div><p>To import existing visual styles navigate to the <span class="underline">File → Import → Vizmap Property File</span> menu option and select a vizmap.props file.  Imported properties will supplement existing properties or override existing properties if the properties have the same name. You can also specify a visual properties file using the -V command line option (cytoscape.sh -V myVizmap.props).  Visual properties loaded from the command line will override any default properties. </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Default Visual Styles"/>Default Visual Styles</h4></div></div></div><p>It is possible to change the default visual properties for all sessions of cytoscape.  To do this, navigate to the <span class="underline">Edit → Preferences...</span> menu, check the "Make Current Visual Styles Default" box in the "Default Visual Styles" section, and click "Ok".  This will save the current visual styles as a vizmap.props file to your .cytoscape directory (found in your home directory). These visual styles will be loaded each time Cytoscape is started. </p><p/></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Bypassing Visual Styles"/>Bypassing Visual Styles</h3></div></div></div><p>Cytoscape has a new feature that allows users to override visualizations created by the vizmapper for individual nodes and edges. This feature is available by right-clicking on a node or edge and then clicking on the <span class="underline">Visual Mapping Bypass</span> menu.  </p><p><span class="inlinemediaobject"><img src="images/VizmapBypass.png" alt="attachment:VizmapBypass.png"/></span> </p><p>Each visual property of the node or edge is displayed.  When a property is overridden, a checkmark appears next to the property and a <span class="underline">[Reset &lt;Property Name&gt;]</span> menu item appears below the checked property.  By clicking the <span class="underline">[Reset &lt;Property Name&gt;]</span> option the bypass will be removed and the attribute will be displayed as defined by the <a href="http://cytoscape.org/cgi-bin/moin.cgi/VizMapper" target="_top">VizMapper</a>. At the bottom of the menu a <span class="underline">Reset All</span> option appears.  When clicked, this will be remove all bypasses for the specified node or edge.  In the example above you can see the the selected node size, color, and shape have been overridden.  This is apparent in the appearance of the node itself and by the check marks in the popup menu. </p><p>It is important to realize that the the Visual Mapping Bypass only works for individual nodes and edges and not for all nodes or edges of a specific type.  Using bypass is not particularly resource intensive, meaning you can use it as much as you like. However, if you ever find yourself repeating the same bypasses, then you should consider using the <a href="http://cytoscape.org/cgi-bin/moin.cgi/VizMapper" target="_top">VizMapper</a> instead. </p><p>Bypass is accomplished using special attributes with names like <span class="emphasis"><em>node.fillColor</em></span> and <span class="emphasis"><em>node.shape</em></span>.  These are normal Cytoscape attributes and can be seen an editted in the Attribute Browser.  The value of the attribute is a string representation of a property.  For example, color is represented by 3 integers representing the RGB (red, green, blue) value of the color.  Different types of properties have different string representations.  When in doubt, just use the right click menu to create valid attribute values.  </p><p>Because bypass values are specified using normal attributes, these attributes will persist between sessions as long as you save your session!  If you don't save your session, you will lose whatever bypass values you set. </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Finding and Filtering Nodes and Edges"/>Finding and Filtering Nodes and Edges</h2></div></div></div><p/><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="QuickFind"/>QuickFind</h3></div></div></div><p>Cytoscape now includes a new Quick Find feature, which enables you to quickly find nodes and edges.   </p><p><span class="inlinemediaobject"><img src="images/quick_find2.png" alt="attachment:quick_find2.png"/></span> </p><p>Using Quick Find is very simple.  Here is how it works: </p><div class="itemizedlist"><ul type="disc"><li>Import up a network.  For example, load up sampleData/galFiltered.sif </li><li>Start typing in the text box.  For example, enter "yd".  The search box will automatically display a list of all matching nodes. </li></ul></div><p><span class="inlinemediaobject"><img src="images/quick_find3.png" alt="attachment:quick_find3.png"/></span> </p><div class="itemizedlist"><ul type="disc"><li>Select a matching node by hitting [Enter].  Cytoscape will automatically zoom in on the selected node. </li></ul></div><p><span class="inlinemediaobject"><img src="images/quick_find4.png" alt="attachment:quick_find4.png"/></span> </p><p/><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Configuring Quick Find"/>Configuring Quick Find</h4></div></div></div><p>Quick Find works by creating an internal index of all nodes within the network.  By default, Cytoscape indexes all nodes by the node identifier.  However, you can configure Quick Find to index nodes or edges, and you can choose to index on any attribute. </p><p>For example, if you load up a BioPAX file (sampleData/Apoptosis_BioPAX.xml), your network will be automatically annotated with numerous attributes.  To index the network based on, e.g. cellular location, click the Quick Find configuration button, and select "biopax_cellular" location from the drop-down menu. </p><p><span class="inlinemediaobject"><img src="images/quick_find5.png" alt="attachment:quick_find5.png"/></span> </p><p>You can then quickly find all proteins located in the "plasma membrane" by just typing "p". </p><p><span class="inlinemediaobject"><img src="images/quick_find6.png" alt="attachment:quick_find6.png"/></span> </p><p><span class="strong"><strong>Tip:</strong></span>  If you don't know what to search for, just leave the search box empty, and click on the down arrow directly next to the search box.  Cytoscape will provide you with an initial list of matches.  In the case below, we get a list of all distinct cellular locations in the network. </p><p><span class="inlinemediaobject"><img src="images/quick_find7.png" alt="attachment:quick_find7.png"/></span> </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Dynamic Filtering via Quick Find"/>Dynamic Filtering via Quick Find</h4></div></div></div><p>If you choose to index on a numerical attribute, the Cytoscape search box changes to a dynamic slider for quick filtering. </p><p>For example: </p><div class="itemizedlist"><ul type="disc"><li><p>Import a network:  sampleData/galFiltered.sif.  <span class="strong"><strong>File → Import →  Network</strong></span>. </p></li><li><p>Import an expression data file:  sampleData/galExpData.pvals.  <span class="strong"><strong>File → Import →  Attribute / Expression Matrix</strong></span> </p></li><li>Index Quick Find on the gal1RGExp attribute </li></ul></div><p><span class="inlinemediaobject"><img src="images/quick_find8.png" alt="attachment:quick_find8.png"/></span> </p><div class="itemizedlist"><ul type="disc"><li>Use the slider widget to automatically filter the entire network </li></ul></div><p><span class="inlinemediaobject"><img src="images/quick_find9.png" alt="attachment:quick_find9.png"/></span> </p><p/></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Filters"/>Filters</h3></div></div></div><p>Filters allow for a wide variety of filtering on node and edge attributes loaded onto Cytoscape networks. Filters are poorly named because what they really do is select nodes or edges based on properties you specifiy. For example, you can select all the nodes whose name contains a specific pattern. Several types of filters are available. Basic filters allow the selection of multiple nodes or edges according to attribute data: </p><div class="itemizedlist"><ul type="disc"><li><p><span class="strong"><strong>String </strong></span>filters allow selection of nodes or edges with attributes matching specified patterns. These patterns may include the wildcards * and ?. </p></li><li><p><span class="strong"><strong>Numerical</strong></span> filters allow selection of nodes or edges according to numerical attributes and the mathematical operators &gt;, =, and &lt;. </p></li><li><p><span class="strong"><strong>Topology</strong></span> filters allow selection of nodes with neighbors that match some pre-existing filter. </p></li></ul></div><p>Compound filters allow selection based on the application of pre-existing filters: </p><div class="itemizedlist"><ul type="disc"><li><p><span class="strong"><strong>Boolean</strong></span> filters allow the combination of multiple filters using the AND, OR and XOR operators. Example filters are shipped with the plugin to get started. </p></li></ul></div><p/><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Using Filters"/>Using Filters</h4></div></div></div><p>By default, you should see a filter icon on the toolbar: <span class="inlinemediaobject"><img src="images/filter_icon.png" alt="attachment:filter_icon.png"/></span> </p><p>If you press the filter icon, you will see a filters dialog which initially looks like the following: </p><p><span class="inlinemediaobject"><img src="images/init_filter_dialog.png" alt="attachment:init_filter_dialog.png"/></span> </p><p>If the first filter is selected, then the dialog looks as shown: </p><p><span class="inlinemediaobject"><img src="images/first_filter_dialog.png" alt="attachment:first_filter_dialog.png"/></span> </p><p/><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="Filter Panels:"/>Filter Panels:</h5></div></div></div><p>The right panel: An existing or newly created filter can be edited in this area. Each filter type has its own user interface for editing. </p><p>The low left panel: All available filters are shown in this list. Initially, this list will contain sample filters, but as you create more, they will be added here. </p><p>The up left panel: Pressing “Create new filter” adds a filter to the “Available Filters” box, and “Remove selected filter” deletes the currently selected filter. </p><p/></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Creating Filters"/>Creating Filters</h4></div></div></div><p>The “Create new filter” button brings up the Filter creation dialog box, shown below. </p><p><span class="inlinemediaobject"><img src="images/create_new_filter_dialog.png" alt="attachment:create_new_filter_dialog.png"/></span> </p><p>The important thing to realize when creating a filter is that the filter does not <span class="strong"><strong>do</strong></span> anything by itself. Once created, the filter must be run. </p><p/><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="String Filter:"/>String Filter:</h5></div></div></div><p><span class="inlinemediaobject"><img src="images/string_filter.png" alt="attachment:string_filter.png"/></span> </p><p>The String Filter allows you to filter nodes or edges by a given string node or edge attribute. Attributes that are loaded on the network are available for filtering against. Search terms are entered in the text box at the bottom. For example to match any Node whose canonicalName starts with “YDL” you would select “Node”, “canonicalName” and type “YDL*”. The * is important as it matches any number of characters after YDL. If you want to be more specific and only select nodes whose canonicalName starts with YDL00 followed by any other two characters, you would type “YDL00??”. The “?” denotes any single character, while the “*” represents zero or more characters. Full regular expression searching is supported, although is not covered here. Once the filter is defined, it will be assigned a default descriptive name. </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="Numerical Filter:"/>Numerical Filter:</h5></div></div></div><p><span class="inlinemediaobject"><img src="images/numerical_filter.png" alt="attachment:numerical_filter.png"/></span> </p><p>The Numerical Filter also allows you to filter nodes or edges, and presents you with a list of available attributes. This filter matches greater-than, less-than, or equal-to a number you type in the search box. </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="Node Topology Filter:"/>Node Topology Filter:</h5></div></div></div><p><span class="inlinemediaobject"><img src="images/node_topology_filter.png" alt="attachment:node_topology_filter.png"/></span> </p><p>The node topology filter allows you to select nodes with at least <span class="emphasis"><em>n</em></span> neighbors of distance <span class="emphasis"><em>m </em></span>or less that pass some other selected filter. For instance, to select all the nodes adjacent to a node with the canonical name matching ‘YD*’, you would “select nodes with 1 neighbors”, “within distance 1”, “that pass the filter Node: canonicalName ~ YD*”. </p><p>The node topology filter depends on the existence of other filters.  By default the <span class="strong"><strong>[No Filter]</strong></span> is selected for this purpose.  The <span class="strong"><strong>[No Filter]</strong></span> doesn't filter anything, rather it selects all nodes. </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="Boolean Filter:"/>Boolean Filter:</h5></div></div></div><p><span class="inlinemediaobject"><img src="images/boolean_filter.png" alt="attachment:boolean_filter.png"/></span> </p><p>The Boolean Meta-Filter allows you to define a new filter that is a logical combination of existing filters. Available filters are displayed. By selecting one or more filters, you can then choose whether Nodes or Edges pass “ALL” (AND), “AT LEAST ONE” (OR), or “ONLY ONE” (XOR) of the selected filters. Once created Boolean filters can then themselves be combined using the Boolean filter to create arbitrarily complex logical combinations of filters. Note that unlike the String and Numerical Filters, Boolean Filters will need to be assigned a name manually. </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="Saving Filters"/>Saving Filters</h5></div></div></div><p>Filters are currently saved automatically in the filters.props file found in the <span class="emphasis"><em>.cytoscape</em></span> directory, found in each user's home directory. Once created, filters are saved for future sessions, as long as you exit Cytoscape normally via the exit command in the File menu (i.e. not via ctrl-c on Linux). </p><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="Running filters"/>Running filters</h5></div></div></div><p>Any available filter can be run by pressing the ‘Apply selected filter’ button. When a filter is applied and multiple nodes or edges are selected, all of the normal selection-related operations may be performed, such as Delete Selected Node/Edges, Copy To New Network, and Invert Selection. </p><p/></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Select Menu"/>Select Menu</h3></div></div></div><p>The <span class="underline">Select → Nodes</span> and <span class="underline">Select → Edges</span> menus provide several mechanisms for selecting nodes and edges. Most options are fairly straightforward, however some need extra explanation. </p><p><span class="underline">Select → Nodes → By Name...</span>  selects nodes by the node identifier (ID).  This is the value seen in the left-most column of the attribute browser.  This does not change if the node label changes! </p><p><span class="underline">Select → Nodes → From File...</span> selects nodes based on node identifiers found in a specified file.  The file format is simply one node id per line: </p><p/><pre class="screen">Node1
Node2
Node3
...
</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Editing Networks"/>Editing Networks</h2></div></div></div><p>Using Cytoscape's Editor, you can build and modify networks interactively by dragging and dropping nodes and edges from a palette onto the main network view window. The palette contains a set of shapes (for nodes) and arrows (for edges). The shapes on the palette are defined by the current Visual Style, with Node Shape and Node Color mapping into the shape and color of a node, and Edge Target Arrow mapping into the target arrow of an edge. An example of an editor, with the palette contained in <a href="http://cytoscape.org/cgi-bin/moin.cgi/CytoPanel" target="_top">CytoPanel</a> 1, is shown below. </p><p><span class="inlinemediaobject"><img src="images/image096.gif" alt="attachment:image096.gif"/></span> </p><p>To edit an existing network, just select the Editor tab in <a href="http://cytoscape.org/cgi-bin/moin.cgi/CytoPanel" target="_top">CytoPanel</a> 1.  To start editing a new network, use the <span class="underline">File → New → Network → Empty Network</span> menu item. </p><p>The figure below shows the editor with palette defined by "Default" visual style. </p><p><span class="inlinemediaobject"><img src="images/image097.gif" alt="attachment:image097.gif"/></span> </p><p>To add a node to a network, drag and drop a node shape from the palette onto the canvas. </p><p>To connect two nodes with an edge, drag and drop an arrow shape onto a node on the canvas. This node becomes the source node of the edge. Move the cursor and a rubber-banded line follows the cursor. As the cursor passes over another node, that node is highlighted and the rubber-banded line will snap to a connection point on that second node. Click the mouse while over this node and the connection is established. </p><p>You can abort the drawing of the edge by clicking on an empty spot on the palette. </p><p>Note that if you change the Visual Style, the palette used by the current network view will also change to be consistent with the mappings in the new Visual Style. </p><p>There is also an <span class="underline">Edit → Connect Selected Nodes</span> menu item that, when chosen, creates a clique amongst the selected nodes. </p><p>The editor provides accelerators for adding nodes and edges. Control-clicking at a position on the canvas creates a node at that position. The NODE_TYPE attribute of the node will be the same as the NODE_TYPE of the node most recently added, defaulting to "<a href="http://cytoscape.org/cgi-bin/moin.cgi/DefaultNode" target="_top">DefaultNode</a>" type. In this manner, you can use control-clicking as a kind of "stamp" to add multiple nodes of the same type to the network. Control-clicking on a node on the canvas starts an edge with source at that node. Move the cursor and a rubber-banded line follows the cursor. As the cursor passes over another node, that node is highlighted and the rubber-banded line will snap to a connection point on that second node. Control-click the mouse again and the connection is established. The EDGE_TYPE attribute of the edge will be the same as the EDGE_TYPE of the edge most recently added, defaulting to "<a href="http://cytoscape.org/cgi-bin/moin.cgi/DefaultEdge" target="_top">DefaultEdge</a>" type. You can abort the drawing of the edge by control-clicking on an empty spot on the palette. </p><p>You can delete nodes and edges by selecting a number of nodes and edges, then selecting the <span class="underline">Edit → Delete Selected Nodes and Edges</span> menu item. You can recover any nodes and edges deleted from a network by selecting the <span class="underline">Edit → Undo</span> menu item. Note that this will restore <span class="strong"><strong>all</strong></span> nodes and edges that were previously deleted from the network, not just those deleted by the most recent delete operation. </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="CytoPanels"/>CytoPanels</h2></div></div></div><p><span class="underline"><span class="strong"><strong>What are C</strong></span><span class="strong"><strong>ytoPanels?</strong></span></span> </p><p>C<span class="strong"><strong/></span>ytoPanels are floatable / dockable panels designed to cut down on the number of pop-up windows within Cytoscape and to create a more unified user experience. The following screenshot shows the galFiltered.sif file loaded into Cytoscape.  In C<span class="strong"><strong/></span>ytoPanel 1, the C<span class="strong"><strong/></span>ytoPanel on the left-hand side of the screen, the Network Manager, Network Overview, and Cytoscape Editor have been loaded.  In addition, in C<span class="strong"><strong/></span>ytoPanel 2, the Node Attribute Browser has been loaded. </p><p><span class="inlinemediaobject"><img src="images/cytopanel-default.png" alt="attachment:cytopanel-default.png"/></span> </p><p>The user can then chose to resize, hide or float the left C<span class="strong"><strong/></span>ytoPanel. For example, in the screenshot below, the user has chosen to float C<span class="strong"><strong/></span>ytoPanel 1: </p><p><span class="inlinemediaobject"><img src="images/cytopanel-float.png" alt="attachment:cytopanel-float.png"/></span> </p><p><span class="strong"><strong>Basic Usage</strong></span> </p><p>Cytoscape 2.2 includes three C<span class="strong"><strong/></span>ytoPanels: C<span class="strong"><strong/></span>ytoPanel 1 (appears on the left), C<span class="strong"><strong/></span>ytoPanel 2 (appears on the bottom), and C<span class="strong"><strong/></span>ytoPanel 3 (appears on the right). By default, C<span class="strong"><strong/></span>ytoPanel 1 and C<span class="strong"><strong/></span>ytoPanel 2 will appear.  C<span class="strong"><strong/></span>ytoPanel 3 may appear depending on the mix of P<span class="strong"><strong/></span>lugIns currently installed in your Cytoscape distribution. </p><p>C<span class="strong"><strong/></span>ytoPanels can be shown or hidden by selecting the desired menu item within the C<span class="strong"><strong/></span>ytoPanels menu. </p><p><span class="inlinemediaobject"><img src="images/cytopanel-menu-items.png" alt="attachment:cytopanel-menu-items.png"/></span> </p><p>In addition, C<span class="strong"><strong/></span>ytoPanels can be floated or docked by selected the icon at the top-right corner of each C<span class="strong"><strong/></span>ytoPanel. The icon and tooltip will change based on the C<span class="strong"><strong/></span>ytoPanel state. If the C<span class="strong"><strong/></span>ytoPanel is docked, clicking on the icon will float the C<span class="strong"><strong/></span>ytoPanel, as indicated by the “Float Window” tooltip. Alternatively, if the C<span class="strong"><strong/></span>ytoPanel is floating, clicking on the icon will dock the C<span class="strong"><strong/></span>ytoPanel, as indicated by the “Dock Window” tooltip. </p><p><span class="inlinemediaobject"><img src="images/cytopanel-float-dock-icon.png" alt="attachment:cytopanel-float-dock-icon.png"/></span> </p></div><div class="itemizedlist"><ul type="disc"><li><a id="renderer"/></li></ul></div><p/><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Rendering Engine"/>Rendering Engine</h2></div></div></div><p>In Cytoscape 2.3 a new network rendering engine is being introduced.  The goal of the rendering engine is to be able to display large networks (&gt;10,000 nodes) yet retain interactive speed.  To accomplish this goal a technique involving <span class="emphasis"><em>level of detail</em></span> is being used.  Based on the count of objects (nodes and edges) being rendered, an appropriate <span class="emphasis"><em>level of detail</em></span> is chosen.  For example, by default, node labels (if present) are only rendered when less than 100 nodes are visible because drawing text is a relatively expensive operation.  This can create some unusual behavior. If the screen currently contains 98 nodes, node labels will be displayed.  If you pan the screen, such that now 101 nodes are displayed, the node labels will disappear.  As another example, if the sum of rendered edges and rendered nodes is greater than or equal to a default value of 2000, a very coarse level of detail is chosen, where edges are always straight lines, nodes are always rectangles, and no antialiasing is done.  The default values used to determine these thresholds can be changed by setting properties in the <span class="underline">Edit → Preferences</span> menu.   <span class="strong"><strong>Beware!</strong></span>  The greater these thresholds become, the slower performance will become.  If you work with small networks (a few hundred nodes), this shouldn't be a problem, but for large networks it will produce noticeable slowing.  The various thresholds are described below. </p><div class="table"><a id="d0e4342"/><p class="title"><b>Table 20. </b></p><div class="table-contents"><div class="caption"/><table border="1"><colgroup><col/><col/><col/></colgroup><tbody><tr><td><p> render.coarseDetailThreshold </p></td><td colspan="2"><p> If the sum of <span class="emphasis"><em>rendered</em></span> nodes and <span class="emphasis"><em>rendered</em></span> edges equals to or exceeds this number, a very coarse level of detail will be chosen and all other detail parameters will be ignored; this value defaults to 2000. </p></td></tr><tr><td><p> render.nodeBorderThreshold </p></td><td colspan="2"><p> If the number of <span class="emphasis"><em>rendered</em></span> nodes equals to or exceeds this number, node borders will not be rendered; this value defaults to 200. </p></td></tr><tr><td><p> render.nodeLabelThreshold </p></td><td colspan="2"><p> If the number of <span class="emphasis"><em>rendered</em></span> nodes equals to or exceeds this number, node labels will not be rendered; this value defaults to 100. </p></td></tr><tr><td><p> render.edgeArrowThreshold </p></td><td colspan="2"><p> If the number of <span class="emphasis"><em>rendered</em></span> edges equals to or exceeds this number, edge arrows will not be rendered; this value defaults to 300. </p></td></tr><tr><td><p> render.edgeLabelThreshold </p></td><td colspan="2"><p> If the number of <span class="emphasis"><em>rendered</em></span> edges equals to or exceeds this number, edge labels will not be rendered; this value defaults to 150. </p></td></tr></tbody></table></div></div><br class="table-break"/><p>When printing networks or exporting to formats such as <a href="http://cytoscape.org/cgi-bin/moin.cgi/PostScript" target="_top">PostScript</a>, the highest level of detail is always chosen regardless of what is currently being displayed on the screen. </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Annotation"/>Annotation</h2></div></div></div><p>Annotations in Cytoscape are stored as a set of ontologies (e.g. the Gene Ontology - GO). An ontology consists of a set of controlled vocabulary terms that annotate the objects. For example, using the Gene Ontology, the Saccharomyces Cerevisiae <span class="strong"><strong>CDC55</strong></span> gene’s biological process is described as “protein biosynthesis”, to which GO has assigned the number 6412 (a GO ID).  </p><p/><pre class="screen">GO 8150 biological_process
 GO 7582 physiological processes
   GO 8152 metabolism
    GO 44238 primary metabolism
      GO 19538 protein metabolism
        GO 6412 protein biosynthesis
</pre><p><span class="strong"><strong>Graphical View of GO Term 6412: protein biosynthesis</strong></span> </p><p><span class="inlinemediaobject"><img src="images/ontology_dag1.png" alt="attachment:ontology_dag1.png"/></span> </p><p>Cytoscape can use this ontology DAG (Directed Acyclic Graph) to annotate objects in networks.  The <span class="emphasis"><em><span class="strong"><strong>Ontology Server</strong></span></em></span> (originally called <span class="emphasis"><em><span class="strong"><strong>Bio Data Server</strong></span></em></span>) is a Cytoscape feature which allows you to load, navigate, and assign annotation terms to nodes and edges in a network.  In version 2.4, Cytoscape has enhanced GUI for loading ontology and associated annotation, which enables you to load both local and remote files. </p><p/><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Ontology and Annotation File Format"/>Ontology and Annotation File Format</h3></div></div></div><p>The standard file formats used in Cytoscape Ontology Server are OBO and Gene Association. The GO website details these file formats: </p><div class="itemizedlist"><ul type="disc"><li><p>Ontologies and Definitions:  <a href="http://www.geneontology.org/GO.downloads.shtml#ont" target="_top">http://www.geneontology.org/GO.downloads.shtml#ont</a> </p></li><li><p>Current Annotations: <a href="http://www.geneontology.org/GO.current.annotations.shtml" target="_top">http://www.geneontology.org/GO.current.annotations.shtml</a> </p></li></ul></div><p/><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="OBO File"/>OBO File</h4></div></div></div><p>OBO file is the ontology DAG itself.  This file defines relationships of ontology terms.  Since version 2.4, Cytoscape can load all ontology files written in OBO format.  The full listing of ontology files are available from Open Biomedical Ontologies (OBO) website:  </p><div class="itemizedlist"><ul type="disc"><li><p>OBO Ontology Browser: <a href="http://obo.sourceforge.net/browse.html" target="_top">http://obo.sourceforge.net/browse.html</a> </p></li></ul></div><p>Sample OBO File - gene_ontology.obo: <a href="http://www.geneontology.org/ontology/gene_ontology_edit.obo" target="_top">http://www.geneontology.org/ontology/gene_ontology_edit.obo</a> </p><pre class="screen">format-version: 1.2
date: 27:11:2006 17:12
saved-by: midori
auto-generated-by: OBO-Edit 1.002
subsetdef: goslim_generic "Generic GO slim"
subsetdef: goslim_goa "GOA and proteome slim"
subsetdef: goslim_plant "Plant GO slim"
subsetdef: goslim_yeast "Yeast GO slim"
subsetdef: gosubset_prok "Prokaryotic GO subset"
default-namespace: gene_ontology
remark: cvs version: $Revision: 5.49 $

[Term]
id: GO:0000001
name: mitochondrion inheritance
namespace: biological_process
def: "The distribution of mitochondria, including the mitochondrial genome, into daughter cells after mitosis or meiosis, mediated by interactions between mitochondria and the cytoskeleton." [GOC:mcc, PMID:10873824, PMID:11389764]
synonym: "mitochondrial inheritance" EXACT []
is_a: GO:0048308 ! organelle inheritance
is_a: GO:0048311 ! mitochondrion distribution

[Term]
id: GO:0000002
name: mitochondrial genome maintenance
namespace: biological_process
def: "The maintenance of the structure and integrity of the mitochondrial genome." [GOC:ai]
is_a: GO:0007005 ! mitochondrion organization and biogenesis
</pre><p><span class="underline"> <span class="strong"><strong>Default List of Ontologies</strong></span> </span> </p><p>Cytoscape provides a list of ontologies available in OBO format.  If Internet connection is available, Cytoscape imports ontology and annotation file directly from the remote source.  The table below is the list of default ontoligies. </p><div class="table"><a id="d0e4488"/><p class="title"><b>Table 21. </b></p><div class="table-contents"><div class="caption"/><table border="1"><colgroup><col/><col/></colgroup><tbody><tr><td><p> <span class="strong"><strong>Ontology Name</strong></span> </p></td><td><p> <span class="strong"><strong>Description</strong></span> </p></td></tr><tr><td><p>Gene Ontology Full</p></td><td><p>This data source contains full size GO dag, which contains all GO terms.  This OBO file is written in version 1.2 format.</p></td></tr><tr><td><p>Generic GO slim</p></td><td><p>Subset of general GO Terms.  Includes higer-level terms only.</p></td></tr><tr><td><p>Yeast GO slim</p></td><td><p>Subset of GO Terms for annotating Yeast data sets.  Maintained by SGD.</p></td></tr><tr><td><p>Molecule role (INOH Protein name/family name ontology)</p></td><td><p>A structured controlled vocabulary of concrete protein names and generic (abstract) protein names. This ontology is a INOH pathway annotation ontology, one of a set of ontologies intended to be used in pathway data annotation to ease data integration. This ontology is used to annotate protein names, protein family names, generic/concrete protein names in the INOH pathway data.  INOH is part of the BioPAX working group.</p></td></tr><tr><td><p>Event (INOH pathway ontology)</p></td><td><p>A structured controlled vocabulary of pathway centric biological processes. This ontology is a INOH pathway annotation ontology, one of a set of ontologies intended to be used in pathway data annotation to ease data integration. This ontology is used to annotate biological processes, pathways, sub-pathways in the INOH pathway data. INOH is part of the BioPAX working group.</p></td></tr><tr><td><p>Protein-protein interaction</p></td><td><p>A structured controlled vocabulary for the annotation of experiments concerned with protein-protein interactions.</p></td></tr><tr><td><p>Pathway Ontology</p></td><td><p>The Pathway Ontology is a controlled vocabulary for pathways that provides standard terms for the annotation of geneproducts.</p></td></tr><tr><td><p>PATO</p></td><td><p>PATO is an ontology of phenotypic qualities, intended for use in a number of applications, primarily phenotype annotation.  For more information, please visit PATO wiki (<a href="http://www.bioontology.org/wiki/index.php/PATO:Main_Page" target="_top">http://www.bioontology.org/wiki/index.php/PATO:Main_Page</a>). </p></td></tr><tr><td><p>Mouse pathology</p></td><td><p>Mouse Pathology Ontology (MPATH) is an ontology for mutant mouse pathology.  This is Version 1.</p></td></tr><tr><td><p>Human disease</p></td><td><p>This ontology is a comprehensive hierarchical controlled vocabulary for human disease representation.  For more information, please visit Disease Ontology website (<a href="http://diseaseontology.sourceforge.net/" target="_top">http://diseaseontology.sourceforge.net/</a>).</p></td></tr></tbody></table></div></div><br class="table-break"/><p>Although Cytoscape can import all kinds of ontologies in OBO format, <span class="strong"><strong>you need to provide ontology-specific annotation file to annotate node/edge/network in Cytoscape</strong></span>.  For example, while you can annotate human network data with GO Full and Gene Association file for human, you cannot annotate it with the combination of the Human disease ontology file and Gene Association file because the Gene Association file is annotation data only for GO. </p><div class="itemizedlist"><ul type="disc"><li><p>Mapping Ontology - <span class="underline">Annotation files are associated with a specific ontology</span>.  This means, you can map GO terms onto human network using Gene Association file for human, but cannot map Human Disease ontology terms with Gene Association file.  In that case, you need an annotation file for Human disease ontology(see the diagram below): </p></li></ul></div><p><span class="inlinemediaobject"><img src="images/ontology_mapping1.png" alt="attachment:ontology_mapping1.png"/></span> </p><p><span class="underline"><span class="strong"><strong>Visualize and Browse Ontology DAG (for Advanced Users)</strong></span></span> </p><p>Relationships between ontology terms are usually represented as Directed Acyclic Graph (DAG).  This is a special case of a network (or graph), where nodes are ontology terms and edges are relationships between terms.  Originally, Cytoscape used special data structure called <a href="http://cytoscape.org/cgi-bin/moin.cgi/BioDataServer" target="_top">BioDataServer</a> to store ontology DAGs.  Since version 2.4, ontology data is stored in the same data structure as normal networks.  This enables users and plugin writers to visualize, browse and manipulate ontology DAGs just like other networks.  The following is an example of visualization of an ontology DAG (Generic GO Slim): </p><p><span class="inlinemediaobject"><img src="images/ontology_dag2.png" alt="attachment:ontology_dag2.png"/></span> </p><p>Every ontology term and relationship can have attributes.  In the OBO files, ontology terms have optional fields such as definition, synonyms, comments, or cross-references.  These fields will be imported as node attributes.  To browse those attributes, please use attribute browser (see the example below): </p><p><span class="inlinemediaobject"><img src="images/ontology_attrs.png" alt="attachment:ontology_attrs.png"/></span> </p><div class="itemizedlist"><ul type="disc"><li><p>Note 1: Some ontologies have a lot of terms.  For example, the full Gene Ontology contains more than 20,000 terms.  If you need to save memory, you can remove this ontology DAG from Network Panel (Right click on the Ontology Name → <span class="emphasis"><em><span class="strong"><strong>Destroy Network</strong></span></em></span>). </p></li><li>Note 2: All ontology DAGs will be saved in the session file.  To minimize the session file size, you can delete the Ontology DAG before saving session. </li></ul></div><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Gene Association File"/>Gene Association File</h4></div></div></div><p>Gene Association (GA) file is an annotation only for Gene Ontology.  This is a species specific annotation file for GO terms.  <span class="strong"><strong>Gene Assoiation files will only work with Gene Ontologies and NOT others!</strong></span> </p><p>Sample Gene Association File (gene_association.sgd - annotation file for yeast): </p><p/><pre class="screen">SGD     S000003916      AAD10           GO:0006081      SGD_REF:S000042151|PMID:10572264        ISS             P       aryl-alcohol dehydrogenase (putative)        YJR155W gene    taxon:4932      20020902        SGD
SGD     S000005275      AAD14           GO:0008372      SGD_REF:S000069584      ND              C       aryl-alcohol dehydrogenase (putative)        YNL331C gene    taxon:4932      20010119        SGD
</pre><p/></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Import Ontology and Annotation"/>Import Ontology and Annotation</h3></div></div></div><p><span class="inlinemediaobject"><img src="images/ontology_and_annotation_Import_main.png" alt="attachment:ontology_and_annotation_Import_main.png"/></span> Cytoscape 2.4 provides a graphical user interface to import both ontology and annotation files at the same time. </p><p/><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="Import Gene Ontology and Gene Association Files"/>Import Gene Ontology and Gene Association Files</h4></div></div></div><p>For user's convenience, Cytoscape has a list of URLs for commonly used ontology data and a complete set of Gene Association files.  To import Gene Ontology and Gene Association files for the loaded networks, please follow these steps: </p><p><span class="emphasis"><em><span class="strong"><strong>Important: All data sources in the preset list are remote URLs, meaning a network connection is required!</strong></span></em></span> </p><p><span class="underline">Step 1.</span> Select Annotation File </p><p><span class="inlinemediaobject"><img src="images/ontology_import_annotation.png" alt="attachment:ontology_import_annotation.png"/></span> </p><p>Select <span class="underline"><span class="emphasis"><em><span class="strong"><strong>File → Import → Ontology and Annotation...</strong></span></em></span></span> to open the <span class="emphasis"><em>Import Ontology and Annotation</em></span> dialog.  From the <span class="emphasis"><em><span class="strong"><strong>Annotation</strong></span></em></span> combo box, select a gene association file for your network.  For example, if you want to annotate yeast network, select <span class="emphasis"><em>Gene Association file for Saccharomyces cerevisiae</em></span>. </p><p><span class="underline">Step 2.</span> Select Ontology File </p><p><span class="inlinemediaobject"><img src="images/ontology_import_obo.png" alt="attachment:ontology_import_obo.png"/></span> </p><p>Select an Ontology data (OBO file) from <span class="emphasis"><em><span class="strong"><strong>Ontology</strong></span></em></span> combo box.  If the file is not loaded yet, they are shown in red.  The first three files are Gene Ontology files.  You can load other ontologies, but you need your own annotation file to annotate networks.  </p><p><span class="underline">Step 3.</span> Start Import </p><p>Once you click <span class="emphasis"><em><span class="strong"><strong>Import</strong></span></em></span> button, Cytoscape start loading OBO and Gene Association files from the remote sources.  If you choose <span class="emphasis"><em>GO Full</em></span> it may take a while since it is a large data file. </p><p><span class="underline">Step 4.</span> </p><p>When Cytoscape finishes to import files, the window will be automatically closed.  All attributes mapped by this function have prefix <span class="emphasis"><em>annotation</em></span> and looks like this: <span class="emphasis"><em>annotation</em></span>.[attribute_name].  All ontologies will be added to the end of branch <span class="emphasis"><em><span class="strong"><strong>Ontology DAGs</strong></span></em></span>.  </p><p><span class="inlinemediaobject"><img src="images/ontology_tree.png" alt="attachment:ontology_tree.png"/></span> </p><p>Ontology DAGs have some attributes associated with the terms.  All attributes associated with ontology terms have prefix <span class="emphasis"><em><span class="strong"><strong>ontology.</strong></span></em></span>  They have at least one attribute, <span class="emphasis"><em>ontology.name</em></span>.  For more informations about detail of attributes for ontology DAGs, please read <a href="http://www.geneontology.org/GO.format.obo-1_2.shtml" target="_top">OBO specification document</a>. </p><div class="itemizedlist"><ul type="disc"><li>Note: Cytoscape supports both OBO format version 1.0 and 1.2. </li></ul></div><p/></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Custom Annotation Files for Ontologies Other than GO (for Advanced Users)"/>Custom Annotation Files for Ontologies Other than GO (for Advanced Users)</h3></div></div></div><p><span class="emphasis"><em>Ontology and Annotation Import</em></span> function is designed to import general ontology and annotation files.  Internally, mapping ontology terms onto existing networks is same as joining three data tables in Cytoscape.  An Ontology DAG, an annotation file, and networks are used in this process (see the example below). </p><p><span class="underline">Network Data</span> </p><p><span class="inlinemediaobject"><img src="images/ontology_net_table.png" alt="attachment:ontology_net_table.png"/></span> </p><p><span class="underline">Ontology Data</span> </p><p><span class="inlinemediaobject"><img src="images/ontology_obo_table.png" alt="attachment:ontology_obo_table.png"/></span> </p><p><span class="underline">Annotation Data</span> </p><p><span class="inlinemediaobject"><img src="images/ontology_ga_table.png" alt="attachment:ontology_ga_table.png"/></span> </p><p><span class="underline">Mapping Result</span> </p><p><span class="inlinemediaobject"><img src="images/ontology_mapping_result.png" alt="attachment:ontology_mapping_result.png"/></span> </p><p>If you want to map ontology terms onto network objects, you need to create a custom annotation file.  The annotation file should contain at least 2 columns: a<span class="emphasis"><em><span class="strong"><strong>primary key</strong></span></em></span> and an <span class="emphasis"><em><span class="strong"><strong>ontology term ID</strong></span></em></span>.  <span class="emphasis"><em>Primary key</em></span> is the value for mapping between annotation file and network.  Usually, node/edge ID is used as primary key, but you may choose any of the available attributes.  <span class="emphasis"><em>Ontology term ID</em></span> is the key for mapping between the ontology DAG and the annotation file.  Using these data sources, you can annotate network objects in Cytoscape. </p><p>Suppose you have a small network: </p><pre class="screen">node_1 pp node_2
node_3 pp node_1
node_2 pp node_3
</pre><p>and you want to annotate this network with <span class="emphasis"><em>Ontology A</em></span>, which is an ontology DAG available in OBO format.  In this case, you need an annotation table file looks like this: </p><pre class="screen">node_1  OA_0000232
node_2  OA_0000441
node_3  OA_0000702
</pre><p>where <span class="emphasis"><em>OA_***</em></span> represents an ontology term ID.  This example is a file with the minimum necessary number of columns, however you can include additional columns that will appear as additional node attributes. </p><p>Some ontologies will be used to annotate edges or networks.  For example, <a href="http://obo.sourceforge.net/cgi-bin/detail.cgi?psi-mi" target="_top">Protein-protein interaction ontology</a> is a controlled set of terms for annotating interactions between proteins, so ontology terms should be mapped onto edges (see example below). </p><pre class="screen">node_1 (pp) node_2  MI:0445
node_3 (pp) node_1  MI:0046
node_2 (pp) node_3  MI:0346
</pre><p><span class="inlinemediaobject"><img src="images/ontology_import_custom1.png" alt="attachment:ontology_import_custom1.png"/></span> </p><p>The basic operation of <span class="emphasis"><em>Ontology and Annotation Import</em></span> is the same as <span class="emphasis"><em>Attribute Table Import</em></span>.  The main difference is that you need to specify an additional key for mapping: </p><p><span class="inlinemediaobject"><img src="images/ontology_import_custom2.png" alt="attachment:ontology_import_custom2.png"/></span> </p><p>By selecting a column from <span class="emphasis"><em><span class="strong"><strong>Key Column in Annotation File</strong></span></em></span> combo box,  you can specify the key for mapping between ontology terms and annotation file. </p><div class="itemizedlist"><ul type="disc"><li><p>Note: When you load <span class="emphasis"><em>Gene Association</em></span> files, Cytoscape uses a special loader program designed only for Gene Association files.  Because of this program, all attributes will be named automatically.  Also, ontology IDs will be converted into term names and NCBI taxsonomy ID will be converted into actual species name.  However, for custom annotation files, those processes will not be applied.  All ontology terms will be mapped as term IDs. </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Linkout"/>Linkout</h2></div></div></div><p><a href="http://cytoscape.org/cgi-bin/moin.cgi/LinkOut" target="_top">LinkOut</a> provides a mechanism to link nodes and edges to external web resources within Cytoscape. Right-clicking on a node or edge in Cytoscape view opens a popup menu with a list of web links. </p><p>The external links are specified in a <code class="code">linkout.props</code> file which is included in the cytoscape.jar file. The defaults include a number of links such as Entrez, SGD, iHOP, Google, as well as a number of species-specific links. In addition to the default links, users can customize the <a href="http://cytoscape.org/cgi-bin/moin.cgi/LinkOut" target="_top">LinkOut</a> menu by adding (or removing) links by editing the linkout properties that can be found in the <span class="underline">Edit → Preferences → Properties...</span> dialog. </p><p>External links are listed as <span class="emphasis"><em>‘key’-‘value’</em></span> pairs in the <code class="code">linkout.props</code> file where <span class="emphasis"><em>key</em></span> specifies the name of the link and <span class="emphasis"><em>value</em></span> is the search URL. The LinkOut menus are organized in a hierarchical structure that is specified in the key. All key terms start with the keyword <code class="code">linkouturl</code>. </p><p>For example, the following entry: <code class="code">linkouturl.yeast.SGD=http://db.yeastgenome.org/cgi-bin/locus.pl?locus\=%ID%</code> </p><p>places the SGD link under the yeast submenu. This link will appear in Cytoscape as: </p><p><span class="inlinemediaobject"><img src="images/Figure1_linkout.png" alt="attachment:Figure1_linkout.png"/></span> </p><p>In a similar fashion one can added new submenus. </p><p>The <span class="strong"><strong><code class="code">%ID%</code></strong></span> string in the URL is a place-holder for the node label. When the popup menu is generated this marker is substituted with the node label. In the above example the generated SGD link for YIM protein is: <code class="code">http://db.yeastgenome.org/cgi-bin/locus.pl?locus\=YIM1</code>.  If you want to query based on a different attribute you currently need to specify a different Node Label using the <a href="http://cytoscape.org/cgi-bin/moin.cgi/VizMapper" target="_top">VizMapper</a>. </p><p>Currently there is no mechanism to check whether the constructed URL query is correct and if the node label is meaningful. Similarly there is no ID mapping between various identifiers. For example, a link to NCBI Entrez from a network that uses ensembl gene identifiers as node label will produce a link to Entrez using ensembl ID, which results in an incorrect link. It is the users responsibility to ensure that the node label that is used as the search term in the URL link will result in a meaningful link. </p><p><span class="strong"><strong>Adding or Removing links</strong></span>  The default links are defined in a <code class="code">linkout.props</code> file contained in the linkout.jar.  These links are normal java properties and can be editited while running in the <span class="underline">Edit → Preferences → Properties...</span>  dialog.  New links can be defined this way as well.  New links can be defined at startup in a separate file and loaded from the command line, either by specifying a file containing the links <code class="code">cytoscape.sh -P new_linout.props</code> or as individual properties <code class="code">cytoscape.sh -P linkouturl.yeast.SGD=http://db.yeastgenome.org/cgi-bin/locus.pl?locus\=%ID%</code>. Any links defined on the command line will supersede the default links. </p><p>To remove a link from the menu simply delete the property from the <span class="underline">Edit → Preferences → Properties...</span>  dialog. </p></div><div class="itemizedlist"><ul type="disc"><li><a id="acknowledgements"/></li></ul></div><p/><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Acknowledgements"/>Acknowledgements</h2></div></div></div><p>Cytoscape is built with a number of open source 3rd party Java libraries. The Cytoscape team gratefully acknowledges the following libraries: </p><div class="itemizedlist"><ul type="disc"><li><p>The Colt Distribution: Open Source Libraries for High Performance Scientific and Technical Computing in Java. Information is available at: <a href="http://hoschek.home.cern.ch/hoschek/colt/" target="_top">http://hoschek.home.cern.ch/hoschek/colt/</a>. </p></li><li><p>Graph INterface librarY a.k.a. GINY. Information is available at: <a href="http://csbi.sourceforge.net/" target="_top">http://csbi.sourceforge.net/</a>. </p></li><li><p>JDOM. Information is available at: <a href="http://www.jdom.org" target="_top">http://www.jdom.org</a>. </p></li><li><p>JUnit. Information is available at: <a href="http://junit.org" target="_top">http://junit.org</a>. </p></li><li><p>JGoodies Looks. Information is available at: <a href="http://www.jgoodies.com/freeware/looks/index.html" target="_top">http://www.jgoodies.com/freeware/looks/index.html</a>. </p></li><li><p>Piccolo. Information is available at: <a href="http://www.cs.umd.edu/hcil/jazz/" target="_top">http://www.cs.umd.edu/hcil/jazz/</a>. </p></li><li><p>Type-Specific Collections Library, from Sosnoski Software Solutions, Inc. Information is available at: <a href="http://www.sosnoski.com/opensrc/tclib/" target="_top">http://www.sosnoski.com/opensrc/tclib/</a>. </p></li><li><p>Xerces Java XML parser. Information is available at: <a href="http://xml.apache.org/xerces-j/" target="_top">http://xml.apache.org/xerces-j/</a>. </p></li><li><p>CLI command line parser. Information is available at: <a href="http://jakarta.apache.org/commons/cli/" target="_top">http://jakarta.apache.org/commons/cli/</a>. </p></li><li><p>FreeHEP library. Information is available at: <a href="http://java.freehep.org" target="_top">http://java.freehep.org</a>. </p></li></ul></div><p>This product includes software developed by the Apache Software Foundation (<a href="http://www.apache.org/" target="_top">http://www.apache.org/</a>). </p><p>This product includes software developed by the JDOM Project (<a href="http://www.jdom.org/" target="_top">http://www.jdom.org/</a>). </p><p>One-step Installation of the Cytoscape software is accomplished using the <span class="emphasis"><em><a href="http://cytoscape.org/cgi-bin/moin.cgi/InstallAnywhere" target="_top">InstallAnywhere</a> </em></span>product from ZeroG Software, Inc. (<a href="http://zerog.com" target="_top">http://zerog.com</a>) </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Appendix A: Old Annotation Server Format"/>Appendix A: Old Annotation Server Format</h2></div></div></div><p>Handler for the following format still exist in Cytoscape as a legacy code, however we <span class="emphasis"><em><span class="strong"><strong>strongly</strong></span></em></span> recommend using the new formats (OBO + Gene Association) described in the previous section, since they are easier to download directly from the Gene Ontology project and use directly.  Currently, users have no access to import UI for this old format.  </p><p/><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Building your own annotation files"/>Building your own annotation files</h3></div></div></div><p>The annotation server requires that the gene annotations, and associated ontology on controlled vocabulary terms, follow a simple format. This simple format was chosen because it is efficient to parse and easy to use. </p><p>The flat file formats are explained below: </p><p/><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="The Ontology Format"/>The Ontology Format</h4></div></div></div><p>By example (the Gene Ontology - GO): </p><p/><pre class="screen">(curator=GO) (type=all)
0003673 = Gene_Ontology
0003674 = molecular_function [partof: 0003673 ]
0008435 = anticoagulant [isa: 0003674 ]
0016172 = antifreeze [isa: 0003674 ]
0016173 = ice nucleation inhibitor [isa: 0016172 ]
0016209 = antioxidant [isa: 0003674 ]
0045174 = glutathione dehydrogenase (ascorbate) [isa: 0009491 0015038 0016209 0016672 ]
0004362 = glutathione reductase (NADPH) [isa: 0015038 0015933 0016209 0016654 ]
0017019 = myosin phosphatase catalyst [partof: 0017018 ]
...
</pre><p>A second example (KEGG pathway ontology): </p><p/><pre class="screen">(curator=KEGG) (type=Metabolic Pathways)
90001 = Metabolism
80001 = Carbohydrate Metabolism [isa: 90001 ]
80003 = Lipid Metabolism [isa: 90001 ]
80002 = Energy Metabolism [isa: 90001 ]
80004 = Nucleotide Metabolism [isa: 90001 ]
80005 = Amino Acid Metabolism [isa: 90001 ]
80006 = Metabolism of Other Amino Acids [isa: 90001 ]
80007 = Metabolism of Complex Carbohydrates [isa: 90001 ]
...
</pre><p>The format has three required features: </p><div class="orderedlist"><ol type="1"><li><p>The first line contains two parenthesized assignments, for <span class="emphasis"><em>curator</em></span> and <span class="emphasis"><em>type</em></span>. In the GO example above, the ontology file (which is created from the XML GO provides) nests all three specific ontologies (molecular function, biological process, cellular component) below the 'root' ontology, named 'Gene_Ontology'. </p></li></ol></div><p/><pre class="screen">(type=all)
</pre><p>tells you that all three ontologies are included in that file. </p><div class="orderedlist"><ol type="1"><li>Following the mandatory title line, there are one or more category lines, each with the form: </li></ol></div><p/><pre class="screen">number0 = name [isa:|partof: number1 number2 ...]
</pre><p>'isa' and 'partof' are terms used in GO; they describe the relation between parent and child terms in the ontology hierarchy. </p><div class="orderedlist"><ol type="1"><li><p>The trailing blank before each left square bracket is <span class="emphasis"><em>not</em></span> required; it is an artifact of the python script that creates these files. </p></li></ol></div><p/></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="The Annotation Format"/>The Annotation Format</h4></div></div></div><p>By example (from the GO biological process annotation file): </p><p/><pre class="screen">(species=Saccharomyces cerevisiae) (type=Biological Process) (curator=GO)
YMR056C = 0006854
YBR085W = 0006854
YJR155W = 0006081
...
</pre><p>and from KEGG: </p><p/><pre class="screen">(species=Mycobacterium tuberculosis) (type=Metabolic Pathways) (curator=KEGG)
RV0761C = 10
RV0761C = 71
RV0761C = 120
RV0761C = 350
RV0761C = 561
RV1862 = 10
...
</pre><p>The format has these required features: </p><div class="orderedlist"><ol type="1"><li><p>The first line contains three parenthesized assignments, for <span class="emphasis"><em>species</em></span>, <span class="emphasis"><em>type</em></span> and <span class="emphasis"><em>curator</em></span>. In the example just above, the annotation file (which we create for budding yeast from the flat text file maintained by SGD for the Gene Ontology project, and available both at their web site and at GO's) shows three yeast ORFs annotated for biological process, with respect to GO, described (further above). </p></li><li>Following the mandatory title line, there are one or more annotation lines, each with the form: </li></ol></div><p/><pre class="screen">canonicalName = ontologyTermID
</pre><div class="orderedlist"><ol type="1"><li><p>Once loaded, this annotation (along with the accompanying ontology) can be assigned to nodes in a Cytoscape network. <span class="strong"><strong>For this to work, the species type of the node must exactly match the species named on the first line of the annotation file. The canonicalName of your node must exactly match the canonicalName present in the annotation file.</strong></span> If you don’t see the expected results when using this feature of Cytoscape, check this again, as getting either of these wrong is a common mistake. </p></li></ol></div><p/></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Load Data into Cytoscape"/>Load Data into Cytoscape</h3></div></div></div><p>The easiest way to make annotations available to Cytoscape is by loading annotations into the Cytoscape annotation server. This is the default behavior for the official release of Cytoscape. </p><p/><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="The Annotation Manifest"/>The Annotation Manifest</h4></div></div></div><p>You must first create a text file to specify the files you want Cytoscape to load. Here is an example, from a file which (for convenience) we usually call <span class="strong"><strong>“manifest”</strong></span> </p><p/><pre class="screen">ontology=goOntology.txt
annotation=yeastBiologicalProcess.txt
annotation=yeastMolecularFunction.txt
annotation=yeastCellularComponent.txt
</pre><p>Use the Cytoscape <span class="emphasis"><em><span class="strong"><strong>-b</strong></span></em></span> command line argument to specify the annotation manifest file to read (e.g. -b manifest). Please note that the <span class="strong"><strong>-s</strong></span> switch, which sets the default species for your data is required to exactly match the species named in any annotation file you wish to use. </p><p/></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="Getting and Reformatting GO Data"/>Getting and Reformatting GO Data</h3></div></div></div><p>The Gene Ontology (GO) project is a valuable source of annotation for the genes of many organisms. In this section we will explain how to: </p><div class="orderedlist"><ol type="1"><li>Obtain the GO ontology file </li><li>Reformat it into the simpler flat file Cytoscape uses </li><li>Obtain an annotation file (we illustrate with yeast and human annotation) </li><li>Reformat the annotation files into the simple Cytoscape format </li></ol></div><p><span class="strong"><strong>Obtain the GO ontology file</strong></span> Go to the GO XML FTP (<a href="ftp://ftp.geneontology.org/pub/go/xml/" target="_top">ftp://ftp.geneontology.org/pub/go/xml/</a>) page. Download the latest <span class="strong"><strong>go-YYYYMM-termdb.xml.gz</strong></span> file. </p><p><span class="strong"><strong>Reformat GO XML ontology file into a flat file</strong></span> </p><p/><pre class="screen"> gunzip go-YYYYMM-termdb.xml.gz
 python parseGoTermsToFlatFile.py go-YYYYMM-termdb.xml &gt; goOntology.txt
</pre><p>(See below for Python script listing) </p><p><span class="strong"><strong>Obtain the 'association' file for your organism</strong></span> GO maintains a list of association files for many organisms; these files associate genes with GO terms. The next step is to get the file for the organism/s you are interested in, and parse it into the form Cytoscape needs. A list of files may be seen at <a href="http://www.geneontology.org/GO.current.annotations.shtml" target="_top">http://www.geneontology.org/GO.current.annotations.shtml</a>. The rightmost column contains links to tab-delimited files of gene associations, by species. Choose the species you are interested in, and click 'Download'. </p><p>Let's use <span class="strong"><strong>'GO Annotations @ EBI</strong></span> Human' as an example. After you have downloaded and saved the file, look at the first few lines: </p><p/><pre class="screen">SPTR    O00115  DRN2_HUMAN              GO:0003677      PUBMED:9714827  TAS             F       Deoxyribonuclease II precursor  IPI00010348     protein taxon:9606              SPTR
SPTR    O00115  DRN2_HUMAN              GO:0004519      GOA:spkw        IEA             F       Deoxyribonuclease II precursor  IPI00010348     protein taxon:9606        20020425      SPTR
SPTR    O00115  DRN2_HUMAN              GO:0004531      PUBMED:9714827  TAS             F       Deoxyribonuclease II precursor  IPI00010348     protein taxon:9606              SPTR
...
</pre><p>Note that line wrapping has occurred here, so each line of the actual file is wrapped to two lines. The goal is to create from these lines the following lines: </p><p/><pre class="screen">(species=Homo sapiens) (type=Molecular Function) (curator=GO)
IPI00010348 = 0003677
IPI00010348 = 0004519
IPI00010348 = 0004531
...
</pre><p>or </p><p/><pre class="screen">(species=Homo sapiens) (type=Biological Process) (curator=GO)
NP_001366 = 0006259
NP_001366 = 0006915
NP_005289 = 0007186
NP_647593 = 0006899
...
</pre><p>The first sample contains molecular function annotation for proteins, and each protein is identified by its IPI number. IPI is the International Protein Index, which maintains cross references to the main databases for human, mouse and rat proteomes.  The second sample contains biological process annotation, and each protein is identified by its NP (<a href="http://cytoscape.org/cgi-bin/moin.cgi/RefSeq" target="_top">RefSeq</a>) number.  These two naming systems, IPI and <a href="http://cytoscape.org/cgi-bin/moin.cgi/RefSeq" target="_top">RefSeq</a>, are two of many that you can use for canonical names when you run Cytoscape. For budding yeast, it is much easier: the yeast community always uses standard ORF names, and so Cytoscape uses these as canonical names. For human proteins and genes, there is no such single simple standard. See section <span class="emphasis"><em>5. Building and Storing Interaction Networks</em></span> for more information. </p><p>The solution (for those working with human genes or proteins) is, once you have downloaded the annotations file, to: </p><div class="orderedlist"><ol type="1"><li>Decide which naming system you want to use. </li><li><p>Download <a href="ftp://ftp.ebi.ac.uk/pub/databases/GO/goa/HUMAN/xrefs.goa" target="_top">ftp://ftp.ebi.ac.uk/pub/databases/GO/goa/HUMAN/xrefs.goa</a>. This cross-reference file, when used strategically, allows you to create Cytoscape-compatible annotation files in which the canonical name is the one most meaningful to you. </p></li><li><p>Examine <span class="emphasis"><em><span class="strong"><strong>xrefs.goa</strong></span></em></span> to figure out which column contains the names you wish to use. </p></li><li>Make a very slight modification to the python script described below, and then </li><li>Run that script, supplying both xrefs.goa and that annotation file as arguments. </li></ol></div><p>Here are a few sample lines from <span class="emphasis"><em><span class="strong"><strong>xrefs.goa</strong></span></em></span>: </p><p/><pre class="screen">SP      O00115  IPI00010348             ENSP00000222219;        NP_001366;              BAA28623;AAC77366;AAC35751;AAC39852;BAB55598;AAB51172;AAH10419; 2960,DNASE2     1777,DNASE2
SP      O00116  IPI00010349             ENSP00000324567;ENSP00000264167;        NP_003650;              CAA70591;       327,AGPS        8540,AGPS
SP      O00124  IPI00010353             ENSP00000265616;ENSP00000322580;        NP_005662;              BAA18958;BAA18959;AAH20694;             7993,D8S2298E
...
</pre><p>Note that line wrapping has occurred here – each line in this example starts with the letters SP. See the README file for more information (<a href="ftp://ftp.ebi.ac.uk/pub/databases/GO/goa/HUMAN/README" target="_top">ftp://ftp.ebi.ac.uk/pub/databases/GO/goa/HUMAN/README</a>) </p><p>Finally, run the script to create your three annotation files for human proteins: </p><div class="itemizedlist"><ul type="disc"><li><p><span class="strong"><strong>bioproc.anno</strong></span> (GO biological process annotation) </p></li><li><p><span class="strong"><strong>molfunc.anno</strong></span> (GO molecular function annotation) </p></li><li><p><span class="strong"><strong>cellcomp.anno</strong></span> (GO cellular component annotation) </p></li></ul></div><p>using the supplied python script. It may be necessary to modify this script slightly if <a href="http://cytoscape.org/cgi-bin/moin.cgi/RefSeq" target="_top">RefSeq</a> identifiers are not used as canonical names or if you are using a more recent version of Python. </p><p/><pre class="screen">python parseAssignmentsToFlatFileFromGoaProject.py gene_association.goa_human xrefs.goa
</pre><p>(See below for Python script listing) </p><p><span class="strong"><strong>Python script examples:</strong></span> These scripts, described above require Python version 2.2 or later. </p><p>Script 1 - parseGoTermsToFlatFile.py </p><p/><pre class="screen">
# parseGoTermToFlatFile.py:  translate a GO XML ontology file into a simpler
#  Cytoscape flat file
#-----------------------------------------------------------------------------------
# RCS: $Revision: 1.3 $   $Date: 2003/05/18 00:38:43 $
#-----------------------------------------------------------------------------------
import re, pre, sys
#-----------------------------------------------------------------------------------
def flatFilePrint (id, name, isaIDs, partofIDs):
  isa = ''
  if (len (isaIDs) &gt; 0):
    isa = '[isa: '
    for isaID in isaIDs:
      isa += isaID
      isa += ' '
    isa += ']'
  partof = ''
  if (len (partofIDs) &gt; 0):
    partof = '[partof: '
    for partofID in partofIDs:
      partof += partofID
      partof += ' '
    partof += ']'
  result = '~np~%~/np~s = ~np~%~/np~s ~np~%~/np~s ~np~%~/np~s' ~np~%~/np~ (id, name, isa, partof)
  result = result.strip ()
  if (result == 'isa = isa' or result == 'partof = partof'):
    print &gt;&gt; sys.stderr, 'meaningless term: ~np~%~/np~s' ~np~%~/np~ result
  else:
    print result
#-----------------------------------------------------------------------------------
if (len (sys.argv) != 2):
  print 'usage:  ~np~%~/np~s &lt;someFile.xml&gt;' ~np~%~/np~ sys.argv [0]
  sys.exit ();
inputFilename = sys.argv [1];
print &gt;&gt; sys.stderr,  'reading ~np~%~/np~s...' ~np~%~/np~ inputFilename
text = open (inputFilename).read ()
print &gt;&gt; sys.stderr,  'read ~np~%~/np~d characters' ~np~%~/np~ len (text)
regex = '&lt;go:term .*?&gt;(.*?)&lt;/go:term&gt;';
cregex = pre.compile (regex, re.DOTALL)   # . matches newlines
m = pre.findall (cregex, text)
print &gt;&gt; sys.stderr, 'number of go terms: ~np~%~/np~d' ~np~%~/np~ len (m)
regex2 = '&lt;go:accession&gt;GO:(.*?)&lt;/go:accession&gt;.*?&lt;go:name&gt;(.*?)&lt;/go:name&gt;'
cregex2 = re.compile (regex2, re.DOTALL)
regex3 = '&lt;go:isa\s*rdf:resource="http://www.geneontology.org/go#GO:(.*?)"\s*/&gt;'
cregex3 = re.compile (regex3, re.DOTALL)
regex4 = '&lt;go:part-of\s*rdf:resource="http://www.geneontology.org/go#GO:(.*?)"\s*/&gt;'
cregex4 = re.compile (regex4, re.DOTALL)
goodElements = 0
badElements = 0
print '(curator=GO) (type=all)'
for term in m:
  m2 = re.search (cregex2, term)
  if (m2):
    goodElements += 1;
    id = m2.group (1)
    name = m2.group (2)
    isaIDs = []
    m3 = re.findall (cregex3, term);
    for ref in m3:
      isaIDs.append (ref)
    m4 = re.findall (cregex4, term);
    partofIDs = []
    for ref in m4:
      partofIDs.append (ref)
    flatFilePrint (id, name, isaIDs, partofIDs)
  else:
    badElements += 1;
    print &gt;&gt; sys.stderr, 'no match to m2...'
    print &gt;&gt; sys.stderr, "---------------\n~np~%~/np~s\n------------------" ~np~%~/np~ term
print &gt;&gt; sys.stderr,  'goodElements ~np~%~/np~d' ~np~%~/np~ goodElements
print &gt;&gt; sys.stderr, 'badElements ~np~%~/np~d' ~np~%~/np~ badElements
#--------------------------------------
</pre><p>Script 1 - parseAssignmentsToFlatFileFromGoaProject.py </p><p/><pre class="screen">
import sys
#-----------------------------------------------------------------------------------
def fixCanonicalName (rawName):
# for instance, trim 'YBR085W|ANC3' to 'YBR085W'
  bar = rawName.find ('|')
  if (bar &lt; 0):
    return rawName
  return rawName [:bar]
#-----------------------------------------------------------------------------------
def fixGoID (rawID):
  bar = rawID.find (':') + 1
  return rawID [bar:]
#-----------------------------------------------------------------------------------
def readGoaXrefFile (filename):
  lines = open (filename).read().split ('\n')
  result = {}
  for line in lines:
    if (len (line) &lt; 10):
      continue
    tokens = line.split ('\t')
    ipi = tokens [2]
    np = tokens [5]
    semicolon = np.find (';')
    if (semicolon &gt;= 0):
      np = np [:semicolon]
    if (len (ipi) &gt; 0 and len (np) &gt; 0):
      result [ipi] = np
  return result
#-----------------------------------------------------------------------------------
if (len (sys.argv) != 3):
  print 'error!  parse   &lt;gene_associations file from GO&gt; &lt;goa xrefs file&gt; '
  sys.exit ()
associationFilename = sys.argv [1];
xrefsFilename = sys.argv [2]
species = 'Homo sapiens'
ipiToNPHash = readGoaXrefFile (xrefsFilename)
tester = 'IPI00099416'
print 'hash size: ~np~%~/np~d' ~np~%~/np~ len (ipiToNPHash)
print 'test map: ~np~%~/np~s -&gt; NP_054861: ~np~%~/np~s ' ~np~%~/np~ (tester, ipiToNPHash [tester])
bioproc = open ('bioproc.txt', 'w')
molfunc = open ('molfunc.txt', 'w')
cellcomp = open ('cellcomp.txt', 'w')
bioproc.write ('(species=~np~%~/np~s) (type=Biological Process) (curator=GO)\n' ~np~%~/np~ species)
molfunc.write ('(species=~np~%~/np~s) (type=Molecular Function) (curator=GO)\n' ~np~%~/np~ species);
cellcomp.write ('(species=~np~%~/np~s) (type=Cellular Component) (curator=GO)\n' ~np~%~/np~ species);
lines=open(associationFilename).read().split('\n')
sys.stderr.write ('found ~np~%~/np~d lines\n' ~np~%~/np~ len (lines))

for line in lines:
  if (line.find ('!') == 0 or len (line) &lt; 2):
    continue
  tokens = line.split ('\t')
  goOntology = tokens [8]
  goIDraw = tokens [4]
  goID = goIDraw.split (':')[1]
  ipiName = fixCanonicalName (tokens [10])
  if (len (ipiName) &lt; 1):
    continue


  if (not ipiToNPHash.has_key (ipiName)):
    continue
  refseqName = ipiToNPHash [ipiName]
  printName = refseqName
  #printName = ipiName
  if (ipiName == tester):
    print '~np~%~/np~s (~np~%~/np~s) has go term ~np~%~/np~s' ~np~%~/np~ (tester, printName, goID)
  if (goOntology == 'C'):
    cellcomp.write ('~np~%~/np~s = ~np~%~/np~s\n' ~np~%~/np~ (printName, goID))
  elif (goOntology == 'P'):
    bioproc.write ('~np~%~/np~s = ~np~%~/np~s\n' ~np~%~/np~ (printName, goID))
  elif (goOntology == 'F'):
    molfunc.write ('~np~%~/np~s = ~np~%~/np~s\n' ~np~%~/np~ (printName, goID))
#-----------------------------------------------------------------------------------
</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Appendix B: GNU Lesser General Public License"/>Appendix B: GNU Lesser General Public License</h2></div></div></div><p>GNU LESSER GENERAL PUBLIC LICENSE </p><div class="itemizedlist"><ul type="disc"><li>Version 2.1, February 1999 Copyright (C) 1991, 1999 Free Software Foundation, Inc. 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA Everyone is permitted to copy and distribute verbatim copies of this license document, but changing it is not allowed. [This is the first released version of the Lesser GPL.  It also counts as the successor of the GNU Library Public License, version 2, hence the version number 2.1.] </li></ul></div><p>Preamble </p><p>The licenses for most software are designed to take away your freedom to share and change it.  By contrast, the GNU General Public Licenses are intended to guarantee your freedom to share and change free software--to make sure the software is free for all its users. </p><p>This license, the Lesser General Public License, applies to some specially designated software packages--typically libraries--of the Free Software Foundation and other authors who decide to use it.  You can use it too, but we suggest you first think carefully about whether this license or the ordinary General Public License is the better strategy to use in any particular case, based on the explanations below. </p><p>When we speak of free software, we are referring to freedom of use, not price.  Our General Public Licenses are designed to make sure that you have the freedom to distribute copies of free software (and charge for this service if you wish); that you receive source code or can get it if you want it; that you can change the software and use pieces of it in new free programs; and that you are informed that you can do these things. </p><p>To protect your rights, we need to make restrictions that forbid distributors to deny you these rights or to ask you to surrender these rights.  These restrictions translate to certain responsibilities for you if you distribute copies of the library or if you modify it. </p><p>For example, if you distribute copies of the library, whether gratis or for a fee, you must give the recipients all the rights that we gave you.  You must make sure that they, too, receive or can get the source code.  If you link other code with the library, you must provide complete object files to the recipients, so that they can relink them with the library after making changes to the library and recompiling it.  And you must show them these terms so they know their rights. </p><p>We protect your rights with a two-step method: (1) we copyright the library, and (2) we offer you this license, which gives you legal permission to copy, distribute and/or modify the library. </p><p>To protect each distributor, we want to make it very clear that there is no warranty for the free library.  Also, if the library is modified by someone else and passed on, the recipients should know that what they have is not the original version, so that the original author's reputation will not be affected by problems that might be introduced by others. </p><p>Finally, software patents pose a constant threat to the existence of any free program.  We wish to make sure that a company cannot effectively restrict the users of a free program by obtaining a restrictive license from a patent holder.  Therefore, we insist that any patent license obtained for a version of the library must be consistent with the full freedom of use specified in this license. </p><p>Most GNU software, including some libraries, is covered by the ordinary GNU General Public License.  This license, the GNU Lesser General Public License, applies to certain designated libraries, and is quite different from the ordinary General Public License.  We use this license for certain libraries in order to permit linking those libraries into non-free programs. </p><p>When a program is linked with a library, whether statically or using a shared library, the combination of the two is legally speaking a combined work, a derivative of the original library.  The ordinary General Public License therefore permits such linking only if the entire combination fits its criteria of freedom.  The Lesser General  Public License permits more lax criteria for linking other code with  the library.    We call this license the "Lesser" General Public License  because it does Less to protect the user's freedom than the ordinary  General Public License.  It also provides other free software  developers Less of an advantage over competing non-free programs.   These disadvantages are the reason we use the ordinary General Public  License for many libraries.  However, the Lesser license provides  advantages in certain special circumstances.    For example, on rare  occasions, there may be a special need to encourage the widest possible  use of a certain library, so that it becomes a de-facto standard.  To  achieve this, non-free programs must be allowed to use the library.   A more frequent case is that a free library does the same job as widely  used non-free libraries.  In this case, there is little to gain by limiting the  free library to free software only, so we use the Lesser General Public  License.    In other cases, permission to use a particular library in  non-free programs enables a greater number of people to use a large body  of free software.  For example, permission to use the GNU C Library in  non-free programs enables many more people to use the whole GNU  operating system, as well as its variant, the GNU/Linux operating system.     Although the Lesser General Public License is Less protective of the users'  freedom, it does ensure that the user of a program that is linked with the  Library has the freedom and the wherewithal to run that program using a  modified version of the Library.    The precise terms and conditions for  copying, distribution and modification follow.  Pay close attention to the  difference between a "work based on the library" and a "work that uses  the library".  The former contains code derived from the library, whereas  the latter must be combined with the library in order to run.      </p><p>GNU LESSER GENERAL PUBLIC LICENSE    TERMS AND  CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION     </p><p>0. This License Agreement applies to any software library or other program  which contains a notice placed by the copyright holder or other authorized  party saying it may be distributed under the terms of this Lesser General  Public License (also called "this License"). Each licensee is addressed  as "you".    A "library" means a collection of software functions and/or  data prepared so as to be conveniently linked with application programs  (which use some of those functions and data) to form executables.     The "Library", below, refers to any such software library or work  which has been distributed under these terms.  A "work based on the  Library" means either the Library or any derivative work under copyright  law: that is to say, a work containing the Library or a portion of it, either  verbatim or with modifications and/or translated straightforwardly into  another language.  (Hereinafter, translation is included without limitation  in the term "modification".)    "Source code" for a work means the preferred  form of the work for making modifications to it.  For a library, complete  source code means all the source code for all modules it contains, plus any  associated interface definition files, plus the scripts used to control  compilation and installation of the library.    Activities other than copying,  distribution and modification are not covered by this License; they are  outside its scope.  The act of running a program using the Library is not  restricted, and output from such a program is covered only if its contents  constitute a work based on the Library (independent of the use of the  Library in a tool for writing it).  Whether that is true depends on what  the Library does and what the program that uses the Library does.       </p><p>1. You may copy and distribute verbatim copies of the Library's complete  source code as you receive it, in any medium, provided that you  conspicuously and appropriately publish on each copy an appropriate  copyright notice and disclaimer of warranty; keep intact all the notices  that refer to this License and to the absence of any warranty; and distribute a copy of this License along with the Library. </p><p>You may charge a fee for the physical act of transferring a copy, and you may at your option offer warranty protection in exchange for a fee. </p><p>2. You may modify your copy or copies of the Library or any portion of it, thus forming a work based on the Library, and copy and distribute such modifications or work under the terms of Section 1 above, provided that you also meet all of these conditions: </p><p>a) The modified work must itself be a software library. </p><p>b) You must cause the files modified to carry prominent notices stating that you changed the files and the date of any change. </p><p>c) You must cause the whole of the work to be licensed at no charge to all third parties under the terms of this License. </p><p>d) If a facility in the modified Library refers to a function or a table of data to be supplied by an application program that uses the facility, other than as an argument passed when the facility is invoked, then you must make a good faith effort to ensure that, in the event an application does not supply such function or table, the facility still operates, and performs whatever part of its purpose remains meaningful. (For example, a function in a library to compute square roots has a purpose that is entirely well-defined independent of the application.  Therefore, Subsection 2d requires that any application-supplied function or table used by this function must be optional: if the application does not supply it, the square root function must still compute square roots.) </p><p>These requirements apply to the modified work as a whole.  If identifiable sections of that work are not derived from the Library, and can be reasonably considered independent and separate works in themselves, then this License, and its terms, do not apply to those sections when you distribute them as separate works.  But when you distribute the same sections as part of a whole which is a work based on the Library, the distribution of the whole must be on the terms of this License, whose permissions for other licensees extend to the entire whole, and thus to each and every part regardless of who wrote it. </p><p>Thus, it is not the intent of this section to claim rights or contest your rights to work written entirely by you; rather, the intent is to exercise the right to control the distribution of derivative or collective works based on the Library. In addition, mere aggregation of another work not based on the Library with the Library (or with a work based on the Library) on a volume of a storage or distribution medium does not bring the other work under the scope of this License. </p><p>3. You may opt to apply the terms of the ordinary GNU General Public License instead of this License to a given copy of the Library.  To do this, you must alter all the notices that refer to this License, so that they refer to the ordinary GNU General Public License, version 2, instead of to this License.  (If a newer version than version 2 of the ordinary GNU General Public License has appeared, then you can specify that version instead if you wish.)  Do not make any other change in these notices. </p><p>Once this change is made in a given copy, it is irreversible for that copy, so the ordinary GNU General Public License applies to all subsequent copies and derivative works made from that copy. </p><p>This option is useful when you wish to copy part of the code of the Library into a program that is not a library. </p><p>4. You may copy and distribute the Library (or a portion or derivative of it, under Section 2) in object code or executable form under the terms of Sections 1 and 2 above provided that you accompany it with the complete corresponding machine-readable source code, which must be distributed under the terms of Sections 1 and 2 above on a medium customarily used for software interchange. </p><p>If distribution of object code is made by offering access to copy from a designated place, then offering equivalent access to copy the source code from the same place satisfies the requirement to distribute the source code, even though third parties are not compelled to copy the source along with the object code. </p><p>5. A program that contains no derivative of any portion of the Library, but is designed to work with the Library by being compiled or linked with it, is called a "work that uses the Library".  Such a work, in isolation, is not a derivative work of the Library, and therefore falls outside the scope of this License. </p><p>However, linking a "work that uses the Library" with the Library creates an executable that is a derivative of the Library (because it contains portions of the Library), rather than a "work that uses the library".  The executable is therefore covered by this License. Section 6 states terms for distribution of such executables. </p><p>When a "work that uses the Library" uses material from a header file that is part of the Library, the object code for the work may be a derivative work of the Library even though the source code is not. Whether this is true is especially significant if the work can be linked without the Library, or if the work is itself a library.  The threshold for this to be true is not precisely defined by law. </p><p>If such an object file uses only numerical parameters, data structure layouts and accessors, and small macros and small inline functions (ten lines or less in length), then the use of the object file is unrestricted, regardless of whether it is legally a derivative work.  (Executables containing this object code plus portions of the Library will still fall under Section 6.) </p><p>Otherwise, if the work is a derivative of the Library, you may distribute the object code for the work under the terms of Section 6. Any executables containing that work also fall under Section 6, whether or not they are linked directly with the Library itself. </p><p>6. As an exception to the Sections above, you may also combine or link a "work that uses the Library" with the Library to produce a work containing portions of the Library, and distribute that work under terms of your choice, provided that the terms permit modification of the work for the customer's own use and reverse engineering for debugging such modifications. </p><p>You must give prominent notice with each copy of the work that the Library is used in it and that the Library and its use are covered by this License.  You must supply a copy of this License.  If the work during execution displays copyright notices, you must include the copyright notice for the Library among them, as well as a reference directing the user to the copy of this License.  Also, you must do one of these things: </p><p>a) Accompany the work with the complete corresponding machine-readable source code for the Library including whatever changes were used in the work (which must be distributed under Sections 1 and 2 above); and, if the work is an executable linked with the Library, with the complete machine-readable "work that uses the Library", as object code and/or source code, so that the user can modify the Library and then relink to produce a modified executable containing the modified Library.  (It is understood that the user who changes the contents of definitions files in the Library will not necessarily be able to recompile the application to use the modified definitions.) </p><p>b) Use a suitable shared library mechanism for linking with the Library.  A suitable mechanism is one that (1) uses at run time a copy of the library already present on the user's computer system, rather than copying library functions into the executable, and (2) will operate properly with a modified version of the library, if the user installs one, as long as the modified version is interface-compatible with the version that the work was made with. </p><p>c) Accompany the work with a written offer, valid for at least three years, to give the same user the materials specified in Subsection 6a, above, for a charge no more than the cost of performing this distribution. </p><p>d) If distribution of the work is made by offering access to copy from a designated place, offer equivalent access to copy the above specified materials from the same place. </p><p>e) Verify that the user has already received a copy of these materials or that you have already sent this user a copy. </p><p>For an executable, the required form of the "work that uses the Library" must include any data and utility programs needed for reproducing the executable from it.  However, as a special exception, the materials to be distributed need not include anything that is normally distributed (in either source or binary form) with the major components (compiler, kernel, and so on) of the operating system on which the executable runs, unless that component itself accompanies the executable. </p><p>It may happen that this requirement contradicts the license restrictions of other proprietary libraries that do not normally accompany the operating system.  Such a contradiction means you cannot use both them and the Library together in an executable that you distribute. </p><p>7. You may place library facilities that are a work based on the Library side-by-side in a single library together with other library facilities not covered by this License, and distribute such a combined library, provided that the separate distribution of the work based on the Library and of the other library facilities is otherwise permitted, and provided that you do these two things: </p><p>a) Accompany the combined library with a copy of the same work based on the Library, uncombined with any other library facilities.  This must be distributed under the terms of the Sections above. </p><p>b) Give prominent notice with the combined library of the fact that part of it is a work based on the Library, and explaining where to find the accompanying uncombined form of the same work. </p><p>8. You may not copy, modify, sublicense, link with, or distribute the Library except as expressly provided under this License.  Any attempt otherwise to copy, modify, sublicense, link with, or distribute the Library is void, and will automatically terminate your rights under this License.  However, parties who have received copies, or rights, from you under this License will not have their licenses terminated so long as such parties remain in full compliance. </p><p>9. You are not required to accept this License, since you have not signed it.  However, nothing else grants you permission to modify or distribute the Library or its derivative works.  These actions are prohibited by law if you do not accept this License.  Therefore, by modifying or distributing the Library (or any work based on the Library), you indicate your acceptance of this License to do so, and all its terms and conditions for copying, distributing or modifying the Library or works based on it. </p><p>10. Each time you redistribute the Library (or any work based on the Library), the recipient automatically receives a license from the original licensor to copy, distribute, link with or modify the Library subject to these terms and conditions.  You may not impose any further restrictions on the recipients' exercise of the rights granted herein. You are not responsible for enforcing compliance by third parties with this License. </p><p>11. If, as a consequence of a court judgment or allegation of patent infringement or for any other reason (not limited to patent issues), conditions are imposed on you (whether by court order, agreement or otherwise) that contradict the conditions of this License, they do not excuse you from the conditions of this License.  If you cannot distribute so as to satisfy simultaneously your obligations under this License and any other pertinent obligations, then as a consequence you may not distribute the Library at all.  For example, if a patent license would not permit royalty-free redistribution of the Library by all those who receive copies directly or indirectly through you, then the only way you could satisfy both it and this License would be to refrain entirely from distribution of the Library. If any portion of this section is held invalid or unenforceable under any particular circumstance, the balance of the section is intended to apply, and the section as a whole is intended to apply in other circumstances. It is not the purpose of this section to induce you to infringe any patents or other property right claims or to contest validity of any such claims; this section has the sole purpose of protecting the integrity of the free software distribution system which is implemented by public license practices.  Many people have made generous contributions to the wide range of software distributed through that system in reliance on consistent application of that system; it is up to the author/donor to decide if he or she is willing to distribute software through any other system and a licensee cannot impose that choice. </p><p>This section is intended to make thoroughly clear what is believed to be a consequence of the rest of this License. </p><p>12. If the distribution and/or use of the Library is restricted in certain countries either by patents or by copyrighted interfaces, the original copyright holder who places the Library under this License may add an explicit geographical distribution limitation excluding those countries, so that distribution is permitted only in or among countries not thus excluded.  In such case, this License incorporates the limitation as if written in the body of this License. </p><p>13. The Free Software Foundation may publish revised and/or new versions of the Lesser General Public License from time to time. Such new versions will be similar in spirit to the present version, but may differ in detail to address new problems or concerns. Each version is given a distinguishing version number.  If the Library specifies a version number of this License which applies to it and "any later version", you have the option of following the terms and conditions either of that version or of any later version published by the Free Software Foundation.  If the Library does not specify a license version number, you may choose any version ever published by the Free Software Foundation. </p><p>14. If you wish to incorporate parts of the Library into other free programs whose distribution conditions are incompatible with these, write to the author to ask for permission.  For software which is copyrighted by the Free Software Foundation, write to the Free Software Foundation; we sometimes make exceptions for this.  Our decision will be guided by the two goals of preserving the free status of all derivatives of our free software and of promoting the sharing and reuse of software generally. </p><p>NO WARRANTY </p><p>15. BECAUSE THE LIBRARY IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY FOR THE LIBRARY, TO THE EXTENT PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES PROVIDE THE LIBRARY "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE LIBRARY IS WITH YOU.  SHOULD THE LIBRARY PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION. </p><p>16. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR REDISTRIBUTE THE LIBRARY AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE LIBRARY (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE LIBRARY TO OPERATE WITH ANY OTHER SOFTWARE), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. </p><p>END OF TERMS AND CONDITIONS </p></div></div></body></html>
package cytoscape.visual.ui;

import cytoscape.Cytoscape;

import cytoscape.visual.VisualPropertyType;

import org.jdesktop.swingx.JXPanel;

import java.awt.Color;
import java.awt.Dimension;
import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;
import java.awt.event.MouseMotionListener;

import javax.swing.JPanel;


/**
 * DOCUMENT ME!
 *
 * @author $author$
  */
public class GradientMapperEditorPanel extends JXPanel {
    /** Creates new form ContinuousMapperEditorPanel */
    public GradientMapperEditorPanel() {
        initComponents();
        setSlider();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */

    // <editor-fold defaultstate="collapsed" desc=" Generated Code ">
    private void initComponents() {
        jPanel2 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jButton1 = new javax.swing.JButton();
        jButton2 = new javax.swing.JButton();
        jButton3 = new javax.swing.JButton();
        jSpinner1 = new javax.swing.JSpinner();
        jPanel1 = new javax.swing.JPanel();

        jLabel3 = new javax.swing.JLabel();
        jLabel3.setText("Associated Visual Property: Node Shape");

        slider = new org.jdesktop.swingx.JXMultiThumbSlider();

        jLabel2 = new javax.swing.JLabel();
        jComboBox1 = new javax.swing.JComboBox();
        // iconPanel = new IconPanel();

        // iconPanel.setSize(100, 400);
        iconPanel = new JPanel();

        jPanel2.setBorder(
            javax.swing.BorderFactory.createTitledBorder(
                null,
                "Range Setting",
                javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION,
                javax.swing.border.TitledBorder.DEFAULT_POSITION,
                new java.awt.Font("SansSerif", 1, 12),
                new java.awt.Color(102, 102, 102)));
        jLabel1.setText("Pivot");

        jButton1.setText("Add");

        jButton2.setText("Delete");

        jButton3.setBackground(new java.awt.Color(255, 255, 255));
        jButton3.setText("Value");
        jButton3.setOpaque(false);

        org.jdesktop.layout.GroupLayout jPanel2Layout = new org.jdesktop.layout.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(
                org.jdesktop.layout.GroupLayout.LEADING).add(
                jPanel2Layout.createSequentialGroup().addContainerGap().add(
                    jPanel2Layout.createParallelGroup(
                        org.jdesktop.layout.GroupLayout.LEADING, false).add(jLabel1).add(jButton2,
                        org.jdesktop.layout.GroupLayout.DEFAULT_SIZE,
                        org.jdesktop.layout.GroupLayout.DEFAULT_SIZE,
                        Short.MAX_VALUE).add(jButton1,
                        org.jdesktop.layout.GroupLayout.DEFAULT_SIZE,
                        org.jdesktop.layout.GroupLayout.DEFAULT_SIZE,
                        Short.MAX_VALUE).add(jSpinner1)).addContainerGap(28,
                    Short.MAX_VALUE)));
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(
                org.jdesktop.layout.GroupLayout.LEADING).add(
                jPanel2Layout.createSequentialGroup().add(jLabel1).addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED).add(jSpinner1,
                    org.jdesktop.layout.GroupLayout.PREFERRED_SIZE,
                    org.jdesktop.layout.GroupLayout.DEFAULT_SIZE,
                    org.jdesktop.layout.GroupLayout.PREFERRED_SIZE).addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED).add(jButton1).addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED).add(jButton2).addContainerGap(235,
                    Short.MAX_VALUE)));

        jPanel1.setBorder(
            javax.swing.BorderFactory.createTitledBorder(
                null,
                "Range Editor",
                javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION,
                javax.swing.border.TitledBorder.DEFAULT_POSITION,
                new java.awt.Font("SansSerif", 1, 11)));
        slider.setMaximumValue(100.0F);

        org.jdesktop.layout.GroupLayout sliderLayout = new org.jdesktop.layout.GroupLayout(slider);
        slider.setLayout(sliderLayout);
        sliderLayout.setHorizontalGroup(
            sliderLayout.createParallelGroup(
                org.jdesktop.layout.GroupLayout.LEADING).add(0, 355,
                Short.MAX_VALUE));
        sliderLayout.setVerticalGroup(
            sliderLayout.createParallelGroup(
                org.jdesktop.layout.GroupLayout.LEADING).add(0, 100,
                Short.MAX_VALUE));

        jLabel2.setText("Attribute Name");

        jComboBox1.setModel(
            new javax.swing.DefaultComboBoxModel(
                new String[] { "gal3RG", "Item 2", "Item 3", "Item 4" }));

        org.jdesktop.layout.GroupLayout iconPanelLayout = new org.jdesktop.layout.GroupLayout(iconPanel);
        iconPanel.setLayout(iconPanelLayout);
        iconPanelLayout.setHorizontalGroup(
            iconPanelLayout.createParallelGroup(
                org.jdesktop.layout.GroupLayout.LEADING).add(0, 1,
                Short.MAX_VALUE));
        //		
        // iconPanelLayout.setHorizontalGroup(iconPanelLayout.createParallelGroup(
        // org.jdesktop.layout.GroupLayout.LEADING).add(0, 50,
        // Short.MAX_VALUE));
        iconPanelLayout.setVerticalGroup(
            iconPanelLayout.createParallelGroup(
                org.jdesktop.layout.GroupLayout.LEADING).add(0, 100,
                Short.MAX_VALUE));

        org.jdesktop.layout.GroupLayout jPanel1Layout = new org.jdesktop.layout.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(
                org.jdesktop.layout.GroupLayout.LEADING).add(
                jPanel1Layout.createSequentialGroup().add(
                    jPanel1Layout.createParallelGroup(
                        org.jdesktop.layout.GroupLayout.LEADING).add(
                        jPanel1Layout.createSequentialGroup().addContainerGap().add(jLabel2).addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED).add(jComboBox1,
                            0, 229, Short.MAX_VALUE).addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED).add(jLabel3)).add(
                        jPanel1Layout.createSequentialGroup().add(iconPanel,
                            org.jdesktop.layout.GroupLayout.PREFERRED_SIZE,
                            org.jdesktop.layout.GroupLayout.DEFAULT_SIZE,
                            org.jdesktop.layout.GroupLayout.PREFERRED_SIZE).addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED).add(slider,
                            org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 511,
                            Short.MAX_VALUE))).addContainerGap()));
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(
                org.jdesktop.layout.GroupLayout.LEADING).add(
                jPanel1Layout.createSequentialGroup().add(
                    jPanel1Layout.createParallelGroup(
                        org.jdesktop.layout.GroupLayout.BASELINE).add(jLabel2).add(jLabel3).add(jComboBox1,
                        org.jdesktop.layout.GroupLayout.PREFERRED_SIZE,
                        org.jdesktop.layout.GroupLayout.DEFAULT_SIZE,
                        org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)).addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED).add(
                    jPanel1Layout.createParallelGroup(
                        org.jdesktop.layout.GroupLayout.LEADING).add(
                        jPanel1Layout.createSequentialGroup().add(slider,
                            org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 100,
                            Short.MAX_VALUE).add(12, 12, 12)).add(iconPanel,
                        org.jdesktop.layout.GroupLayout.DEFAULT_SIZE,
                        org.jdesktop.layout.GroupLayout.DEFAULT_SIZE,
                        Short.MAX_VALUE))));

        org.jdesktop.layout.GroupLayout layout = new org.jdesktop.layout.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING).add(
                layout.createSequentialGroup().add(jPanel1,
                    org.jdesktop.layout.GroupLayout.DEFAULT_SIZE,
                    org.jdesktop.layout.GroupLayout.DEFAULT_SIZE,
                    Short.MAX_VALUE).addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED).add(jPanel2,
                    org.jdesktop.layout.GroupLayout.PREFERRED_SIZE,
                    org.jdesktop.layout.GroupLayout.DEFAULT_SIZE,
                    org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)));
        layout.setVerticalGroup(
            layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING).add(jPanel1,
                org.jdesktop.layout.GroupLayout.DEFAULT_SIZE,
                org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE).add(jPanel2,
                org.jdesktop.layout.GroupLayout.DEFAULT_SIZE,
                org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE));
    } // </editor-fold>

    // Variables declaration - do not modify
    // private IconPanel iconPanel;
    private JPanel iconPanel;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JComboBox jComboBox1;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JSpinner jSpinner1;
    private org.jdesktop.swingx.JXMultiThumbSlider slider;

    // End of variables declaration
    private void setSlider() {
        Dimension dim = new Dimension(600, 100);
        setPreferredSize(dim);
        setSize(dim);
        setMinimumSize(new Dimension(300, 80));
        slider.updateUI();

        slider.addMouseMotionListener(
            new MouseMotionListener() {
                public void mouseDragged(MouseEvent arg0) {
                }

                public void mouseMoved(MouseEvent arg0) {
                    //				slider.setToolTipText((((VizMapperTrackRenderer) slider
                    //						.getTrackRenderer())).getToolTipForCurrentLocation(arg0
                    //						.getX(), arg0.getY()));
                }
            });

        slider.addMouseListener(
            new MouseListener() {
                public void mouseClicked(MouseEvent e) {
                    //				Image icon = (Image) ((VizMapperTrackRenderer) slider
                    //						.getTrackRenderer()).getObjectInRange(e.getX(), e
                    //						.getY());
                    //				if (icon != null && e.getClickCount() == 2) {
                    //					JOptionPane.showMessageDialog(slider,
                    //							"Icon selection dialog will be displayed here.!",
                    //							"Select icon", JOptionPane.INFORMATION_MESSAGE);
                    //				}
                }

                public void mouseEntered(MouseEvent e) {
                    // TODO Auto-generated method stub
                }

                public void mouseExited(MouseEvent e) {
                    // TODO Auto-generated method stub
                }

                public void mousePressed(MouseEvent e) {
                    // TODO Auto-generated method stub
                }

                public void mouseReleased(MouseEvent e) {
                    // TODO Auto-generated method stub
                }
            });

        //		 slider.getModel().addThumb(10.0f, 15f);
        //		 slider.getModel().addThumb(20.0f, 50f);
        //		 slider.getModel().addThumb(40.0f, 100f);
        //		 slider.getModel().addThumb(80.0f, 75f);
        // slider.getModel().addThumb(15.0f, 15f);
        // slider.getModel().addThumb(25.0f, 55f);
        // slider.getModel().addThumb(45.0f, 90f);
        // slider.getModel().addThumb(85.0f, 45f);

        //        		slider.getModel().addThumb(10.0f, icon1);
        //        		slider.getModel().addThumb(20.0f, icon2);
        //        		slider.getModel().addThumb(40.0f, icon3);
        //        		slider.getModel().addThumb(80.0f, icon4);
        slider.getModel()
              .addThumb(10.0f, Color.red);
        slider.getModel()
              .addThumb(40.0f, Color.white);
        slider.getModel()
              .addThumb(80.0f, Color.green);

        TriangleThumbRenderer thumbRend = new TriangleThumbRenderer(slider);

        // IconTrackRenderer trackrend = new IconTrackRenderer(-5.2, 4.3);
        // ContinuousMapping mapping = (ContinuousMapping)
        // Cytoscape.getVisualMappingManager()
        // .getVisualStyle().getNodeAppearanceCalculator().getCalculator(
        // VisualPropertyType.NODE_SHAPE).getMapping(0);
        System.out.println("--------- VS = " +
            Cytoscape.getVisualMappingManager().getVisualStyle().getNodeAppearanceCalculator().getCalculator(VisualPropertyType.NODE_SHAPE) +
            " ----");

        CyGradientTrackRenderer gRend = new CyGradientTrackRenderer(-5.2, 4.3,
                Color.black, Color.blue);
        ContinuousTrackRenderer cRend = new ContinuousTrackRenderer(-3, 5);

        slider.setThumbRenderer(thumbRend);
        slider.setTrackRenderer(gRend);
    }
}
